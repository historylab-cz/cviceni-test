!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t,n){return t=a(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],a(e).constructor):t.apply(e,n))}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(c.push(i.value),c.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}var y=["previous-slide","previous-to-active-slide","active-slide","next-slide","visited-slide"];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=Object.assign({bubbles:!0},t);return new CustomEvent(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({detail:n},i))}function m(e,t,n,i){var r=h(t,n,i);e.dispatchEvent(r)}function b(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):"".concat(e.className," ").indexOf("".concat(t," "))>-1)}function g(e,t){var n=e,i=t;if(n&&i)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof i){i=i.split(" ");for(var r=0;r<n.length;r+=1){var o;if(n[r].classList)(o=n[r].classList).add.apply(o,f(i));else if(!b.apply(void 0,[n[r]].concat(f(i))))for(var a=0;a<i.length;a+=1)n[r].classes+=" ".concat(i[a])}}else console.log("Class argument must be string with spaces in between class names.")}function S(e,t){var n=e,i=t;if(n&&i)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof i){i=i.split(" ");for(var r=0;r<n.length;r+=1){var o;if(n[r].classList)(o=n[r].classList).remove.apply(o,f(i));else for(var a=0;a<i.length;a+=1)n[r].className=n[r].className.replace(new RegExp("\\b".concat(t[a],"\\b"),"g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var w=function(){return r((function e(){n(this,e),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("#header"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$exportSaveButton=document.querySelector('[data-save-button="submit"]'),this.$buttonFeedbacks=document.querySelectorAll("[data-feedback-button]"),this.nav={$prev:this.$cviceni.querySelectorAll('[data-nav-button="prev"]'),$next:this.$cviceni.querySelectorAll('[data-nav-button="next"]')},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide"),this.$initialSlide=this.$cviceni.querySelector("#slide-initial"),this.$exportSlide=this.$cviceni.querySelector("#slide-export"),this.$formToSend=this.$cviceni.querySelector("#form-to-send"),this.urlParams=new URL(document.location).searchParams,this.import=HISTORYLAB.import,this.isDone=!0===this.import.done,this.isExhibition=null!==this.urlParams.get("exid"),this.analytics={time:{start:{date:0,time:0},end:{date:0,time:0},timeSpent:0},activity:{length:0,steps:[]}}}),[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,n=0,i=function(i,r){var o=r.scrollTop;o>t&&o>n?(g(e.$header,"is-hidden"),n=o):(o<n-200||o<=t)&&(S(e.$header,"is-hidden"),n=o)},r=0;r<this.$slides.length;r+=1)this.$slides[r].removeEventListener("scroll",i);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide"),this.$activeSlide.scrollTop<=t?S(this.$header,"is-hidden"):g(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",(function(t){return i(0,e.$activeSlide)}))}},{key:"fixClassesAfterDirectURL",value:function(e){for(var t=-1,n=0;n<this.$slides.length;n+=1){var i;(i=this.$slides[n].classList).remove.apply(i,f(y)),this.$slides[n].id===e&&(t=n)}-1===t&&(t=0,window.location.hash="#".concat(this.$slides[0].id));for(var r=0;r<this.$slides.length;r+=1)if(this.$slides[r].setAttribute("data-slide-index",r),r<t-1)g(this.$slides[r],"previous-slide");else if(r+1===t)g(this.$slides[r],"previous-to-active-slide");else if(r===t){var o="#".concat(this.$slides[r].id);window.history.replaceState?window.history.replaceState(null,null,o):window.location.hash=o,g(this.$slides[r],"active-slide")}else g(this.$slides[r],"next-slide")}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading"),t=document.querySelector("#loading-screen"),n=JSON.parse(t.getAttribute("data-loaded")),i=t.querySelector("h1");setTimeout((function(){i.innerText=n.h1}),300),S(e,"loading")}}])}();
/**! 
   * hotkeys-js v3.13.7 
   * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. 
   * 
   * Copyright (c) 2024 kenny wong <wowohoo@qq.com> 
   * https://github.com/jaywcjlove/hotkeys-js.git 
   * 
   * @website: https://jaywcjlove.github.io/hotkeys-js
   
   * Licensed under the MIT license 
   */const k="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function A(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on".concat(t),n)}function O(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on".concat(t),n)}function E(e,t){const n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function j(e){"string"!=typeof e&&(e="");const t=(e=e.replace(/\s/g,"")).split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const x={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":k?173:189,"=":k?61:187,";":k?59:186,"'":222,"[":219,"]":221,"\\":220},L={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},$={16:!1,18:!1,17:!1,91:!1},I={};for(let e=1;e<20;e++)x["f".concat(e)]=111+e;let q=[],B=null,P="all";const _=new Map,D=e=>x[e.toLowerCase()]||L[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function H(e){P=e||"all"}function R(){return P||"all"}function C(e){if(void 0===e)Object.keys(I).forEach((e=>{Array.isArray(I[e])&&I[e].forEach((e=>M(e))),delete I[e]})),U(null);else if(Array.isArray(e))e.forEach((e=>{e.key&&M(e)}));else if("object"==typeof e)e.key&&M(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let[r,o]=n;"function"==typeof r&&(o=r,r=""),M({key:e,scope:r,method:o,splitKey:"+"})}}const M=e=>{let{key:t,scope:n,method:i,splitKey:r="+"}=e;j(t).forEach((e=>{const t=e.split(r),o=t.length,a=t[o-1],c="*"===a?"*":D(a);if(!I[c])return;n||(n=R());const s=o>1?E(L,t):[],l=[];I[c]=I[c].filter((e=>{const t=(!i||e.method===i)&&e.scope===n&&function(e,t){const n=e.length>=t.length?e:t,i=e.length>=t.length?t:e;let r=!0;for(let e=0;e<n.length;e++)-1===i.indexOf(n[e])&&(r=!1);return r}(e.mods,s);return t&&l.push(e.element),!t})),l.forEach((e=>U(e)))}))};function N(e,t,n,i){if(t.element!==i)return;let r;if(t.scope===n||"all"===t.scope){r=t.mods.length>0;for(const e in $)Object.prototype.hasOwnProperty.call($,e)&&(!$[e]&&t.mods.indexOf(+e)>-1||$[e]&&-1===t.mods.indexOf(+e))&&(r=!1);(0!==t.mods.length||$[16]||$[18]||$[17]||$[91])&&!r&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(q),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function F(e,t){const n=I["*"];let i=e.keyCode||e.which||e.charCode;if(!Y.filter.call(this,e))return;if(93!==i&&224!==i||(i=91),-1===q.indexOf(i)&&229!==i&&q.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach((t=>{const n=T[t];e[t]&&-1===q.indexOf(n)?q.push(n):!e[t]&&q.indexOf(n)>-1?q.splice(q.indexOf(n),1):"metaKey"===t&&e[t]&&3===q.length&&(e.ctrlKey||e.shiftKey||e.altKey||(q=q.slice(q.indexOf(n))))})),i in $){$[i]=!0;for(const e in L)L[e]===i&&(Y[e]=!0);if(!n)return}for(const t in $)Object.prototype.hasOwnProperty.call($,t)&&($[t]=e[T[t]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===q.indexOf(17)&&q.push(17),-1===q.indexOf(18)&&q.push(18),$[17]=!0,$[18]=!0);const r=R();if(n)for(let i=0;i<n.length;i++)n[i].scope===r&&("keydown"===e.type&&n[i].keydown||"keyup"===e.type&&n[i].keyup)&&N(e,n[i],r,t);if(!(i in I))return;const o=I[i],a=o.length;for(let n=0;n<a;n++)if(("keydown"===e.type&&o[n].keydown||"keyup"===e.type&&o[n].keyup)&&o[n].key){const i=o[n],{splitKey:a}=i,c=i.key.split(a),s=[];for(let e=0;e<c.length;e++)s.push(D(c[e]));s.sort().join("")===q.sort().join("")&&N(e,i,r,t)}}function Y(e,t,n){q=[];const i=j(e);let r=[],o="all",a=document,c=0,s=!1,l=!0,u="+",d=!1,f=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(d=t.capture),"string"==typeof t.splitKey&&(u=t.splitKey),!0===t.single&&(f=!0)),"string"==typeof t&&(o=t),f&&C(e,o);c<i.length;c++)r=[],(e=i[c].split(u)).length>1&&(r=E(L,e)),(e="*"===(e=e[e.length-1])?"*":D(e))in I||(I[e]=[]),I[e].push({keyup:s,keydown:l,scope:o,mods:r,shortcut:i[c],method:n,key:i[c],splitKey:u,element:a});if(void 0!==a&&window){if(!_.has(a)){const e=function(){return F(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,a)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;F(e,a),function(e){let t=e.keyCode||e.which||e.charCode;const n=q.indexOf(t);if(n>=0&&q.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&q.splice(0,q.length),93!==t&&224!==t||(t=91),t in $){$[t]=!1;for(const e in L)L[e]===t&&(Y[e]=!1)}}(e)};_.set(a,{keydownListener:e,keyupListenr:t,capture:d}),A(a,"keydown",e,d),A(a,"keyup",t,d)}if(!B){const e=()=>{q=[]};B={listener:e,capture:d},A(window,"focus",e,d)}}}function U(e){const t=Object.values(I).flat();if(t.findIndex((t=>{let{element:n}=t;return n===e}))<0){const{keydownListener:t,keyupListenr:n,capture:i}=_.get(e)||{};t&&n&&(O(e,"keyup",n,i),O(e,"keydown",t,i),_.delete(e))}if(t.length<=0||_.size<=0){if(Object.keys(_).forEach((e=>{const{keydownListener:t,keyupListenr:n,capture:i}=_.get(e)||{};t&&n&&(O(e,"keyup",n,i),O(e,"keydown",t,i),_.delete(e))})),_.clear(),Object.keys(I).forEach((e=>delete I[e])),B){const{listener:e,capture:t}=B;O(window,"focus",e,t),B=null}}}const K={getPressedKeyString:function(){return q.map((e=>{return t=e,Object.keys(x).find((e=>x[e]===t))||(e=>Object.keys(L).find((t=>L[t]===e)))(e)||String.fromCharCode(e);var t}))},setScope:H,getScope:R,deleteScope:function(e,t){let n,i;e||(e=R());for(const t in I)if(Object.prototype.hasOwnProperty.call(I,t))for(n=I[t],i=0;i<n.length;)if(n[i].scope===e){n.splice(i,1).forEach((e=>{let{element:t}=e;return U(t)}))}else i++;R()===e&&H(t||"all")},getPressedKeyCodes:function(){return q.slice(0)},getAllKeyCodes:function(){const e=[];return Object.keys(I).forEach((t=>{I[t].forEach((t=>{let{key:n,scope:i,mods:r,shortcut:o}=t;e.push({scope:i,shortcut:o,mods:r,keys:n.split("+").map((e=>D(e)))})}))})),e},isPressed:function(e){return"string"==typeof e&&(e=D(e)),-1!==q.indexOf(e)},filter:function(e){const t=e.target||e.srcElement,{tagName:n}=t;let i=!0;const r="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(r||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(i=!1),i},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(I).forEach((n=>{I[n].filter((n=>n.scope===t&&n.shortcut===e)).forEach((e=>{e&&e.method&&e.method()}))}))},unbind:C,keyMap:x,modifier:L,modifierMap:T};for(const e in K)Object.prototype.hasOwnProperty.call(K,e)&&(Y[e]=K[e]);if("undefined"!=typeof window){const e=window.hotkeys;Y.noConflict=t=>(t&&window.hotkeys===Y&&(window.hotkeys=e),Y),window.hotkeys=Y}var z=function(e){function i(){var e;return n(this,i),(e=t(this,i))._clickPrev=e._clickPrev.bind(e),e._clickNext=e._clickNext.bind(e),document.querySelectorAll("div").forEach((function(e){e.setAttribute("tabindex",-1),e.style.outline="0"})),window.onpopstate=function(t){e.analytics=HISTORYLAB.analytics.data;var n=e.$cviceni.querySelector(".active-slide"),r=n.getAttribute("data-slide-index"),o=e.$cviceni.querySelector(window.location.hash);if(o&&b(o,"visited-slide")&&o.id!==n.id){var a=o.getAttribute("data-slide-index");S(n,"active-slide"),i.enableTabControlOnActiveSlide(o,n),e.analytics.activity.length+=1,e.analytics.activity.steps[e.analytics.activity.length]={slide:parseInt(a,10),time:Math.round(performance.now())-e.analytics.time.start.time,date:Date.now(),interaction:{type:t.type}},r>a?(e.analytics.activity.steps[e.analytics.activity.length].type="P",e.analytics.activity.steps[e.analytics.activity.length].interaction.name="back",g(n,"next-slide"),S(o,"previous-slide"),b(o,"previous-to-active-slide")&&S(o,"previous-to-active-slide"),b(o.previousElementSibling,"half-slide-previous")&&g(o.previousElementSibling,"previous-to-active-slide")):(e.analytics.activity.steps[e.analytics.activity.length].type="D",e.analytics.activity.steps[e.analytics.activity.length].interaction.name="forward",g(n,"previous-slide"),S(o,"next-slide"),b(n,"half-slide-previous")&&g(n,"previous-to-active-slide"),b(n.previousElementSibling,"previous-to-active-slide")&&S(n.previousElementSibling,"previous-to-active-slide")),g(o,"active-slide"),m(e.$cviceni,"slide.change",{},{slide:{active:e.getActiveSlide(o)}})}else if(!b(o,"visited-slide"))if(HISTORYLAB.import.done)window.location.reload(!0);else{var c="#".concat(n.id);window.history.replaceState?window.history.replaceState(null,null,c):window.location.hash=c}HISTORYLAB.analytics.data=e.analytics},e}return c(i,e),r(i,[{key:"getActiveSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.$cviceni.querySelector(".active-slide");return{element:e,id:e.id,index:parseInt(e.getAttribute("data-slide-index"),10)}}},{key:"loopNavButtons",value:function(){var e=this;this.nav.$prev.forEach((function(t){t.addEventListener("click",e._clickPrev,!1)})),this.nav.$next.forEach((function(t){t.addEventListener("click",e._clickNext,!1)})),Y("left, shift+space, shift+enter",(function(t){e._clickPrev(t)})),Y("right, space, enter",(function(t){e._clickNext(t)})),this.buttonFeedbackOnHover()}},{key:"_both",value:function(){this.header(),i.hideAllOpenComments()}},{key:"_clickPrev",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=t.previousElementSibling,r=this.$cviceni.querySelector(".previous-to-active-slide");if(b(n,"slide")){S(t,"active-slide"),g(t,"next-slide"),S(n,"previous-slide"),g(n,"active-slide"),i.enableTabControlOnActiveSlide(n,t),r&&S(r,"previous-to-active-slide"),n.previousElementSibling&&g(n.previousElementSibling,"previous-to-active-slide"),m(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(n)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"P",slide:parseInt(n.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var o={type:e.type};switch(e.type){case"click":o.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":o.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=o,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory()}else;e.preventDefault()}},{key:"_clickNext",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=this.$cviceni.querySelector(".previous-to-active-slide"),r=t.nextElementSibling;if(b(r,"slide")){S(t,"active-slide"),g(t,"previous-slide previous-to-active-slide"),S(r,"next-slide"),g(r,"active-slide visited-slide"),i.enableTabControlOnActiveSlide(r,t),n&&S(n,"previous-to-active-slide"),m(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(r)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"D",slide:parseInt(r.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var o={type:e.type};switch(e.type){case"click":o.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":o.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=o,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory()}else;e.preventDefault()}},{key:"buttonFeedbackOnHover",value:function(){this.$buttonFeedbacks.forEach((function(e){var t=e.querySelector("span"),n=JSON.parse(e.getAttribute("data-feedback-button")),i="";e.addEventListener("mouseenter",(function(r){i=t.innerText;var o=e.offsetWidth;i!==n&&(t.innerText=n.hover,o>e.offsetWidth&&(e.style.width="".concat(o,"px")))})),e.addEventListener("mouseleave",(function(r){i!==n&&(e.style.width="",t.innerText=i)}))}))}},{key:"_saveActiveSlideToHistory",value:function(){var e="#".concat(this.$cviceni.querySelector(".active-slide").id);window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"enableTabControlOnActiveSlide",value:function(e,t){var n=e.querySelectorAll("textarea");t.querySelectorAll("textarea").forEach((function(e){e.setAttribute("tabindex",-1)})),n.forEach((function(e){e.setAttribute("tabindex",0)}))}},{key:"hideAllOpenComments",value:function(){document.querySelectorAll(".comment:not(.hidden)").forEach((function(e){e.querySelector(".close").click()}))}}])}(w),W=function(e){function i(){return n(this,i),t(this,i)}return c(i,e),r(i,[{key:"slides",value:function(){var e=window.location.hash.replace("#","");if(HISTORYLAB.import.done&&e!==this.$slides[0].id)this.fixClassesAfterDirectURL(e);else for(var t=0;t<this.$slides.length;t+=1)if(this.$slides[t].setAttribute("data-slide-index",t),0===t){var n="#".concat(this.$slides[t].id);window.history.replaceState?window.history.replaceState(null,null,n):window.location.hash=n}else g(this.$slides[t],"next-slide");return this}},{key:"pagination",value:function(){var e=this.$slides.length;this.$slides.forEach((function(t,n){var i=t.querySelector(".zadani"),r=i.querySelector("h1"),o=document.createElement("div");o.classList.add("pagination"),o.innerHTML="".concat(n+1,"/").concat(e),i.insertBefore(o,r)}))}}])}(w),V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X=function(e){return function(t){return null==e?void 0:e[t]}},G=X({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Z="object"==typeof V&&V&&V.Object===Object&&V,Q=Z,ee="object"==typeof self&&self&&self.Object===Object&&self,te=Q||ee||Function("return this")(),ne=te.Symbol;var ie=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},re=Array.isArray,oe=ne,ae=Object.prototype,ce=ae.hasOwnProperty,se=ae.toString,le=oe?oe.toStringTag:void 0;var ue=function(e){var t=ce.call(e,le),n=e[le];try{e[le]=void 0;var i=!0}catch(e){}var r=se.call(e);return i&&(t?e[le]=n:delete e[le]),r},de=Object.prototype.toString;var fe=ue,ve=function(e){return de.call(e)},pe=ne?ne.toStringTag:void 0;var ye=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pe&&pe in Object(e)?fe(e):ve(e)};var he=function(e){return null!=e&&"object"==typeof e},me=ye,be=he;var ge=ie,Se=re,we=function(e){return"symbol"==typeof e||be(e)&&"[object Symbol]"==me(e)},ke=ne?ne.prototype:void 0,Ae=ke?ke.toString:void 0;var Oe=function e(t){if("string"==typeof t)return t;if(Se(t))return ge(t,e)+"";if(we(t))return Ae?Ae.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Ee=Oe;var je=function(e){return null==e?"":Ee(e)},xe=G,Le=je,Te=/[&<>"']/g,$e=RegExp(Te.source);var Ie=J((function(e){return(e=Le(e))&&$e.test(e)?e.replace(Te,xe):e})),qe=X({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Be=je,Pe=qe,_e=/&(?:amp|lt|gt|quot|#39);/g,De=RegExp(_e.source);var He=J((function(e){return(e=Be(e))&&De.test(e)?e.replace(_e,Pe):e})),Re=Object.prototype;var Ce=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)};var Me=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Ne=Ce,Fe=Me,Ye=Object.prototype.hasOwnProperty;var Ue=function(e){if(!Ne(e))return Fe(e);var t=[];for(var n in Object(e))Ye.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ke=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ze=ye,We=Ke;var Ve,Je=function(e){if(!We(e))return!1;var t=ze(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Xe=te["__core-js_shared__"],Ge=(Ve=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||""))?"Symbol(src)_1."+Ve:"";var Ze=function(e){return!!Ge&&Ge in e},Qe=Function.prototype.toString;var et=function(e){if(null!=e){try{return Qe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},tt=Je,nt=Ze,it=Ke,rt=et,ot=/^\[object .+?Constructor\]$/,at=Function.prototype,ct=Object.prototype,st=at.toString,lt=ct.hasOwnProperty,ut=RegExp("^"+st.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var dt=function(e){return!(!it(e)||nt(e))&&(tt(e)?ut:ot).test(rt(e))},ft=function(e,t){return null==e?void 0:e[t]};var vt=function(e,t){var n=ft(e,t);return dt(n)?n:void 0},pt=vt(te,"DataView"),yt=vt(te,"Map"),ht=vt(te,"Promise"),mt=vt(te,"Set"),bt=vt(te,"WeakMap"),gt=ye,St=et,wt="[object Map]",kt="[object Promise]",At="[object Set]",Ot="[object WeakMap]",Et="[object DataView]",jt=St(pt),xt=St(yt),Lt=St(ht),Tt=St(mt),$t=St(bt),It=gt;(pt&&It(new pt(new ArrayBuffer(1)))!=Et||yt&&It(new yt)!=wt||ht&&It(ht.resolve())!=kt||mt&&It(new mt)!=At||bt&&It(new bt)!=Ot)&&(It=function(e){var t=gt(e),n="[object Object]"==t?e.constructor:void 0,i=n?St(n):"";if(i)switch(i){case jt:return Et;case xt:return wt;case Lt:return kt;case Tt:return At;case $t:return Ot}return t});var qt=It,Bt=ye,Pt=he;var _t=function(e){return Pt(e)&&"[object Arguments]"==Bt(e)},Dt=he,Ht=Object.prototype,Rt=Ht.hasOwnProperty,Ct=Ht.propertyIsEnumerable,Mt=_t(function(){return arguments}())?_t:function(e){return Dt(e)&&Rt.call(e,"callee")&&!Ct.call(e,"callee")},Nt=Mt;var Ft=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Yt=Je,Ut=Ft;var Kt=function(e){return null!=e&&Ut(e.length)&&!Yt(e)},zt={exports:{}};var Wt=function(){return!1};!function(e,t){var n=te,i=Wt,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}(zt,zt.exports);var Vt=zt.exports,Jt=ye,Xt=Ft,Gt=he,Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var Qt=function(e){return Gt(e)&&Xt(e.length)&&!!Zt[Jt(e)]};var en=function(e){return function(t){return e(t)}},tn={exports:{}};!function(e,t){var n=Z,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i&&n.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(tn,tn.exports);var nn=tn.exports,rn=Qt,on=en,an=nn&&nn.isTypedArray,cn=an?on(an):rn,sn=Ue,ln=qt,un=Nt,dn=re,fn=Kt,vn=Vt,pn=Ce,yn=cn,hn=Object.prototype.hasOwnProperty;var mn=J((function(e){if(null==e)return!0;if(fn(e)&&(dn(e)||"string"==typeof e||"function"==typeof e.splice||vn(e)||yn(e)||un(e)))return!e.length;var t=ln(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(pn(e))return!sn(e).length;for(var n in e)if(hn.call(e,n))return!1;return!0})),bn=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).$video=r.target.querySelector("video"),r.$stampItems=r.target.querySelectorAll("[data-stamp]"),r.stampsWrapper=i.createStampsWrapper(r.target),r.$stampItems.forEach((function(e){r._addEventListeners(e)})),r.feedback&&(r.cache.zpetnaVazba=!0,r.cache.colors=r.feedback.map((function(e){return e.barva}))),r}return c(i,e),r(i,[{key:"_addEventListeners",value:function(e){var t=this;e.addEventListener("click",(function(){if(0!==t.$video.currentTime){var n={stamp:e.innerHTML,currentTime:t.$video.currentTime,videoDuration:t.$video.duration,removable:!0,stampsWrapper:t.stampsWrapper};i.addStamp(n)}}),!1)}},{key:"_dispatchEvent",value:function(e){}}])}(function(){return r((function e(t){n(this,e),this.target=t,this.$slide=this.target.closest(".slide"),this.lang=document.documentElement.getAttribute("lang"),HISTORYLAB.import.done||(this.$slide&&(this.$buttonFeedback=this.$slide.querySelector("[data-feedback-button]"),this.$buttonFeedback&&(this.$buttonFeedbackText=this.$buttonFeedback.querySelector("span"))),this.showFeedback=this.showFeedback.bind(this))}),[{key:"showFeedback",value:function(){this.$buttonFeedback&&this.$buttonFeedback.classList.contains("button-hidden")&&this.$buttonFeedback.classList.remove("button-hidden")}},{key:"hideFeedback",value:function(){this.$buttonFeedback.classList.add("button-hidden")}}])}());o(bn,"createStampsWrapper",(function(e){var t=e.querySelector("[data-video-time-progress]"),n=document.createElement("div");return n.classList.add("stamp-wrapper"),n.setAttribute("data-stamp-wrapper",""),t.appendChild(n),n})),o(bn,"addStamp",(function(e){var t=document.createElement("div");t.className="mark",t.setAttribute("data-stamp-time",e.currentTime),t.setAttribute("data-stamp-mark","");var n=e.currentTime/e.videoDuration;t.style.left="".concat(100*n,"%");var i=document.createElement("div");i.className="stamp ".concat(e.removable&&"removable-stamp"),i.innerHTML=e.stamp,t.appendChild(i),e.removable&&i.addEventListener("click",(function(e){e.target.closest("div[data-stamp-mark]").remove()})),e.stampsWrapper.appendChild(t)}));var gn=function(){return r((function e(){n(this,e)}),null,[{key:"getData",value:function(e){return f(e.querySelectorAll("[data-stamp-mark]")).map((function(e,t){return{id:t+1,time:e.getAttribute("data-stamp-time"),content:e.innerText}}))}},{key:"loadData",value:function(e,t){var n=bn.createStampsWrapper(e),i=e.querySelector("video");i.addEventListener("loadedmetadata",(function(){t.value.forEach((function(e){var t={stamp:e.content,currentTime:e.time,videoDuration:i.duration,removable:!1,stampsWrapper:n};bn.addStamp(t)}))}))}}])}(),Sn=function(e){function i(){var e;return n(this,i),(e=t(this,i)).$formExport=e.$exportSlide.querySelector("#form-to-send"),e._clickListener=e._clickListener.bind(e),e.beforeSendForm=e.beforeSendForm.bind(e),e.beforeSubmitForm=e.beforeSubmitForm.bind(e),e.getSaveDataSize=e.getSaveDataSize.bind(e),e}return c(i,e),r(i,[{key:"init",value:function(){switch(this.isDone){case!0:document.documentElement.classList.add("is-done"),document.documentElement.setAttribute("data-state","done"),document.querySelectorAll(".show-when-done").forEach((function(e){e.classList.remove("hidden")})),document.querySelectorAll(".hide-when-done").forEach((function(e){e.classList.add("hidden")}));break;case!1:this.addEventListeners()}}},{key:"addEventListeners",value:function(){this.loopSaveButtons(),this.$exportSlide.querySelector('button[type="submit"]').addEventListener("click",this.beforeSendForm),this.$formToSend.addEventListener("submit",this.beforeSubmitForm)}},{key:"getSaveDataSize",value:function(){var e=JSON.stringify(this.data),t=(new TextEncoder).encode(e).length;return t>1e8?999999999:t}},{key:"beforeSubmitForm",value:function(e){e.preventDefault();try{if(this.$exportSaveButton.disabled=!0,this.$exportSaveButton.classList.add("button-sent"),this.$exportSaveButton.textContent=this.$exportSaveButton.dataset.saving||"…",this.beforeSendForm(),"abcdefghijklmnop"===document.getElementById("odpoved_id").value)console.error("ERROR: data writing to form"),alert("Něco se pokazilo. Zkuste cvičení vyplnit znovu.");else{var t=this.$formToSend.action;this.$formToSend.action="".concat(t,"&size=").concat(this.getSaveDataSize()),this.$formToSend.submit()}}catch(e){console.error("Error, saving data beforeSubmit",e)}}},{key:"beforeSendForm",value:function(){this.analytics=HISTORYLAB.analytics.data,this.analytics.time.end={time:Math.round(performance.now()),date:Date.now()},this.analytics.time.timeSpent=HISTORYLAB.analytics.timeSpent,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"K",time:this.analytics.time.end.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics,document.getElementById("odpoved_id").value=this.data}},{key:"checkForData",value:function(e){return mn(e)?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e.user.data),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"getExerciseMode",value:function(){return Object.prototype.hasOwnProperty.call(HISTORYLAB.import,"exerciseMode")?HISTORYLAB.import.exerciseMode:-1}},{key:"data",get:function(){var e={global:document.querySelector("[data-version-global]").getAttribute("data-version-global")},t=d(e.global.split("."),3);function n(t){if(t.indexOf("cviceni-aktualni")){var n=/cviceni-aktualni/g;return e.major>=6?t.replace(n,"cviceni-verze/v".concat(e.major,"-").concat(e.minor)):t.replace(n,"cviceni-verze/v".concat(e.major))}return t}e.major=t[0],e.minor=t[1],e.patch=t[2];var r={};r.entryId=HISTORYLAB.import.entryid||-1,r.lmsHash=HISTORYLAB.import.lmsHash||"",r.exercise={id:parseInt(this.$cviceni.getAttribute("data-exercise-id"),10),slug:this.$cviceni.getAttribute("id"),name:document.querySelector("#header .title").innerText||"",version:{global:e.global,content:parseInt(document.documentElement.getAttribute("data-version-content"),10)},mode:this.getExerciseMode(),language:HISTORYLAB.import.language||"cs"},r.user={form:{name:HISTORYLAB.import.name,email:HISTORYLAB.import.user,institution:HISTORYLAB.import.institution,teacher:HISTORYLAB.import.teacher,group:{members:HISTORYLAB.import.groupMembers},exhibition:HISTORYLAB.import.exhibitionId,redirectUrl:HISTORYLAB.import.redirectUrl||null},analytics:HISTORYLAB.analytics.data||{},data:[],tracking:HISTORYLAB.import.tracking};var o=document.querySelectorAll("[data-save]");return r.user.data=Array.from(o).map((function(e){var t={id:"",node:"",value:"",slide:{id:"",index:0}},r=e.closest(".slide");if(t.slide.id=r.getAttribute("id"),t.slide.index=parseInt(r.getAttribute("data-slide-index"),10),t.id=e.getAttribute("id"),t.node=e.tagName,"TEXTAREA"===t.node)e.hasAttribute("data-textarea-target")||e.hasAttribute("data-svg-textarea-target")?(e.value?t.value=Ie(e.value):t.value=null,e.getAttribute("data-svg-textarea-target")&&(t.svg=e.getAttribute("data-svg-textarea-target"))):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("INPUT"===t.node)"value"===e.getAttribute("data-save")?e.value?t.value=Ie(e.value):t.value=null:(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("SELECT"===t.node)if("value"===e.getAttribute("data-save"))if(e.value){t.value=e.value;for(var o=0;o<e.options.length;o+=1)if(e.options[o].innerHTML===e.value){t.selectedIndex=o;break}}else t.value=null;else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else if("svg"===t.node)if(e.hasAttribute("data-svg-target")){t.value=i.b64EncodeUnicode(n(e.innerHTML));var a=e.querySelectorAll("[data-svg-path]").length,c=e.querySelectorAll("[data-svg-textarea-target]").length,s=e.querySelectorAll("[data-svg-circle]").length;t.analytics={comments:c>0&&c,paths:a>0&&a,points:s>0&&s}}else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else if("TABLE"===t.node||"TBODY"===t.node)"html"===e.getAttribute("data-save")&&(t.value=i.b64EncodeUnicode(n(e.innerHTML)));else if("DIV"===t.node)if(e.hasAttribute("data-sortable-target"))t.value=i.b64EncodeUnicode(n(e.innerHTML));else if("analyticka-tabulka"===e.getAttribute("data-target"))t.value=i.b64EncodeUnicode(n(e.innerHTML));else if("video-stamp"===e.getAttribute("data-save"))t.value=gn.getData(e);else if("editor"===e.getAttribute("data-target"))t.value=i.b64EncodeUnicode(n(e.innerHTML));else if("html"===e.getAttribute("data-save")){var l=HISTORYLAB.tools[e.id];t.value=l?l.getEditorJSON():i.b64EncodeUnicode(n(e.innerHTML))}else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));return t})),r.user.analytics.client=platform.description,r.done=!0,JSON.stringify(r)},set:function(e){for(var t=0;t<2;t+=1)i.renderUserData(e,t)}}],[{key:"renderUserData",value:function(e,t){var n={global:document.querySelector("[data-version-global]").getAttribute("data-version-global").split(".")},r=d(n.global,3);n.major=r[0],n.minor=r[1],n.patch=r[2],e.forEach((function(e){var r=document.getElementById(e.id);if(r)switch(t){case 0:switch(e.node){case"svg":case"DIV":case"TABLE":case"TBODY":if("string"==typeof e.value){var o=i.b64DecodeUnicode(e.value);if(o.indexOf("cviceni-aktualni")){var a=/cviceni-aktualni/g;n.major>=6?r.innerHTML=o.replace(a,"cviceni-verze/v".concat(n.major,"-").concat(n.minor)):r.innerHTML=o.replace(a,"cviceni-verze/v".concat(n.major))}else r.innerHTML=o}else{var c=document.querySelector("#prosemirror-content-".concat(e.id));c?c.innerHTML=JSON.stringify(e.value):console.error("ERROR: editor dosnt have definated content node")}}break;case 1:switch(e.node){case"INPUT":case"TEXTAREA":r.value=He(e.value||" "),r.readOnly=!0;break;case"SELECT":r.selectedIndex=e.selectedIndex||0,r.value=e.value||" ",r.disabled=!0;break;case"DIV":if("video-stamp"===r.getAttribute("data-save"))gn.loadData(r,e)}}else console.error(e.id,"No element with the id exists!")}))}},{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))})))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""))}}])}(w),wn=function(e){function i(){var e;return n(this,i),(e=t(this,i)).init(),e}return c(i,e),r(i,[{key:"init",value:function(){this.analytics.time.start={time:Math.round(performance.now()),date:Date.now()},this.analytics.activity.steps[this.analytics.activity.length]={type:"S",time:this.analytics.time.start.time,date:Date.now()}}},{key:"data",get:function(){return this.analytics},set:function(e){this.analytics=e}},{key:"timeSpent",get:function(){return this.analytics.time.end.time-this.analytics.time.start.time}}])}(w),kn=function(e){function i(){var e;return n(this,i),(e=t(this,i)).$button=e.$initialSlide.querySelector('[data-nav-button="next"]'),e.$showUserEmail=document.querySelectorAll('[data-form="about-user-email"]'),e.$formExport=e.$exportSlide.querySelector("#form-to-send"),e.isFromLMS="string"==typeof e.import.lmsHash&&e.import.lmsHash.length>0,e.groupMembers=1,e}return c(i,e),r(i,[{key:"init",value:function(){this.$button.classList.remove("button-hidden"),this.isDone&&this.whenDone()}},{key:"whenDone",value:function(){var e=this;this.$showUserEmail.forEach((function(t){var n=e.import.exerciseData.user.form.name,i=e.import.user,r=e.urlParams.get("anon"),o="";r&&"0"===r?(n&&(o=n),i&&(o+=n?" (".concat(i,")"):i)):o="**********",t.innerText+=" ".concat(o||"neznámý uživatel")})),this.$button.innerText=this.$button.getAttribute("data-done")}}])}(w);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n+=1)e.call(t,this[n],n,this)});var An=function(){console.log("domLoad:cviceni");var e=document.documentElement;HISTORYLAB.analytics=new wn;var t=new w,n=new z,i=new W,r=new Sn,o=new kn;n.loopNavButtons(),i.slides(),r.checkForData(HISTORYLAB.import.exerciseData||{}).init(),t.header(),o.init(),function(e){var t,n=(e=e||{}).callback||function(){},i=e.activeCallback||function(){},r=e.idleTime||6e4,o=!0;function a(){o&&(o=!1,n())}function c(){o||(o=!0,i()),clearTimeout(t),t=setTimeout(a,r)}function s(e){window[e]("load",c),document[e]("mousemove",c),document[e]("scroll",c),document[e]("keypress",c),document[e]("click",c)}s("addEventListener"),c()}({callback:function(){return e.classList.add("is-idle")},activeCallback:function(){return e.classList.remove("is-idle")},idleTime:3e3})},On=function(){document.querySelector("main.cviceni").id};!function(){if(function(){if(!Array.from||!Element.prototype.matches||!Element.prototype.closest||"function"!=typeof window.CustomEvent||"function"!=typeof Object.assign){console.warn("Not supported browser.");var e=document.querySelector("#unsupported");return e.querySelector("#unsupported-browser").innerHTML=" ".concat(platform.name," ").concat(platform.version," "),e.classList.remove("is-hidden"),!0}return!1}())return!1;document.addEventListener("DOMContentLoaded",An,!1),document.addEventListener("DOMContentLoaded",On,!1)}(),window.addEventListener("load",(function(){console.log("windowLoad:cviceni"),w.loadingScreen()}),!1)}();
//# sourceMappingURL=app.build.js.map
