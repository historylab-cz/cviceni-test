!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=Object.assign({bubbles:!0},t);return new CustomEvent(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({detail:n},a))}function f(e,t,n,r){var i=d(t,n,r);e.dispatchEvent(i)}function v(e,t){if("createEvent"in document){var n=new Event(t);e.dispatchEvent(n)}else{var r=document.createEventObject();r.eventType=t,e.fireEvent("on"+r.eventType,r)}}function y(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):"".concat(e.className," ").indexOf("".concat(t," "))>-1)}function h(e,t){var n=e,r=t;if(n&&r)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof r){r=r.split(" ");for(var i=0;i<n.length;i+=1){var a;if(n[i].classList)(a=n[i].classList).add.apply(a,u(r));else if(!y.apply(void 0,[n[i]].concat(u(r))))for(var o=0;o<r.length;o+=1)n[i].classes+=" ".concat(r[o])}}else console.log("Class argument must be string with spaces in between class names.")}function p(e,t){var n=e,r=t;if(n&&r)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof r){r=r.split(" ");for(var i=0;i<n.length;i+=1){var a;if(n[i].classList)(a=n[i].classList).remove.apply(a,u(r));else for(var o=0;o<r.length;o+=1)n[i].className=n[i].className.replace(new RegExp("\\b".concat(t[o],"\\b"),"g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var m=function(){function t(){e(this,t),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("#header"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$buttonFeedbacks=document.querySelectorAll("[data-feedback-button]"),this.nav={$prev:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="prev"]')),$next:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="next"]'))},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide"),this.$formSlide=this.$cviceni.querySelector("#slide-form"),this.$exportSlide=this.$cviceni.querySelector("#slide-export"),this.import=HISTORYLAB.import,this.isDone=!0===this.import.done,this.analytics={time:{start:{date:0,time:0},end:{date:0,time:0},timeSpent:0},activity:{length:0,steps:[]}}}return n(t,[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,n=0,r=function(r,i){(a=i.scrollTop)>t&&a>n?(h(e.$header,"is-hidden"),n=a):(a<n-200||a<=t)&&(p(e.$header,"is-hidden"),n=a)},i=0;i<this.$slides.length;i+=1)this.$slides[i].removeEventListener("scroll",r);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide");var a=this.$activeSlide.scrollTop;a<=t?p(this.$header,"is-hidden"):h(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",(function(t){return r(0,e.$activeSlide)}))}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading"),t=document.querySelector("#loading-screen"),n=JSON.parse(t.getAttribute("data-loaded"));t.querySelector("h1").innerText=n.h1,p(e,"loading")}}]),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function S(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function w(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function A(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var E={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":b?173:189,"=":b?61:187,";":b?59:186,"'":222,"[":219,"]":221,"\\":220},k={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},O={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},j={16:!1,18:!1,17:!1,91:!1},x={},L=1;L<20;L++)E["f".concat(L)]=111+L;var T=[],$="all",q=[],P=function(e){return E[e.toLowerCase()]||k[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function B(e){$=e||"all"}function C(){return $||"all"}var I=function(e){var t=e.key,n=e.scope,r=e.method,i=e.splitKey,a=void 0===i?"+":i;A(t).forEach((function(e){var t=e.split(a),i=t.length,o=t[i-1],c="*"===o?"*":P(o);if(x[c]){n||(n=C());var s=i>1?w(k,t):[];x[c]=x[c].map((function(e){return(!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)-1===r.indexOf(n[a])&&(i=!1);return i}(e.mods,s)?{}:e}))}}))};function M(e,t,n){var r;if(t.scope===n||"all"===t.scope){for(var i in r=t.mods.length>0,j)Object.prototype.hasOwnProperty.call(j,i)&&(!j[i]&&t.mods.indexOf(+i)>-1||j[i]&&-1===t.mods.indexOf(+i))&&(r=!1);(0!==t.mods.length||j[16]||j[18]||j[17]||j[91])&&!r&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function N(e){var t=x["*"],n=e.keyCode||e.which||e.charCode;if(D.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===T.indexOf(n)&&229!==n&&T.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=O[t];e[t]&&-1===T.indexOf(n)?T.push(n):!e[t]&&T.indexOf(n)>-1&&T.splice(T.indexOf(n),1)})),n in j){for(var r in j[n]=!0,k)k[r]===n&&(D[r]=!0);if(!t)return}for(var i in j)Object.prototype.hasOwnProperty.call(j,i)&&(j[i]=e[O[i]]);var a=C();if(t)for(var o=0;o<t.length;o++)t[o].scope===a&&("keydown"===e.type&&t[o].keydown||"keyup"===e.type&&t[o].keyup)&&M(e,t[o],a);if(n in x)for(var c=0;c<x[n].length;c++)if(("keydown"===e.type&&x[n][c].keydown||"keyup"===e.type&&x[n][c].keyup)&&x[n][c].key){for(var s=x[n][c],l=s.splitKey,u=s.key.split(l),d=[],f=0;f<u.length;f++)d.push(P(u[f]));d.sort().join("")===T.sort().join("")&&M(e,s,a)}}}function D(e,t,n){T=[];var r=A(e),i=[],a="all",o=document,c=0,s=!1,l=!0,u="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(a=t.scope),t.element&&(o=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(l=t.keydown),"string"==typeof t.splitKey&&(u=t.splitKey)),"string"==typeof t&&(a=t);c<r.length;c++)i=[],(e=r[c].split(u)).length>1&&(i=w(k,e)),(e="*"===(e=e[e.length-1])?"*":P(e))in x||(x[e]=[]),x[e].push({keyup:s,keydown:l,scope:a,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:u});void 0!==o&&!function(e){return q.indexOf(e)>-1}(o)&&window&&(q.push(o),S(o,"keydown",(function(e){N(e)})),S(window,"focus",(function(){T=[]})),S(o,"keyup",(function(e){N(e),function(e){var t=e.keyCode||e.which||e.charCode,n=T.indexOf(t);if(n>=0&&T.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&T.splice(0,T.length),93!==t&&224!==t||(t=91),t in j)for(var r in j[t]=!1,k)k[r]===t&&(D[r]=!1)}(e)})))}var H={setScope:B,getScope:C,deleteScope:function(e,t){var n,r;for(var i in e||(e=C()),x)if(Object.prototype.hasOwnProperty.call(x,i))for(n=x[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;C()===e&&B(t||"all")},getPressedKeyCodes:function(){return T.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=P(e)),-1!==T.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return!t.isContentEditable&&"TEXTAREA"!==n&&("INPUT"!==n&&"TEXTAREA"!==n||t.readOnly)||(r=!1),r},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&I(e)}));else if("object"===g(e))e.key&&I(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];"function"==typeof i&&(a=i,i=""),I({key:e,scope:i,method:a,splitKey:"+"})}}else Object.keys(x).forEach((function(e){return delete x[e]}))}};for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(D[R]=H[R]);if("undefined"!=typeof window){var _=window.hotkeys;D.noConflict=function(e){return e&&window.hotkeys===D&&(window.hotkeys=_),D},window.hotkeys=D}var F=function(t){function r(){var t;return e(this,r),(t=l(this,o(r).call(this)))._clickPrev=t._clickPrev.bind(s(t)),t._clickNext=t._clickNext.bind(s(t)),Array.from(document.querySelectorAll("div")).forEach((function(e){e.setAttribute("tabindex",-1),e.style.outline="0"})),window.onpopstate=function(e){t.analytics=HISTORYLAB.analytics.data;var n=t.$cviceni.querySelector(".active-slide"),i=n.getAttribute("data-slide-index"),a=t.$cviceni.querySelector(window.location.hash),o=a.getAttribute("data-slide-index");if(a&&y(a,"visited-slide")&&a.id!==n.id)p(n,"active-slide"),r.enableTabControlOnActiveSlide(a,n),t.analytics.activity.length+=1,t.analytics.activity.steps[t.analytics.activity.length]={slide:parseInt(o,10),time:Math.round(performance.now())-t.analytics.time.start.time,date:Date.now(),interaction:{type:e.type}},i>o?(t.analytics.activity.steps[t.analytics.activity.length].type="P",t.analytics.activity.steps[t.analytics.activity.length].interaction.name="back",h(n,"next-slide"),p(a,"previous-slide"),y(a,"previous-to-active-slide")&&p(a,"previous-to-active-slide"),y(a.previousElementSibling,"half-slide-previous")&&h(a.previousElementSibling,"previous-to-active-slide")):(t.analytics.activity.steps[t.analytics.activity.length].type="D",t.analytics.activity.steps[t.analytics.activity.length].interaction.name="forward",h(n,"previous-slide"),p(a,"next-slide"),y(n,"half-slide-previous")&&h(n,"previous-to-active-slide"),y(n.previousElementSibling,"previous-to-active-slide")&&p(n.previousElementSibling,"previous-to-active-slide")),h(a,"active-slide"),f(t.$cviceni,"slide.change",{},{slide:{active:t.getActiveSlide(a)}});else if(!y(a,"visited-slide")){var c="#".concat(n.id);window.history.replaceState?window.history.replaceState(null,null,c):window.location.hash=c}HISTORYLAB.analytics.data=t.analytics},t}return a(r,t),n(r,[{key:"getActiveSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||this.$cviceni.querySelector(".active-slide");return{element:t,id:t.id,index:parseInt(t.getAttribute("data-slide-index"),10)}}},{key:"loopNavButtons",value:function(){var e=this;this.nav.$prev.forEach((function(t){t.addEventListener("click",e._clickPrev,!1)})),this.nav.$next.forEach((function(t){t.addEventListener("click",e._clickNext,!1)})),D("left, shift+space, shift+enter",(function(t){e._clickPrev(t)})),D("right, space, enter",(function(t){e._clickNext(t)})),this.buttonFeedbackOnHover()}},{key:"_both",value:function(){this.header(),r.hideAllOpenComments()}},{key:"_clickPrev",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=t.previousElementSibling,i=this.$cviceni.querySelector(".previous-to-active-slide");y(n,"slide")&&(p(t,"active-slide"),h(t,"next-slide"),p(n,"previous-slide"),h(n,"active-slide"),r.enableTabControlOnActiveSlide(n,t),i&&p(i,"previous-to-active-slide"),n.previousElementSibling&&h(n.previousElementSibling,"previous-to-active-slide")),f(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(n)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"P",slide:parseInt(n.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var a={type:e.type};switch(e.type){case"click":a.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":a.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=a,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"_clickNext",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=this.$cviceni.querySelector(".previous-to-active-slide"),i=t.nextElementSibling;y(i,"slide")&&(p(t,"active-slide"),h(t,"previous-slide previous-to-active-slide"),p(i,"next-slide"),h(i,"active-slide visited-slide"),r.enableTabControlOnActiveSlide(i,t),n&&p(n,"previous-to-active-slide")),f(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(i)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"D",slide:parseInt(i.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var a={type:e.type};switch(e.type){case"click":a.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":a.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=a,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"buttonFeedbackOnHover",value:function(){Array.from(this.$buttonFeedbacks).forEach((function(e){var t=e.querySelector("span"),n=JSON.parse(e.getAttribute("data-feedback-button")),r="";e.addEventListener("mouseenter",(function(i){r=t.innerText;var a=e.offsetWidth;r!==n&&(t.innerText=n.hover,a>e.offsetWidth&&(e.style.width="".concat(a,"px")))})),e.addEventListener("mouseleave",(function(i){r!==n&&(e.style.width="",t.innerText=r)}))}))}},{key:"_saveActiveSlideToHistory",value:function(){var e="#".concat(this.$cviceni.querySelector(".active-slide").id);window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"enableTabControlOnActiveSlide",value:function(e,t){var n=e.querySelectorAll("textarea"),r=t.querySelectorAll("textarea");Array.from(r).forEach((function(e){e.setAttribute("tabindex",-1)})),Array.from(n).forEach((function(e){e.setAttribute("tabindex",0)}))}},{key:"hideAllOpenComments",value:function(){var e=document.querySelectorAll(".comment:not(.hidden)");Array.from(e).forEach((function(e){e.getElementsByClassName("close")[0].click()}))}}]),r}(m),U=function(t){function r(){return e(this,r),l(this,o(r).call(this))}return a(r,t),n(r,[{key:"slides",value:function(){for(var e=0;e<this.$slides.length;e+=1)if(this.$slides[e].setAttribute("data-slide-index",e),0===e){var t="#".concat(this.$slides[e].id);window.history.replaceState?window.history.replaceState(null,null,t):window.location.hash=t}else h(this.$slides[e],"next-slide");return this}},{key:"pagination",value:function(){var e=this.$slides.length;Array.from(this.$slides).forEach((function(t,n){var r=t.querySelector(".zadani"),i=r.querySelector("h1"),a=document.createElement("div");a.classList.add("pagination"),a.innerHTML="".concat(n+1,"/").concat(e),r.insertBefore(a,i)}))}}]),r}(m);function Y(e){return function(t){return null==e?void 0:e[t]}}var K=Y({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),V="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,W=V||z||Function("return this")(),X=W.Symbol;var G=Array.isArray,J=Object.prototype,Q=J.hasOwnProperty,Z=J.toString,ee=X?X.toStringTag:void 0;var te=Object.prototype.toString;var ne="[object Null]",re="[object Undefined]",ie=X?X.toStringTag:void 0;function ae(e){return null==e?void 0===e?re:ne:ie&&ie in Object(e)?function(e){var t=Q.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var i=Z.call(e);return r&&(t?e[ee]=n:delete e[ee]),i}(e):function(e){return te.call(e)}(e)}function oe(e){return null!=e&&"object"==typeof e}var ce="[object Symbol]";var se=1/0,le=X?X.prototype:void 0,ue=le?le.toString:void 0;function de(e){if("string"==typeof e)return e;if(G(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,de)+"";if(function(e){return"symbol"==typeof e||oe(e)&&ae(e)==ce}(e))return ue?ue.call(e):"";var t=e+"";return"0"==t&&1/e==-se?"-0":t}function fe(e){return null==e?"":de(e)}var ve=/[&<>"']/g,ye=RegExp(ve.source);function he(e){return(e=fe(e))&&ye.test(e)?e.replace(ve,K):e}var pe=Y({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),me=/&(?:amp|lt|gt|quot|#39);/g,ge=RegExp(me.source);function be(e){return(e=fe(e))&&ge.test(e)?e.replace(me,pe):e}var Se=Object.prototype;function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Se)}var Ae,Ee,ke=(Ae=Object.keys,Ee=Object,function(e){return Ae(Ee(e))}),Oe=Object.prototype.hasOwnProperty;function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var xe="[object AsyncFunction]",Le="[object Function]",Te="[object GeneratorFunction]",$e="[object Proxy]";function qe(e){if(!je(e))return!1;var t=ae(e);return t==Le||t==Te||t==xe||t==$e}var Pe,Be=W["__core-js_shared__"],Ce=(Pe=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"";var Ie=Function.prototype.toString;function Me(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ne=/^\[object .+?Constructor\]$/,De=Function.prototype,He=Object.prototype,Re=De.toString,_e=He.hasOwnProperty,Fe=RegExp("^"+Re.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ue(e){return!(!je(e)||function(e){return!!Ce&&Ce in e}(e))&&(qe(e)?Fe:Ne).test(Me(e))}function Ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ue(n)?n:void 0}var Ke=Ye(W,"DataView"),Ve=Ye(W,"Map"),ze=Ye(W,"Promise"),We=Ye(W,"Set"),Xe=Ye(W,"WeakMap"),Ge=Me(Ke),Je=Me(Ve),Qe=Me(ze),Ze=Me(We),et=Me(Xe),tt=ae;(Ke&&"[object DataView]"!=tt(new Ke(new ArrayBuffer(1)))||Ve&&"[object Map]"!=tt(new Ve)||ze&&"[object Promise]"!=tt(ze.resolve())||We&&"[object Set]"!=tt(new We)||Xe&&"[object WeakMap]"!=tt(new Xe))&&(tt=function(e){var t=ae(e),n="[object Object]"==t?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case Ge:return"[object DataView]";case Je:return"[object Map]";case Qe:return"[object Promise]";case Ze:return"[object Set]";case et:return"[object WeakMap]"}return t});var nt=tt,rt="[object Arguments]";function it(e){return oe(e)&&ae(e)==rt}var at=Object.prototype,ot=at.hasOwnProperty,ct=at.propertyIsEnumerable,st=it(function(){return arguments}())?it:function(e){return oe(e)&&ot.call(e,"callee")&&!ct.call(e,"callee")},lt=9007199254740991;function ut(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=lt}var dt="object"==typeof exports&&exports&&!exports.nodeType&&exports,ft=dt&&"object"==typeof module&&module&&!module.nodeType&&module,vt=ft&&ft.exports===dt?W.Buffer:void 0,yt=(vt?vt.isBuffer:void 0)||function(){return!1},ht={};ht["[object Float32Array]"]=ht["[object Float64Array]"]=ht["[object Int8Array]"]=ht["[object Int16Array]"]=ht["[object Int32Array]"]=ht["[object Uint8Array]"]=ht["[object Uint8ClampedArray]"]=ht["[object Uint16Array]"]=ht["[object Uint32Array]"]=!0,ht["[object Arguments]"]=ht["[object Array]"]=ht["[object ArrayBuffer]"]=ht["[object Boolean]"]=ht["[object DataView]"]=ht["[object Date]"]=ht["[object Error]"]=ht["[object Function]"]=ht["[object Map]"]=ht["[object Number]"]=ht["[object Object]"]=ht["[object RegExp]"]=ht["[object Set]"]=ht["[object String]"]=ht["[object WeakMap]"]=!1;var pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,mt=pt&&"object"==typeof module&&module&&!module.nodeType&&module,gt=mt&&mt.exports===pt&&V.process,bt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),St=bt&&bt.isTypedArray,wt=St?function(e){return function(t){return e(t)}}(St):function(e){return oe(e)&&ut(e.length)&&!!ht[ae(e)]},At="[object Map]",Et="[object Set]",kt=Object.prototype.hasOwnProperty;function Ot(e){if(null==e)return!0;if(function(e){return null!=e&&ut(e.length)&&!qe(e)}(e)&&(G(e)||"string"==typeof e||"function"==typeof e.splice||yt(e)||wt(e)||st(e)))return!e.length;var t=nt(e);if(t==At||t==Et)return!e.size;if(we(e))return!function(e){if(!we(e))return ke(e);var t=[];for(var n in Object(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e).length;for(var n in e)if(kt.call(e,n))return!1;return!0}var jt,xt,Lt,Tt,$t=function(t){function r(){var t;return e(this,r),(t=l(this,o(r).call(this))).$formExport=t.$exportSlide.querySelector("#form-to-send"),t._clickListener=t._clickListener.bind(s(t)),t.beforeSendForm=t.beforeSendForm.bind(s(t)),t}return a(r,t),n(r,[{key:"init",value:function(){switch(this.isDone){case!0:document.documentElement.classList.add("is-done"),document.documentElement.setAttribute("data-state","done"),Array.from(document.querySelectorAll(".show-when-done")).forEach((function(e){e.classList.remove("hidden")})),Array.from(document.querySelectorAll(".hide-when-done")).forEach((function(e){e.classList.add("hidden")}));break;case!1:this.addEventListeners()}}},{key:"addEventListeners",value:function(){this.loopSaveButtons(),this.$exportSlide.querySelector('button[type="submit"]').addEventListener("click",this.beforeSendForm)}},{key:"beforeSendForm",value:function(e){this.analytics=HISTORYLAB.analytics.data,this.analytics.time.end={time:Math.round(performance.now()),date:Date.now()},this.analytics.time.timeSpent=HISTORYLAB.analytics.timeSpent,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"K",time:this.analytics.time.end.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics,document.getElementById("odpoved_id").value=this.data}},{key:"checkForData",value:function(e){return Ot(e)?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e.user.data),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"getExerciseMode",value:function(){var e=this.$formSlide.querySelector('input[name="exercise-mode"]:checked');return HISTORYLAB.import.hasOwnProperty("exerciseMode")?HISTORYLAB.import.exerciseMode:e?parseInt(e.value,10):-1}},{key:"data",get:function(){var e={};e.entryId=HISTORYLAB.import.entryid||0,e.lmsHash=HISTORYLAB.import.lmsHash||"0",e.exercise={id:parseInt(this.$cviceni.getAttribute("data-exercise-id"),10),slug:this.$cviceni.getAttribute("id"),name:document.querySelector("#header .title").innerText||"",version:{global:document.documentElement.getAttribute("data-version-global"),content:parseInt(document.documentElement.getAttribute("data-version-content"),10)},mode:this.getExerciseMode()},e.user={form:{name:HISTORYLAB.import.name||this.$formSlide.querySelector("#user-name").value,email:HISTORYLAB.import.user||this.$formSlide.querySelector("#user-email").value,institution:HISTORYLAB.import.institution||this.$formSlide.querySelector("#user-institution").value,teacher:HISTORYLAB.import.teacher||this.$formSlide.querySelector("#teacher-email").value,group:{members:1===e.exercise.mode?Array.from(this.$formSlide.querySelectorAll("#form-group-members input")).map((function(e){return e.value})):[]}},analytics:HISTORYLAB.analytics.data||{},data:[]};var t=document.querySelectorAll("[data-save]");return e.user.data=Array.from(t).map((function(e){var t={id:"",node:"",value:""};if(t.id=e.getAttribute("id"),t.node=e.tagName,"TEXTAREA"===t.node)e.hasAttribute("data-textarea-target")||e.hasAttribute("data-svg-textarea-target")?(e.value?t.value=he(e.value):t.value=null,e.getAttribute("data-svg-textarea-target")&&(t.svg=e.getAttribute("data-svg-textarea-target"))):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("INPUT"===t.node)"value"===e.getAttribute("data-save")?e.value?t.value=he(e.value):t.value=null:(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("SELECT"===t.node)if("value"===e.getAttribute("data-save"))if(e.value){t.value=e.value;for(var n=0;n<e.options.length;n+=1)if(e.options[n].innerHTML===e.value){t.selectedIndex=n;break}}else t.value=null;else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else if("svg"===t.node)if(e.hasAttribute("data-svg-target")){t.value=r.b64EncodeUnicode(e.innerHTML);var i=Array.from(e.querySelectorAll("[data-svg-path]")).length,a=Array.from(e.querySelectorAll("[data-svg-textarea-target]")).length,o=Array.from(e.querySelectorAll("[data-svg-circle]")).length;t.analytics={comments:a>0&&a,paths:i>0&&i,points:o>0&&o}}else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else"DIV"===t.node&&(e.hasAttribute("data-sortable-target")?t.value=r.b64EncodeUnicode(e.innerHTML):"analyticka-tabulka"===e.getAttribute("data-target")?t.value=r.b64EncodeUnicode(e.innerHTML):"editor"===e.getAttribute("data-target")?t.value=r.b64EncodeUnicode(e.innerHTML):"html"===e.getAttribute("data-save")?t.value=r.b64EncodeUnicode(e.innerHTML):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."))));return t})),e.user.analytics.client=platform.description,e.done=!0,JSON.stringify(e)},set:function(e){for(var t=0;t<2;t+=1)r.renderUserData(e,t)}}],[{key:"renderUserData",value:function(e,t){e.forEach((function(e){var n=document.getElementById(e.id);switch(t){case 0:switch(e.node){case"svg":case"DIV":n.innerHTML=r.b64DecodeUnicode(e.value)}break;case 1:switch(e.node){case"INPUT":n.value=be(e.value||" "),n.readOnly=!0;break;case"SELECT":n.selectedIndex=e.selectedIndex||0,n.value=e.value||" ",n.disabled=!0;break;case"TEXTAREA":n.value=be(e.value||" "),n.readOnly=!0}}}))}},{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))})))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""))}}]),r}(m),qt=function(t){function r(){var t;return e(this,r),(t=l(this,o(r).call(this))).init(),t}return a(r,t),n(r,[{key:"init",value:function(){this.analytics.time.start={time:Math.round(performance.now()),date:Date.now()},this.analytics.activity.steps[this.analytics.activity.length]={type:"S",time:this.analytics.time.start.time,date:Date.now()}}},{key:"data",get:function(){return this.analytics},set:function(e){this.analytics=e}},{key:"timeSpent",get:function(){return this.analytics.time.end.time-this.analytics.time.start.time}}]),r}(m),Pt=function(t){function r(){var t;return e(this,r),(t=l(this,o(r).call(this))).$form=t.$formSlide.querySelector("#form"),t.$userEmail=t.$form.querySelector("#user-email"),t.$groupMembers=t.$form.querySelector("#form-group-members"),t.$modes=t.$form.querySelectorAll("[data-exercise-mode]"),t.$button=t.$formSlide.querySelector('[data-nav-button="next"]'),t.$showUserEmail=document.querySelectorAll('[data-form="about-user-email"]'),t.$formExport=t.$exportSlide.querySelector("#form-to-send"),t.isFromLMS="string"==typeof t.import.lmsHash&&t.import.lmsHash.length>0,t.groupMembers=1,t.urlParameters={},t}return a(r,t),n(r,[{key:"init",value:function(){switch(this.urlParameters=function(){var e=window.location.search.substr(1).split("&");if(""===e)return{};for(var t={},n=0;n<e.length;n+=1){var r=e[n].split("=",2);1===r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(),this.$button.classList.remove("button-hidden"),this.isDone){case!0:this.whenDone();break;case!1:this.urlParameters.email&&(this.$userEmail.value=this.urlParameters.email,this.$userEmail.readOnly=!0,this.$userEmail.classList.add("is-readonly")),this.addEventListenersToExerciseModeRadioButtons(),this.addGroupMemberField(),this.isFromLMS&&this.whenFromLMS()}}},{key:"whenFromLMS",value:function(){Array.from(this.$formSlide.querySelectorAll(".hide-when-from-lms")).forEach((function(e){e.classList.add("hidden")})),1===this.import.exerciseMode&&(this.$form.classList.remove("hidden"),this.$groupMembers.classList.remove("hidden"))}},{key:"whenDone",value:function(){var e=this;Array.from(this.$showUserEmail).forEach((function(t){t.innerText+=" ".concat(e.import.user||"neznámý uživatel")})),this.$button.innerText=this.$button.getAttribute("data-done"),this.$form.classList.add("hidden"),this.$formExport.setAttribute("action",""),this.$formExport.classList.add("hidden")}},{key:"addEventListenersToExerciseModeRadioButtons",value:function(){var e=this;Array.from(this.$modes).forEach((function(t){t.addEventListener("change",(function(){"1"===t.value?e.$groupMembers.classList.remove("hidden"):e.$groupMembers.classList.add("hidden")}))}))}},{key:"addGroupMemberField",value:function(){var e=this,t=this.$groupMembers.querySelector('[data-form="group-member-add"]'),n=this.$groupMembers.querySelector('[data-form="group-member-master"]'),r=t.parentElement;t.addEventListener("click",(function(i){var a=n.cloneNode();a.value="",a.id=a.id.replace("1",e.groupMembers+=1),a.removeAttribute("data-form"),r.insertBefore(a,t),a.focus({preventScroll:!1}),i.preventDefault()}))}}]),r}(m);Array.from||(Array.from=(jt=Object.prototype.toString,xt=function(e){return"function"==typeof e||"[object Function]"===jt.call(e)},Lt=Math.pow(2,53)-1,Tt=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),Lt)},function(e){var t=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!xt(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var a,o=Tt(n.length),c=xt(t)?Object(new t(o)):new Array(o),s=0;s<o;)a=n[s],c[s]=i?void 0===r?i(a,s):i.call(r,a,s):a,s+=1;return c.length=o,c})),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0});var Bt=function(){var e=document.querySelectorAll('[data-nav-button="next"'),t=document.getElementById("patrani-razeni-1").getElementsByClassName("sortable-item"),n=document.querySelector('[data-slide-index="8"]').getElementsByClassName("sources")[0],r=n.getElementsByClassName("source");Array.from(e).forEach((function(e){return function(e){e.addEventListener("click",(function(e){Array.from(t).forEach((function(e,t){var i=e.getElementsByClassName("source-image")[0].getAttribute("src").split("/"),a=i[i.length-1];Array.from(r).forEach((function(e,t){var r=e.getElementsByTagName("image")[0].getAttribute("xlink:href").split("/");r[r.length-1]==a&&n.appendChild(e)}))}))}))}(e)}))},Ct=function(){var e=document.querySelectorAll('[data-nav-button="next"'),t=document.getElementById("promeny-obce-abertamy-razeni-1").getElementsByClassName("sortable-item"),n=document.querySelector('[data-slide-index="3"]').getElementsByClassName("sources")[0],r=n.getElementsByClassName("source");Array.from(e).forEach((function(e){return function(e){e.addEventListener("click",(function(e){Array.from(t).forEach((function(e,t){var i=e.getElementsByClassName("source-image")[0].getAttribute("src").split("/"),a=i[i.length-1];Array.from(r).forEach((function(e,t){var r=e.getElementsByTagName("image")[0].getAttribute("xlink:href").split("/");r[r.length-1]==a&&n.appendChild(e)}))}))}))}(e)}))};document.addEventListener("DOMContentLoaded",(function(){console.log("domLoad:cviceni"),HISTORYLAB.analytics=new qt;var e=new m,t=new F,n=new U,r=new $t,i=new Pt;t.loopNavButtons(),n.slides(),r.checkForData(HISTORYLAB.import.exerciseData||{}).init(),e.header(),i.init(),function(e){var t,n=(e=e||{}).callback||function(){},r=e.activeCallback||function(){},i=e.idleTime||6e4,a=!0;function o(){a&&(a=!1,n())}function c(){a||(a=!0,r()),clearTimeout(t),t=setTimeout(o,i)}function s(e){window[e]("load",c),document[e]("mousemove",c),document[e]("scroll",c),document[e]("keypress",c),document[e]("click",c)}s("addEventListener"),c()}({callback:function(){return document.body.classList.add("is-idle")},activeCallback:function(){return document.body.classList.remove("is-idle")},idleTime:3e3})}),!1),document.addEventListener("DOMContentLoaded",(function(){var e,t,n,r,i,a,o,c,s,l,u,d,f,p,m,g,b=document.querySelector("main.cviceni").id;"jak-psat-o-uprchlicich"===b&&(e=document.querySelector("#popis-interpretace-1"),t=document.querySelector("#popis-interpretace-2"),n=document.querySelector("#popis-interpretace-3"),r=document.querySelector("#popis-interpretace-4"),i=document.querySelector("#popis-interpretace-5"),a=document.querySelector("#popis-interpretace-6"),o=document.querySelector("#popis-interpretace-7"),c=document.querySelector("#popis-interpretace-8"),e.addEventListener("change",(function(e){var n=e.currentTarget,r=t;y(r,"changed")||(r.value=n.value,v(r,"change"))})),t.addEventListener("change",(function(e){var t=e.currentTarget,n=r;y(n,"changed")||(n.value=t.value),h(t,"changed")})),n.addEventListener("change",(function(e){var t=e.currentTarget,n=i;y(n,"changed")||(n.value=t.value),h(t,"changed"),v(n,"change")})),r.addEventListener("change",(function(e){h(e.currentTarget,"changed")})),i.addEventListener("change",(function(e){var t=e.currentTarget,n=a;y(n,"changed")||(n.value=t.value),h(t,"changed")})),a.addEventListener("change",(function(e){h(e.currentTarget,"changed")})),o.addEventListener("change",(function(e){var t=e.currentTarget,n=c;y(n,"changed")||(n.value=t.value),h(t,"changed")})),c.addEventListener("change",(function(e){h(e.currentTarget,"changed")}))),"promeny-mesta-zlin"===b&&Bt(),"promeny-obce-abertamy"===b&&Ct(),"what-happened-at-croydon-airport"===b&&(s=document.querySelector("#text-1"),l=document.querySelector("#text-2"),u=document.querySelector("#text-3"),d=document.querySelector("#text-4"),f=document.querySelector("#text-5"),p=document.querySelector("#text-6"),m=document.querySelector("#text-7"),g=document.querySelector("#text-8"),s.addEventListener("change",(function(e){var t=e.currentTarget,n=l;console.log(!y(n,"changed")),console.log(n.classList.contains("changed")),y(n,"changed")||(n.value=t.value,v(n,"change"))})),l.addEventListener("change",(function(e){var t=e.currentTarget,n=d;y(n,"changed")||(n.value=t.value),h(t,"changed")})),u.addEventListener("change",(function(e){var t=e.currentTarget,n=f;y(n,"changed")||(n.value=t.value),h(t,"changed")})),d.addEventListener("change",(function(e){h(e.currentTarget,"changed")})),f.addEventListener("change",(function(e){var t=e.currentTarget,n=p;y(n,"changed")||(n.value=t.value),h(t,"changed")})),p.addEventListener("change",(function(e){h(e.currentTarget,"changed")})),m.addEventListener("change",(function(e){var t=e.currentTarget,n=g;y(n,"changed")||(n.value=t.value),h(t,"changed")})),g.addEventListener("change",(function(e){h(e.currentTarget,"changed")})))}),!1),window.addEventListener("load",(function(){console.log("windowLoad:cviceni"),m.loadingScreen()}),!1)}();
//# sourceMappingURL=app.build.js.map
