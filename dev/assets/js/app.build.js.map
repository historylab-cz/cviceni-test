{"version":3,"file":"app.build.js","sources":["../../../../src/js/lib/utils.js","../../../../src/js/cviceni/cviceni.js","../../../../node_modules/hotkeys-js/dist/hotkeys.esm.js","../../../../src/js/cviceni/navigation.js","../../../../src/js/cviceni/slides.js","../../../../node_modules/lodash/_basePropertyOf.js","../../../../node_modules/lodash/_escapeHtmlChar.js","../../../../node_modules/lodash/_freeGlobal.js","../../../../node_modules/lodash/_root.js","../../../../node_modules/lodash/_Symbol.js","../../../../node_modules/lodash/_arrayMap.js","../../../../node_modules/lodash/isArray.js","../../../../node_modules/lodash/_getRawTag.js","../../../../node_modules/lodash/_objectToString.js","../../../../node_modules/lodash/_baseGetTag.js","../../../../node_modules/lodash/isObjectLike.js","../../../../node_modules/lodash/isSymbol.js","../../../../node_modules/lodash/_baseToString.js","../../../../node_modules/lodash/toString.js","../../../../node_modules/lodash/escape.js","../../../../node_modules/lodash/_unescapeHtmlChar.js","../../../../node_modules/lodash/unescape.js","../../../../node_modules/lodash/_isPrototype.js","../../../../node_modules/lodash/_overArg.js","../../../../node_modules/lodash/_nativeKeys.js","../../../../node_modules/lodash/_baseKeys.js","../../../../node_modules/lodash/isObject.js","../../../../node_modules/lodash/isFunction.js","../../../../node_modules/lodash/_isMasked.js","../../../../node_modules/lodash/_coreJsData.js","../../../../node_modules/lodash/_toSource.js","../../../../node_modules/lodash/_baseIsNative.js","../../../../node_modules/lodash/_getValue.js","../../../../node_modules/lodash/_getNative.js","../../../../node_modules/lodash/_DataView.js","../../../../node_modules/lodash/_Map.js","../../../../node_modules/lodash/_Promise.js","../../../../node_modules/lodash/_Set.js","../../../../node_modules/lodash/_WeakMap.js","../../../../node_modules/lodash/_getTag.js","../../../../node_modules/lodash/_baseIsArguments.js","../../../../node_modules/lodash/isArguments.js","../../../../node_modules/lodash/isLength.js","../../../../node_modules/lodash/isArrayLike.js","../../../../node_modules/lodash/stubFalse.js","../../../../node_modules/lodash/isBuffer.js","../../../../node_modules/lodash/_baseIsTypedArray.js","../../../../node_modules/lodash/_baseUnary.js","../../../../node_modules/lodash/_nodeUtil.js","../../../../node_modules/lodash/isTypedArray.js","../../../../node_modules/lodash/isEmpty.js","../../../../src/js/cviceni/save-data.js","../../../../src/js/cviceni/analytics.js","../../../../src/js/cviceni/forms.js","../../../../src/js/lib/polyfill-nodelist-foreach.js","../../../../src/js/cviceni/dom-load.js","../../../../src/js/cviceni/idle-timer.js","../../../../src/js/cviceni/controller-load.js","../../../../src/js/cviceni/app.js","../../../../src/js/lib/unsupported-browsers.js","../../../../src/js/cviceni/window-load.js"],"sourcesContent":["export function __isTouchEnabled() {\n  return ('ontouchstart' in window) ||\n    (navigator.maxTouchPoints > 0) ||\n    (navigator.msMaxTouchPoints > 0);\n}\n\n// Is touch: mql.matches === true\nexport function __isTouchOnly() {\n  return window.matchMedia('(hover: none)').matches;\n}\n\nexport function imageIsLoaded(src) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.src = src;\n  });\n}\n\nexport function __createNewCustomEvent(name, options = {}, data = null) {\n  const defaults = {\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events#Event_bubbling\n    bubbles: true,\n    // cancelBubble\n    // stopPropagation()\n    // cancelable\n    // composed\n    // currentTarget\n    // defaultPrevented\n    // preventDefault()\n    // eventPhase\n    // returnValue\n    // preventDefault()\n    // defaultPrevented\n    // target\n    // timeStamp\n    // type\n    // isTrusted\n  };\n\n  const properties = Object.assign(defaults, options);\n\n  return new CustomEvent(name, {\n    detail: data,\n    ...properties,\n  });\n}\n\nexport function __dispatchEvent($element, type, options, payload) {\n  const event = __createNewCustomEvent(type, options, payload);\n\n  // console.log(event);\n  $element.dispatchEvent(event);\n}\n\n/* https://plainjs.com/javascript/events/trigger-an-event-11/ */\nexport function __triggerEvent(el, type) {\n\n  if ('createEvent' in document) {\n    // modern browsers, IE9+\n    const e = new Event(type);\n    el.dispatchEvent(e);\n  } else {\n    // IE 8\n    const e = document.createEventObject();\n    e.eventType = type;\n    el.fireEvent('on' + e.eventType, e);\n  }\n}\n\nexport function __keycodeIsPrintableCharacter(keycode) {\n\n  const valid =\n    (keycode > 47 && keycode < 58) || // number keys\n    keycode == 32 || keycode == 13 || // spacebar & return key(s) (if you want to allow carriage returns)\n    (keycode > 64 && keycode < 91) || // letter keys\n    (keycode > 95 && keycode < 112) || // numpad keys\n    (keycode > 185 && keycode < 193) || // ;=,-./` (in order)\n    (keycode > 218 && keycode < 223); // [\\]' (in order)\n  // https://stackoverflow.com/questions/12467240/determine-if-javascript-e-keycode-is-a-printable-non-control-character#answer-12467610\n\n  return valid;\n\n}\n\nexport function __isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\n// https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\n// Maybe use lodash ? https://lodash.com/docs/4.17.10#defaultsDeep\nexport function __mergeDeep(target, source) {\n  const output = Object.assign({}, target);\n  if (__isObject(target) && __isObject(source)) {\n    Object.keys(source).forEach((key) => {\n      if (__isObject(source[key])) {\n        if (!(key in target)) {\n          Object.assign(output, { [key]: source[key] });\n        } else {\n          output[key] = __mergeDeep(target[key], source[key]);\n        }\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n  }\n  return output;\n}\n\nexport function __isObjectEmpty(object) {\n  return !Object.keys(object).length;\n}\n\nexport function __insertBefore(newNode, referenceNode) {\n  referenceNode.parentNode.insertBefore(newNode, referenceNode);\n}\n\nexport function __insertAfter(newNode, referenceNode) {\n\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n\n}\n\nexport function __getRealDimensions(el, translated = true) {\n\n  const clonedElement = el.cloneNode(true);\n\n  clonedElement.style.visibility = 'hidden';\n  clonedElement.style.display = 'block';\n\n  __insertAfter(clonedElement, el);\n\n  const elDimensions = clonedElement.getBoundingClientRect();\n  const elPosition = (translated) ? __positionTranslated(clonedElement) : __position(clonedElement);\n\n\n  __remove(clonedElement);\n\n  return {\n    width: elDimensions.width,\n    height: elDimensions.height,\n    top: elPosition.top,\n    left: elPosition.left,\n  };\n\n}\n\nexport function __remove(el /* :HTMLElement */) {\n\n  el.parentNode.removeChild(el);\n\n}\n\n\nexport function __getHTML(node) {\n\n  if (!node || !node.tagName) { return; }\n  if (node.outerHTML) { return node.outerHTML; }\n\n  // polyfill:\n  const wrapper = document.createElement('div');\n  wrapper.appendChild(node.cloneNode(true));\n  return wrapper.innerHTML;\n\n}\n\nexport function __getText(el) {\n  return el.innerText || el.textContent;\n}\n\nexport function __globalPosition(event) {\n  // d3.event\n  // The current event, if any. This is set during the invocation of an event listener, and is reset after the listener terminates. Use this to access standard event fields such as event.timeStamp and methods such as event.preventDefault. While you can use the native event.pageX and event.pageY, it is often more convenient to transform the event position to the local coordinate system of the container that received the event using d3.mouse, d3.touch or d3.touches.\n  // If you use Babel, Webpack, or another ES6-to-ES5 bundler, be aware that the value of d3.event changes during an event! An import of d3.event must be a live binding, so you may need to configure the bundler to import from D3’s ES6 modules rather than from the generated UMD bundle; not all bundlers observe jsnext:main. Also beware of conflicts with the window.event global.\n  return {\n    x: event.pageX,\n    y: event.pageY,\n  };\n}\n\nexport function __localPosition(container) {\n  // d3.mouse\n  // Returns the x and y coordinates of the current event relative to the specified container. The container may be an HTML or SVG container element, such as a G element or an SVG element. The coordinates are returned as a two-element array of numbers [x, y].\n  // BUG: d3.mouse doesn’t observe CSS transform on Firefox — https://github.com/d3/d3-selection/issues/81\n  // TEMPORARY FIX: https://github.com/d3/d3-selection/issues/191#issuecomment-474987103\n\n  let position = [];\n\n  if (platform.name === 'Firefox' && d3.event.target.closest('.half-slide-active')) {\n    // this works for Firefox even in transformed container\n    // if (platform.name === 'Firefox')\n    // but creates another bug when used on top of another SVG element (with different viewbox?),\n    // so make temporary fix only of .half-slide-active to fix the orginal bug with new bug\n    // console.log(d3.event.target.closest('.half-slide-active'));\n    position = [\n      d3.event.offsetX,\n      d3.event.offsetY,\n    ];\n  } else {\n    // this works for Chrome\n    position = d3.mouse(container);\n  }\n\n  return {\n    x: d3.format('.0f')(position[0]),\n    y: d3.format('.0f')(position[1]),\n  };\n}\n\nexport function __positionTranslated(el) {\n\n\n  const curTransform = new WebKitCSSMatrix(window.getComputedStyle(el).webkitTransform);\n\n  const body = document.body;\n\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n\n  return {\n    left: el.offsetLeft + curTransform.m41,\n    top: el.offsetTop + curTransform.m42,\n  };\n\n}\n\nexport function __position(el) {\n\n  const elAttibutes = el.getBoundingClientRect();\n  const body = document.body;\n\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n\n  return {\n    left: elAttibutes.left + scrollLeft,\n    top: elAttibutes.top + scrollTop,\n    height: elAttibutes.height,\n    width: elAttibutes.width,\n  };\n}\n\n// TODO: check for https://github.com/vladocar/nanoJS/\nexport function __toggleClass(element, cls) {\n  if (__hasClass(element, cls)) {\n    __removeClass(element, cls);\n  } else {\n    __addClass(element, cls);\n  }\n}\n\nexport function __hasClass(element, cls) {\n  // if there are no elements or classes, we're done\n  if (!element || !cls) return false;\n  return (element.classList) ? element.classList.contains(cls) : (`${element.className} `).indexOf(`${cls} `) > -1;\n}\n\nexport function __addClass(elements, classes) {\n  let _elements = elements;\n  let _classes = classes;\n\n  // if there are no elements or classes, we're done\n  if (!_elements || !_classes) { return; }\n\n  if (typeof (_elements) === 'string') {\n    // if we have a selector, get the chosen _elements\n    _elements = document.querySelectorAll(_elements);\n  } else if (_elements.tagName) {\n    // if we have a single DOM element, make it an array to simplify behavior\n    _elements = [_elements];\n  }\n\n  if (typeof (_classes) === 'string') {\n    // make an array from string _classes\n    _classes = _classes.split(' ');\n  } else {\n    console.log('Class argument must be string with spaces in between class names.');\n    return;\n  }\n\n  // add class to all chosen _elements\n  for (let i = 0; i < _elements.length; i += 1) {\n    // check classList support\n    if (_elements[i].classList) {\n      _elements[i].classList.add(..._classes);\n    } else if (!__hasClass(_elements[i], ..._classes)) {\n      for (let j = 0; j < _classes.length; j += 1) {\n        _elements[i].classes += ` ${_classes[j]}`;\n      }\n    }\n  }\n}\n\nexport function __removeClass(elements, classes) {\n  let _elements = elements;\n  let _classes = classes;\n\n  // if there are no elements or classes, we're done\n  if (!_elements || !_classes) { return; }\n\n  if (typeof (_elements) === 'string') {\n    // if we have a selector, get the chosen _elements\n    _elements = document.querySelectorAll(_elements);\n  } else if (_elements.tagName) {\n    // if we have a single DOM element, make it an array to simplify behavior\n    _elements = [_elements];\n  }\n\n  if (typeof (_classes) === 'string') {\n    // make an array from string _classes\n    _classes = _classes.split(' ');\n  } else {\n    console.log('Class argument must be string with spaces in between class names.');\n    return;\n  }\n\n  // remove class from all chosen _elements\n  for (let i = 0; i < _elements.length; i += 1) {\n    // check classList support\n    if (_elements[i].classList) {\n      _elements[i].classList.remove(..._classes);\n    } else {\n      for (let j = 0; j < _classes.length; j += 1) {\n        _elements[i].className = _elements[i].className.replace(new RegExp(`\\\\b${classes[j]}\\\\b`, 'g'), '');\n      }\n    }\n  }\n}\n","import { __addClass, __removeClass } from '../lib/utils';\n\nexport default class Cviceni {\n  constructor() {\n    this.$cviceni = document.querySelector('.cviceni');\n    this.$header = document.querySelector('#header');\n    this.$saveButtons = document.querySelectorAll('[data-save-button]');\n    this.$buttonFeedbacks = document.querySelectorAll('[data-feedback-button]');\n    this.nav = {\n      $prev: this.$cviceni.querySelectorAll('[data-nav-button=\"prev\"]'),\n      $next: this.$cviceni.querySelectorAll('[data-nav-button=\"next\"]'),\n    };\n    this.$slides = this.$cviceni.querySelectorAll('.slide');\n    this.$activeSlide = this.$cviceni.querySelector('.active-slide');\n    this.$formSlide = this.$cviceni.querySelector('#slide-form');\n    this.$exportSlide = this.$cviceni.querySelector('#slide-export');\n\n    this.urlParams = (new URL(document.location)).searchParams;\n\n    this.import = HISTORYLAB.import;\n    this.isDone = this.import.done === true;\n    this.isExhibition = this.urlParams.get('exid') !== null;\n\n    this.analytics = {\n      time: {\n        start: {\n          date: 0,\n          time: 0,\n        },\n        end: {\n          date: 0,\n          time: 0,\n        },\n        timeSpent: 0,\n      },\n      activity: {\n        length: 0,\n        steps: [],\n      },\n    };\n  }\n\n  header() {\n    const headerHeight = this.$header.offsetHeight;\n    let y0 = 0;\n\n    const hideHeader = (event, $item) => {\n      y = $item.scrollTop;\n\n      if (y > headerHeight && y > y0) {\n        __addClass(this.$header, 'is-hidden');\n        y0 = y;\n      } else if (y < (y0 - 200) || y <= headerHeight) {\n        __removeClass(this.$header, 'is-hidden');\n        y0 = y;\n      }\n    };\n\n    for (let i = 0; i < this.$slides.length; i += 1) {\n      this.$slides[i].removeEventListener('scroll', hideHeader);\n    }\n\n    this.$activeSlide = this.$cviceni.querySelector('.active-slide.slide');\n    let y = this.$activeSlide.scrollTop;\n\n    if (y <= headerHeight) {\n      __removeClass(this.$header, 'is-hidden');\n    } else {\n      __addClass(this.$header, 'is-hidden');\n    }\n\n    if (this.$activeSlide) {\n      this.$activeSlide.addEventListener('scroll', (event) => hideHeader(event, this.$activeSlide));\n    }\n  }\n\n  static loadingScreen() {\n    const $body = document.querySelector('.loading');\n    const $loadingScreen = document.querySelector('#loading-screen');\n    const loaded = JSON.parse($loadingScreen.getAttribute('data-loaded'));\n    const $h1 = $loadingScreen.querySelector('h1');\n\n    setTimeout(() => {\n      $h1.innerText = loaded.h1;\n    }, 300);\n\n    __removeClass($body, 'loading');\n  }\n}\n","/*!\n * hotkeys-js v3.8.3\n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.\n * \n * Copyright (c) 2021 kenny wong <wowohoo@qq.com>\n * http://jaywcjlove.github.io/hotkeys\n * \n * Licensed under the MIT license.\n */\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // 绑定事件\n\nfunction addEvent(object, event, method) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, false);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // 修饰键转换成对应的键码\n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // 处理传的key字符串转换成数组\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // 匹配任何空白字符,包括空格、制表符、换页符等等\n\n  var keys = key.split(','); // 同时设置多个快捷键，以','分割\n\n  var index = keys.lastIndexOf(''); // 快捷键可能包含','，需特殊处理\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // 比较修饰键的数组\n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  \"return\": 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  \"delete\": 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  num_0: 96,\n  num_1: 97,\n  num_2: 98,\n  num_3: 99,\n  num_4: 100,\n  num_5: 101,\n  num_6: 102,\n  num_7: 103,\n  num_8: 104,\n  num_9: 105,\n  num_multiply: 106,\n  num_add: 107,\n  num_enter: 108,\n  num_subtract: 109,\n  num_decimal: 110,\n  num_divide: 111,\n  '⇪': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '⇧': 16,\n  shift: 16,\n  // altKey\n  '⌥': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '⌃': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '⌘': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // 记录摁下的绑定键\n\nvar _scope = 'all'; // 默认热键范围\n\nvar elementHasBindEvent = []; // 已绑定事件的节点记录\n// 返回键码\n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n}; // 设置获取当前范围（默认为'所有'）\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // 获取当前范围\n\n\nfunction getScope() {\n  return _scope || 'all';\n} // 获取摁下绑定键的键值\n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n} // 表单控件控件判断 返回 Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // 判断摁下的键是否为某个键，返回true或者false\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // 转换成键码\n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // 循环删除handlers中的所有 scope(范围)\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // 没有指定scope，获取scope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // 如果scope被删除，将scope重置为all\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // 清除修饰键\n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // 从列表中清除按压过的键\n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } // 特殊处理 cmmand 键，在 cmmand 组合快捷键 keyup 只执行一次的问题\n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } // 修饰键 shiftKey altKey ctrlKey (command||metaKey) 清除\n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // 将修饰键重置为false\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (!keysInfo) {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // 解除绑定某个范围的快捷键\n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // 判断是否传入范围，没有就获取范围\n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].map(function (record) {\n      // 通过函数判断，是否解除绑定，函数相等直接返回\n      var isMatchingMethod = method ? record.method === method : true;\n\n      if (isMatchingMethod && record.scope === scope && compareArray(record.mods, mods)) {\n        return {};\n      }\n\n      return record;\n    });\n  });\n}; // 对监听对应快捷键的回调函数进行处理\n\n\nfunction eventHandler(event, handler, scope) {\n  var modifiersMatch; // 看它是否在当前范围\n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // 检查是否匹配修饰符（如果有返回true）\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // 调用处理程序，如果是修饰键不做处理\n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // 处理keydown事件\n\n\nfunction dispatch(event) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; // 表单控件过滤 默认表单控件不触发快捷键\n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)的command键值224，在Webkit(Chrome)中保持一致\n  // Webkit左右 command 键值不一样\n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // 将特殊字符的key注册到 hotkeys 上\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } // 将 modifierMap 里面的修饰键绑定到 event 中\n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type μ.\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n\n\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n\n    _mods[17] = true;\n    _mods[18] = true;\n  } // 获取范围 默认为 `all`\n\n\n  var scope = getScope(); // 对任何快捷键都需要做的处理\n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope);\n      }\n    }\n  } // key 不在 _handlers 中返回\n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // 记录当前按键键值\n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // 找到处理内容\n          eventHandler(event, record, scope);\n        }\n      }\n    }\n  }\n} // 判断 element 是否已经绑定事件\n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // 需要处理的快捷键列表\n\n  var mods = [];\n  var scope = 'all'; // scope默认为all，所有范围都有效\n\n  var element = document; // 快捷键事件绑定节点\n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+'; // 对为设定范围的判断\n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // 对于每个快捷键进行处理\n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // 按键列表\n\n    mods = []; // 如果是组合快捷键取得组合快捷键\n\n    if (key.length > 1) mods = getMods(_modifier, key); // 将非修饰键转化为键码\n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *表示匹配所有快捷键\n    // 判断key是否在_handlers中，不在就赋一个空数组\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey\n    });\n  } // 在全局document上设置快捷键\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e);\n    });\n    addEvent(window, 'focus', function () {\n      _downKeys = [];\n    });\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e);\n      clearModifier(e);\n    });\n  }\n}\n\nvar _api = {\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  unbind: unbind\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport default hotkeys;\n","/* eslint-disable brace-style */\nimport hotkeys from 'hotkeys-js';\nimport {\n  __hasClass, __addClass, __removeClass, __dispatchEvent,\n} from '../lib/utils';\nimport Cviceni from './cviceni';\n\n// Description:\n// ======================================================\n// Navigation\n// consists from:\n// - prev/next button\n// - history\n// affects:\n// - slides\n// - pagination (generated in build process)\n// - prev/next button (moved inside slides)\n// - history\n// ——————————————————————————————————————————————————————\n// .slide CSS classes\n// - .active-slide\n// - .previous-slide\n// - .next-slide\n// - .visited-slide\n// - .half-slide-active (.slide is on the right when is .active-slide)\n// - .half-slide-previous (.slide is on the left when .previous-slide)\n// - .previous-to-active-slide (mark the most recently viewed .slide)\n// ======================================================\n\nexport default class Navigation extends Cviceni {\n  constructor() {\n    super();\n    // bind the context of an event listener\n    this._clickPrev = this._clickPrev.bind(this);\n    this._clickNext = this._clickNext.bind(this);\n\n    // fix tabbing\n    document.querySelectorAll('div').forEach(($div) => {\n      $div.setAttribute('tabindex', -1);\n      $div.style.outline = '0';\n    });\n\n    // History (back & forward buttons)\n    // A popstate event is dispatched to the window each time the active history entry changes between two history entries for the same document. If the activated history entry was created by a call to history.pushState(), or was affected by a call to history.replaceState(), the popstate event's state property contains a copy of the history entry's state object.\n    // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n    window.onpopstate = (event) => {\n      this.analytics = HISTORYLAB.analytics.data;\n      const $activeSlide = this.$cviceni.querySelector('.active-slide');\n      const activeSlideIndex = $activeSlide.getAttribute('data-slide-index');\n      const $newSlide = this.$cviceni.querySelector(window.location.hash);\n      const newSlideIndex = $newSlide.getAttribute('data-slide-index');\n\n      // check if the slide in url was already visited to prevent user to see slides which wasnt visited yet\n      // AND\n      // check if the new slide isnt tha same one\n      if (($newSlide && __hasClass($newSlide, 'visited-slide')) && ($newSlide.id !== $activeSlide.id)) {\n        __removeClass($activeSlide, 'active-slide');\n\n        Navigation.enableTabControlOnActiveSlide($newSlide, $activeSlide);\n\n        // zaznam do analytiky:\n        this.analytics.activity.length += 1;\n        this.analytics.activity.steps[this.analytics.activity.length] = {\n          slide: parseInt(newSlideIndex, 10),\n          time: Math.round(performance.now()) - this.analytics.time.start.time,\n          date: Date.now(),\n          interaction: {\n            type: event.type,\n          },\n        };\n\n        // going back\n        if (activeSlideIndex > newSlideIndex) {\n          this.analytics.activity.steps[this.analytics.activity.length].type = 'P';\n          this.analytics.activity.steps[this.analytics.activity.length].interaction.name = 'back';\n\n          // slide\n          __addClass($activeSlide, 'next-slide');\n          __removeClass($newSlide, 'previous-slide');\n\n          if (__hasClass($newSlide, 'previous-to-active-slide')) {\n            __removeClass($newSlide, 'previous-to-active-slide');\n          }\n          if (__hasClass($newSlide.previousElementSibling, 'half-slide-previous')) {\n            __addClass($newSlide.previousElementSibling, 'previous-to-active-slide');\n          }\n        }\n        // going forward\n        else {\n          this.analytics.activity.steps[this.analytics.activity.length].type = 'D';\n          this.analytics.activity.steps[this.analytics.activity.length].interaction.name = 'forward';\n\n          // slides\n          __addClass($activeSlide, 'previous-slide');\n          __removeClass($newSlide, 'next-slide');\n\n          if (__hasClass($activeSlide, 'half-slide-previous')) {\n            __addClass($activeSlide, 'previous-to-active-slide');\n          }\n          if (__hasClass($activeSlide.previousElementSibling, 'previous-to-active-slide')) {\n            __removeClass($activeSlide.previousElementSibling, 'previous-to-active-slide');\n          }\n        }\n\n        __addClass($newSlide, 'active-slide');\n\n        // dispatch event that slide has changed\n        __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($newSlide) } });\n\n      } else if (!__hasClass($newSlide, 'visited-slide')) {\n        const activeSlideHash = `#${$activeSlide.id}`;\n        if (window.history.replaceState) {\n          window.history.replaceState(null, null, activeSlideHash);\n        } else {\n          window.location.hash = activeSlideHash;\n        }\n      }\n\n      HISTORYLAB.analytics.data = this.analytics;\n    };\n  }\n\n  getActiveSlide($slide = false) {\n    const $slideActive = $slide || this.$cviceni.querySelector('.active-slide');\n\n    return {\n      element: $slideActive,\n      id: $slideActive.id,\n      index: parseInt($slideActive.getAttribute('data-slide-index'), 10),\n    };\n  }\n\n  static enableTabControlOnActiveSlide($activeSlide, $oldSlide) {\n    const $activeTextareas = $activeSlide.querySelectorAll('textarea');\n    const $oldTextareas = $oldSlide.querySelectorAll('textarea');\n\n    $oldTextareas.forEach(($textarea) => {\n      $textarea.setAttribute('tabindex', -1);\n    });\n    $activeTextareas.forEach(($textarea) => {\n      $textarea.setAttribute('tabindex', 0);\n    });\n  }\n\n  loopNavButtons() {\n    this.nav.$prev.forEach(($prev) => {\n      $prev.addEventListener('click', this._clickPrev, false);\n    });\n    this.nav.$next.forEach(($next) => {\n      $next.addEventListener('click', this._clickNext, false);\n    });\n\n    hotkeys('left, shift+space, shift+enter', (event) => {\n      this._clickPrev(event);\n    });\n    hotkeys('right, space, enter', (event) => {\n      this._clickNext(event);\n    });\n\n    this.buttonFeedbackOnHover();\n  }\n\n  _both() {\n    this.header();\n    Navigation.hideAllOpenComments();\n  }\n\n  static hideAllOpenComments() {\n    const $comments = document.querySelectorAll('.comment:not(.hidden)');\n\n    $comments.forEach(($comment) => {\n      $comment.querySelector('.close').click();\n    });\n  }\n\n  _clickPrev(event) {\n    // get active slide on every click\n    const $activeSlide = this.$cviceni.querySelector('.active-slide');\n    const $previousSlide = $activeSlide.previousElementSibling;\n    const $previousToActiveSlide = this.$cviceni.querySelector('.previous-to-active-slide');\n\n    // zkontroluj zda nějaký další slajd existuje\n    if (!__hasClass($previousSlide, 'slide')) {\n      // pokud ne\n      // __addClass($prev, 'is-hidden');\n    } else {\n      // pokud ano\n\n      // slides\n      __removeClass($activeSlide, 'active-slide');\n      __addClass($activeSlide, 'next-slide');\n\n      __removeClass($previousSlide, 'previous-slide');\n      __addClass($previousSlide, 'active-slide');\n\n      Navigation.enableTabControlOnActiveSlide($previousSlide, $activeSlide);\n\n      if ($previousToActiveSlide) {\n        __removeClass($previousToActiveSlide, 'previous-to-active-slide');\n      }\n      if ($previousSlide.previousElementSibling) {\n        __addClass($previousSlide.previousElementSibling, 'previous-to-active-slide');\n      }\n\n      // dispatch event that slide has changed\n      __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($previousSlide) } });\n\n      // zaznam do analytiky:\n      this.analytics = HISTORYLAB.analytics.data;\n      this.analytics.activity.length += 1;\n      this.analytics.activity.steps[this.analytics.activity.length] = {\n        type: 'P',\n        slide: parseInt($previousSlide.getAttribute('data-slide-index'), 10),\n        time: Math.round(performance.now()) - this.analytics.time.start.time,\n        date: Date.now(),\n      };\n      const interaction = {\n        type: event.type,\n      };\n      switch (event.type) {\n        case 'click':\n          interaction.name = event.currentTarget.getAttribute('data-feedback-button') ? 'feedback' : 'navigation';\n          break;\n\n        case 'keydown':\n          interaction.name = event.code;\n          break;\n\n        default:\n          break;\n      }\n      this.analytics.activity.steps[this.analytics.activity.length].interaction = interaction;\n      HISTORYLAB.analytics.data = this.analytics;\n\n      this._both();\n      // save slide to history\n      this._saveActiveSlideToHistory();\n    }\n\n    event.preventDefault();\n  }\n\n  _clickNext(event) {\n    // get active slide on every click\n    const $activeSlide = this.$cviceni.querySelector('.active-slide');\n    // const $previousSlide = $activeSlide.prevElementSibling;\n    const $previousToActiveSlide = this.$cviceni.querySelector('.previous-to-active-slide');\n    const $nextSlide = $activeSlide.nextElementSibling;\n    // const $previousSlide = $activeSlide.previousElementSibling;\n\n    // zkontroluj zda nějaký další slajd existuje\n    if (!__hasClass($nextSlide, 'slide')) {\n      // pokud ne\n      // __addClass($next, 'is-hidden');\n    } else {\n      // pokud ano\n\n      // slides\n      __removeClass($activeSlide, 'active-slide');\n      __addClass($activeSlide, 'previous-slide previous-to-active-slide');\n\n      __removeClass($nextSlide, 'next-slide');\n      __addClass($nextSlide, 'active-slide visited-slide');\n\n      Navigation.enableTabControlOnActiveSlide($nextSlide, $activeSlide);\n\n      if ($previousToActiveSlide) {\n        __removeClass($previousToActiveSlide, 'previous-to-active-slide');\n      }\n\n      // dispatch event that slide has changed\n      __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($nextSlide) } });\n\n      // zaznam do analytiky:\n      this.analytics = HISTORYLAB.analytics.data;\n      this.analytics.activity.length += 1;\n      this.analytics.activity.steps[this.analytics.activity.length] = {\n        type: 'D',\n        slide: parseInt($nextSlide.getAttribute('data-slide-index'), 10),\n        time: Math.round(performance.now()) - this.analytics.time.start.time,\n        date: Date.now(),\n      };\n      const interaction = {\n        type: event.type,\n      };\n      switch (event.type) {\n        case 'click':\n          interaction.name = event.currentTarget.getAttribute('data-feedback-button') ? 'feedback' : 'navigation';\n          break;\n\n        case 'keydown':\n          interaction.name = event.code;\n          break;\n\n        default:\n          break;\n      }\n      this.analytics.activity.steps[this.analytics.activity.length].interaction = interaction;\n      HISTORYLAB.analytics.data = this.analytics;\n\n      this._both();\n      // save slide to history\n      this._saveActiveSlideToHistory();\n    }\n\n    event.preventDefault();\n  }\n\n  buttonFeedbackOnHover() {\n    this.$buttonFeedbacks.forEach(($buttonFeedback) => {\n      const $buttonFeedbackText = $buttonFeedback.querySelector('span');\n      const textDefault = JSON.parse($buttonFeedback.getAttribute('data-feedback-button'));\n      let textCache = '';\n\n      $buttonFeedback.addEventListener('mouseenter', (event) => {\n        textCache = $buttonFeedbackText.innerText;\n        const width = $buttonFeedback.offsetWidth;\n\n        if (textCache !== textDefault) {\n          $buttonFeedbackText.innerText = textDefault.hover;\n\n          if (width > $buttonFeedback.offsetWidth) {\n            $buttonFeedback.style.width = `${width}px`;\n          }\n        }\n      });\n\n      $buttonFeedback.addEventListener('mouseleave', (event) => {\n        if (textCache !== textDefault) {\n          $buttonFeedback.style.width = '';\n          $buttonFeedbackText.innerText = textCache;\n        }\n      });\n    });\n  }\n\n  _saveActiveSlideToHistory() {\n    const activeSlideHash = `#${this.$cviceni.querySelector('.active-slide').id}`;\n    // https://stackoverflow.com/a/14690177/2631749\n    if (window.history.pushState) {\n      window.history.pushState(null, null, activeSlideHash);\n    } else {\n      window.location.hash = activeSlideHash;\n    }\n  }\n}\n","import { __addClass, __hasClass } from '../lib/utils';\nimport Cviceni from './cviceni';\n\nexport default class Slides extends Cviceni {\n  constructor() {\n    super();\n  }\n\n  // distribute CSS classesto all .slide elements\n  slides() {\n    for (let i = 0; i < this.$slides.length; i += 1) {\n      this.$slides[i].setAttribute('data-slide-index', i);\n\n      if (i === 0) {\n        // __addClass(this.$slides[i], 'active-slide visited-slide');\n\n        // set ID of the first slide as a hash to URL\n        // history.replaceState() operates exactly like history.pushState() except that replaceState() modifies the current history entry instead of creating a new one.\n        const activeSlideHash = `#${this.$slides[i].id}`;\n        if (window.history.replaceState) {\n          window.history.replaceState(null, null, activeSlideHash);\n        } else {\n          window.location.hash = activeSlideHash;\n        }\n\n      } else {\n        __addClass(this.$slides[i], 'next-slide');\n      }\n    }\n\n    return this;\n  }\n\n  pagination() {\n    const slides = this.$slides.length;\n\n    this.$slides.forEach(($slide, index) => {\n      const $zadani = $slide.querySelector('.zadani');\n      const $h1 = $zadani.querySelector('h1');\n      const $pagination = document.createElement('div');\n      $pagination.classList.add('pagination');\n      $pagination.innerHTML = `${index + 1}/${slides}`;\n      $zadani.insertBefore($pagination, $h1);\n    });\n  }\n\n}\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\nmodule.exports = escapeHtmlChar;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var escapeHtmlChar = require('./_escapeHtmlChar'),\n    toString = require('./toString');\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/* eslint-disable brace-style */\nimport escape from 'lodash/escape';\nimport unescape from 'lodash/unescape';\nimport isEmpty from 'lodash/isEmpty';\nimport Cviceni from './cviceni';\n\nexport default class SaveData extends Cviceni {\n  constructor() {\n    super();\n\n    this.$formExport = this.$exportSlide.querySelector('#form-to-send');\n\n    // bind the context of an event listener\n    this._clickListener = this._clickListener.bind(this);\n    this.beforeSendForm = this.beforeSendForm.bind(this);\n  }\n\n  init() {\n    switch (this.isDone) {\n      // cvičení je vyplněné\n      case true:\n        // dát celému dokumentu classu .is-done\n        document.documentElement.classList.add('is-done');\n        document.documentElement.setAttribute('data-state', 'done');\n\n        // zobrazit obsah, pro cvičení v prohlížecím módu\n        document.querySelectorAll('.show-when-done').forEach(($showWhenDone) => {\n          $showWhenDone.classList.remove('hidden');\n        });\n        // skrýt obsah, pro cvičení v prohlížecím módu\n        document.querySelectorAll('.hide-when-done').forEach(($hideWhenDone) => {\n          $hideWhenDone.classList.add('hidden');\n        });\n        break;\n\n      // cvičení není vyplněné\n      case false:\n        this.addEventListeners();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  addEventListeners() {\n    this.loopSaveButtons();\n    this.$exportSlide.querySelector('button[type=\"submit\"]').addEventListener('click', this.beforeSendForm);\n  }\n\n  beforeSendForm(event) {\n    this.analytics = HISTORYLAB.analytics.data;\n    this.analytics.time.end = {\n      time: Math.round(performance.now()),\n      date: Date.now(),\n    };\n    this.analytics.time.timeSpent = HISTORYLAB.analytics.timeSpent;\n    this.analytics.activity.length += 1;\n    this.analytics.activity.steps[this.analytics.activity.length] = {\n      type: 'K',\n      time: this.analytics.time.end.time,\n      date: Date.now(),\n    };\n    HISTORYLAB.analytics.data = this.analytics;\n\n    document.getElementById('odpoved_id').value = this.data;\n    // document.getElementById('analytika_id').value = this.data;\n    // console.log(\"DATA\", this.data);\n    // event.preventDefault();\n  }\n\n  // check for user data\n  checkForData(importedData) {\n    if (isEmpty(importedData)) {\n      console.log('nemáme uživatelská data');\n    } else {\n      console.log('máme uživatelská data');\n      // load & render user data\n      // console.log('user.data', importedData.user.data);\n      this.data = importedData.user.data;\n    }\n\n    return this;\n  }\n\n  // buttons which saves the current state of user data\n  loopSaveButtons() {\n    for (let i = 0; i < this.$saveButtons.length; i += 1) {\n      this.$saveButtons[i].addEventListener('click', this._clickListener, false);\n    }\n  }\n\n  // print data to console for debug\n  _clickListener() {\n    // console.log(this.data);\n  }\n\n  getExerciseMode() {\n    const $checked = this.$formSlide.querySelector('input[name=\"exercise-mode\"]:checked');\n\n    // pokud máme informaci z backendu\n    if (HISTORYLAB.import.hasOwnProperty('exerciseMode')) {\n      return HISTORYLAB.import.exerciseMode;\n    }\n    // pokud máme informaci z frontendu\n    if ($checked) {\n      return parseInt($checked.value, 10);\n    }\n    // pokud nemáme nic tak nezvoleno nic\n    return -1;\n  }\n\n  // save data\n  get data() {\n    const version = {\n      global: document.querySelector('[data-version-global]').getAttribute('data-version-global'),\n    };\n    [version.major, version.minor, version.patch] = version.global.split('.');\n\n    function replaceURL(html) {\n\n      // const html = SaveData.b64DecodeUnicode(dataField.value);\n\n      // replace `cviceni-aktualni` in saved html\n      if (html.indexOf('cviceni-aktualni')) {\n        const regex = /cviceni-aktualni/g;\n\n        // from v6.0.0 we store every minor version (eg. `v6-0`, `v7-2`)\n        if (version.major >= 6) {\n          return html.replace(regex, `cviceni-verze/v${version.major}-${version.minor}`);\n        }\n        return html.replace(regex, `cviceni-verze/v${version.major}`);\n      }\n      return html;\n    }\n\n    // data object\n    const data = {};\n    // informace o cviceni a záznamu\n    data.entryId = HISTORYLAB.import.entryid || 0;\n    data.lmsHash = HISTORYLAB.import.lmsHash || '0';\n    data.exercise = {\n      id: parseInt(this.$cviceni.getAttribute('data-exercise-id'), 10),\n      slug: this.$cviceni.getAttribute('id'),\n      name: document.querySelector('#header .title').innerText || '',\n      version: {\n        global: version.global,\n        content: parseInt(document.documentElement.getAttribute('data-version-content'), 10),\n      },\n      mode: this.getExerciseMode(),\n    };\n\n\n    // data o a od uživatele\n    data.user = {\n      // data z LMS nebo z formuláře\n      form: {\n        name: HISTORYLAB.import.name || this.$formSlide.querySelector('#user-name').value,\n        email: HISTORYLAB.import.user || this.$formSlide.querySelector('#user-email').value,\n        institution: HISTORYLAB.import.institution || this.$formSlide.querySelector('#user-institution').value,\n        teacher: HISTORYLAB.import.teacher || this.$formSlide.querySelector('#teacher-email').value,\n        group: {\n          members: data.exercise.mode === 1 ? Array.from(this.$formSlide.querySelectorAll('#form-group-members input')).map(($groupMember) => $groupMember.value) : [],\n        },\n        exhibition: this.isExhibition ? this.urlParams.get('exid') : false,\n      },\n      // analytická data\n      analytics: HISTORYLAB.analytics.data || {},\n      // uživatelská data\n      data: [],\n    };\n\n    // loop through all user data fields\n    const $dataFields = document.querySelectorAll('[data-save]');\n    data.user.data = Array.from($dataFields).map(($dataField) => {\n      const dataField = {\n        // default properties of dataField object\n        id: '',\n        node: '',\n        value: '',\n      };\n\n      dataField.id = $dataField.getAttribute('id');\n      dataField.node = $dataField.tagName;\n\n      // check for element type and get its appropriate value\n      // TEXTAREA\n      if (dataField.node === 'TEXTAREA') {\n        if ($dataField.hasAttribute('data-textarea-target') || $dataField.hasAttribute('data-svg-textarea-target')) {\n          // if there is data-attribute\n          if ($dataField.value) {\n            dataField.value = escape($dataField.value);\n          } else {\n            dataField.value = null;\n          }\n          // if TEXTAREA in SVG, save also ID of that SVG\n          if ($dataField.getAttribute('data-svg-textarea-target')) {\n            dataField.svg = $dataField.getAttribute('data-svg-textarea-target');\n          }\n        } else {\n          // if no data-attribute\n          console.log(dataField.id);\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\n        }\n      }\n      // INPUT\n      else if (dataField.node === 'INPUT') {\n        if ($dataField.getAttribute('data-save') === 'value') {\n          // if there is data-attribute\n          if ($dataField.value) {\n            dataField.value = escape($dataField.value);\n          } else {\n            dataField.value = null;\n          }\n        } else {\n          // if no data-attribute\n          console.log(dataField.id);\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\n        }\n      }\n      // SELECT\n      else if (dataField.node === 'SELECT') {\n        if ($dataField.getAttribute('data-save') === 'value') {\n          // if there is data-attribute\n          if ($dataField.value) {\n\n            dataField.value = $dataField.value;\n            for (let i = 0; i < $dataField.options.length; i += 1) {\n              if ($dataField.options[i].innerHTML === $dataField.value) {\n                dataField.selectedIndex = i;\n                break;\n              }\n            }\n\n          } else {\n            dataField.value = null;\n          }\n        } else {\n          // if no data-attribute\n          console.log(dataField.id);\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\n        }\n      }\n      // SVG\n      else if (dataField.node === 'svg') {\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\n        if ($dataField.hasAttribute('data-svg-target')) {\n          // if data-attribute\n          dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n\n          const $paths = $dataField.querySelectorAll('[data-svg-path]').length;\n          const $comments = $dataField.querySelectorAll('[data-svg-textarea-target]').length;\n          const $points = $dataField.querySelectorAll('[data-svg-circle]').length;\n\n          dataField.analytics = {\n            comments: $comments > 0 ? $comments : false,\n            paths: $paths > 0 ? $paths : false,\n            points: $points > 0 ? $points : false,\n          };\n\n        } else {\n          // if no data-attribute\n          console.log(dataField.id);\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\n        }\n      }\n      // DIV\n      else if (dataField.node === 'TABLE' || dataField.node === 'TBODY') {\n        if ($dataField.getAttribute('data-save') === 'html') {\n          // if data-attribute\n          // console.log(dataField.id);\n          // console.log($dataField.innerHTML);\n          dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n        }\n      }\n      // DIV\n      else if (dataField.node === 'DIV') {\n        // Řazení\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\n        if ($dataField.hasAttribute('data-sortable-target')) {\n          // if data-attribute\n          dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n        }\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\n        // Analytická tabulka\n        else if ($dataField.getAttribute('data-target') === 'analyticka-tabulka') {\n          // if data-attribute\n          // console.log(dataField.id);\n          // console.log($dataField.innerHTML);\n          dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n        }\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\n        // Analytická tabulka\n        else if ($dataField.getAttribute('data-target') === 'editor') {\n          // if data-attribute\n          // console.log(dataField.id);\n          // console.log($dataField.innerHTML);\n          dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n        }\n        // Anything else with HTML content to save\n        else if ($dataField.getAttribute('data-save') === 'html') {\n          // if data-attribute\n          // console.log(dataField.id);\n          // console.log($dataField.innerHTML);\n          const editor = HISTORYLAB.tools[$dataField.id];\n          if (editor) {\n            dataField.value = editor.getEditorJSON();\n          } else {\n            dataField.value = SaveData.b64EncodeUnicode(replaceURL($dataField.innerHTML));\n          }\n        }\n        else {\n          // if no data-attribute\n          console.log(dataField.id);\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\n        }\n      }\n\n      return dataField;\n    });\n\n    // save what browser and os user used\n    data.user.analytics.client = platform.description;\n\n    // differentiate saved JSON\n    data.done = true;\n\n    return JSON.stringify(data);\n  }\n\n  // load data\n  set data(importedData) {\n    // Necessary order for rendering user data\n    // 1.loop — Render DOM (svg, div)\n    // 2.loop — Load VALUES (textarea)\n    const loops = 2;\n\n    for (let loopIndex = 0; loopIndex < loops; loopIndex += 1) {\n      SaveData.renderUserData(importedData, loopIndex);\n    }\n\n    // 1. loop all src, xlink:href\n    // 2. check for `cviceni-aktualni`\n    // 3. replace it with `cviceni-verze/${versionMajor}`\n  }\n\n  static renderUserData(data, loopIndex) {\n    const version = {\n      global: document.querySelector('[data-version-global]').getAttribute('data-version-global').split('.'),\n    };\n    [version.major, version.minor, version.patch] = version.global;\n\n    data.forEach((dataField) => {\n      const $element = document.getElementById(dataField.id);\n\n      if (!$element) {\n        console.error(dataField.id, 'No element with the id exists!');\n        return;\n      }\n\n      switch (loopIndex) {\n        // 1.loop — Render DOM (svg, div)\n        // needs to be decoded from Base64\n        // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/atob\n        case 0:\n\n          switch (dataField.node) {\n            case 'svg':\n            case 'DIV':\n            case 'TABLE':\n            case 'TBODY':\n              // eslint-disable-next-line no-case-declarations\n              if (typeof dataField.value === 'string') {\n                const html = SaveData.b64DecodeUnicode(dataField.value);\n\n                // replace `cviceni-aktualni` in saved html\n                if (html.indexOf('cviceni-aktualni')) {\n                  const regex = /cviceni-aktualni/g;\n\n                  // from v6.0.0 we store every minor version (eg. `v6-0`, `v7-2`)\n                  if (version.major >= 6) {\n                    $element.innerHTML = html.replace(regex, `cviceni-verze/v${version.major}-${version.minor}`);\n                  }\n                  else {\n                    $element.innerHTML = html.replace(regex, `cviceni-verze/v${version.major}`);\n                  }\n                }\n                else {\n                  $element.innerHTML = html;\n                }\n              } else {\n                const $editor = document.querySelector(`#prosemirror-content-${dataField.id}`);\n                if ($editor) {\n                  $editor.innerHTML = JSON.stringify(dataField.value);\n                } else {\n                  console.error('ERROR: editor dosnt have definated content node');\n                }\n              }\n              break;\n\n            default:\n              break;\n          }\n\n          break;\n\n        // 2.loop — Load VALUES (textarea, input, select)\n        case 1:\n\n          switch (dataField.node) {\n            case 'INPUT':\n              $element.value = unescape(dataField.value || ' ');\n              $element.readOnly = true;\n              break;\n            case 'SELECT':\n              $element.selectedIndex = dataField.selectedIndex || 0;\n              $element.value = dataField.value || ' ';\n              $element.disabled = true;\n              break;\n            case 'TEXTAREA':\n              $element.value = unescape(dataField.value || ' ');\n              $element.readOnly = true;\n              break;\n\n            default:\n              break;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    });\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\n  static b64EncodeUnicode(str) {\n    // first we use encodeURIComponent to get percent-encoded UTF-8,\n    // then we convert the percent encodings into raw bytes which\n    // can be fed into btoa.\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\n      // eslint-disable-next-line arrow-body-style\n      (match, p1) => {\n        return String.fromCharCode(`0x${p1}`);\n      }));\n  }\n\n  static b64DecodeUnicode(str) {\n    // Going backwards: from bytestream, to percent-encoding, to original string.\n    // eslint-disable-next-line arrow-body-style\n    return decodeURIComponent(atob(str).split('').map((c) => {\n      return `%${(`00${c.charCodeAt(0).toString(16)}`).slice(-2)}`;\n    }).join(''));\n  }\n\n}\n","import Cviceni from './cviceni';\n\nexport default class Analytics extends Cviceni {\n  constructor() {\n    super();\n\n    this.init();\n  }\n\n  init() {\n    this.analytics.time.start = {\n      time: Math.round(performance.now()),\n      date: Date.now(),\n    };\n    this.analytics.activity.steps[this.analytics.activity.length] = {\n      type: 'S',\n      time: this.analytics.time.start.time,\n      date: Date.now(),\n    };\n  }\n\n  get data() {\n    return this.analytics;\n  }\n\n  set data(analytics) {\n    this.analytics = analytics;\n  }\n\n  get timeSpent() {\n    return this.analytics.time.end.time - this.analytics.time.start.time;\n  }\n}\n","import Cviceni from './cviceni';\n\n// javascript pro první a poslední slajd\nexport default class Forms extends Cviceni {\n  constructor() {\n    super();\n\n    this.$form = this.$formSlide.querySelector('#form');\n    this.$userEmail = this.$form.querySelector('#user-email');\n    this.$groupMembers = this.$form.querySelector('#form-group-members');\n    this.$modes = this.$form.querySelectorAll('[data-exercise-mode]');\n    this.$button = this.$formSlide.querySelector('[data-nav-button=\"next\"]');\n    this.$showUserEmail = document.querySelectorAll('[data-form=\"about-user-email\"]');\n    this.$formExport = this.$exportSlide.querySelector('#form-to-send');\n\n    this.isFromLMS = ((typeof this.import.lmsHash === 'string') && (this.import.lmsHash.length > 0));\n    this.groupMembers = 1;\n  }\n\n  init() {\n    this.$button.classList.remove('button-hidden');\n\n    // cvičení je v prohlížecím módu\n    if (this.isDone) {\n      this.whenDone();\n    }\n    // cvičení je ve vyplňovacím módu\n    else {\n      // check if we have user in URL and prefill the form\n      if (this.urlParams.get('email')) {\n        this.$userEmail.value = this.urlParams.get('email');\n        this.$userEmail.readOnly = true;\n        this.$userEmail.classList.add('is-readonly');\n      }\n\n      if (this.isExhibition) {\n        // similar use case when from LMS\n        this.$formSlide.querySelectorAll('.hide-when-from-lms')\n          .forEach(($hideForLms) => {\n            $hideForLms.classList.add('hidden');\n          });\n      }\n\n      this.addEventListenersToExerciseModeRadioButtons();\n      this.addGroupMemberField();\n\n      if (this.isFromLMS) {\n        this.whenFromLMS();\n      }\n    }\n  }\n\n  whenFromLMS() {\n    // schovat prvky nepotřebné při příchodu z LMS\n    this.$formSlide.querySelectorAll('.hide-when-from-lms')\n      .forEach(($hideForLms) => {\n        $hideForLms.classList.add('hidden');\n      });\n\n    // pokud skupinová práce\n    if (this.import.exerciseMode === 1) {\n\n      // if (this.import.user.length > 0) {\n      //   this.$form.classList.add('hidden');\n\n      //   this.$form.querySelector('.hide-when-from-lms-with-user'.forEach(($hideForLmsWithUser) => {\n      //     $hideForLmsWithUser.classList.add('hidden');\n      //   });\n\n      //   this.$button.innerText = 'Pustit se do cvičení!';\n      // }\n\n      // zobraz formulář, protože potřebujeme zobrazit pole pro další členy skupiny\n      this.$form.classList.remove('hidden');\n      this.$groupMembers.classList.remove('hidden');\n\n    }\n    // else if (this.import.user.length > 0) {\n    //   this.$form.classList.add('hidden');\n\n    //   this.$form.querySelector('.hide-when-from-lms-with-user'.forEach(($hideForLmsWithUser) => {\n    //     $hideForLmsWithUser.classList.add('hidden');\n    //   });\n\n    //   this.$button.innerText = 'Pustit se do cvičení!';\n    // }\n  }\n\n  whenDone() {\n    // vypsat email uživatele nebo jeho jméno pokud existuje\n    this.$showUserEmail.forEach(($userEmail) => {\n      const userName = this.import.exerciseData.user.form.name;\n      const userEmail = this.import.user;\n      const anon = this.urlParams.get('anon');\n      let userEnd = '';\n\n      if (anon) {\n        userEnd = '**********';\n      }\n      else {\n        if (userName) userEnd = userName;\n        if (userEmail) userEnd += userName ? ` (${userEmail})` : userEmail;\n      }\n\n      // TODO: translation\n      $userEmail.innerText += ` ${userEnd || 'neznámý uživatel'}`;\n    });\n\n    // vypsat alternativní copy tlačítka\n    this.$button.innerText = this.$button.getAttribute('data-done');\n\n    // schovat formulář z prvního slajdu\n    this.$form.classList.add('hidden');\n    // schovat a zneaktivnit formulář z posledního slajdu\n    this.$formExport.setAttribute('action', '');\n    this.$formExport.classList.add('hidden');\n  }\n\n  addEventListenersToExerciseModeRadioButtons() {\n    this.$modes.forEach(($mode) => {\n      $mode.addEventListener('change', () => {\n        if ($mode.value === '1') {\n          this.$groupMembers.classList.remove('hidden');\n        }\n        else {\n          this.$groupMembers.classList.add('hidden');\n        }\n      });\n    });\n  }\n\n  addGroupMemberField() {\n    const $addGroupMember = this.$groupMembers.querySelector('[data-form=\"group-member-add\"]');\n    const $masterGroupMember = this.$groupMembers.querySelector('[data-form=\"group-member-master\"]');\n    const $parentElement = $addGroupMember.parentElement;\n\n    $addGroupMember.addEventListener('click', (event) => {\n      const $groupMember = $masterGroupMember.cloneNode();\n\n      $groupMember.value = '';\n      $groupMember.id = $groupMember.id.replace('1', this.groupMembers += 1);\n      $groupMember.removeAttribute('data-form');\n\n      $parentElement.insertBefore($groupMember, $addGroupMember);\n\n      $groupMember.focus({ preventScroll: false });\n\n      event.preventDefault();\n    });\n  }\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable func-names */\n// https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach\nconst polyfillNodelistForeach = () => {\n  if (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n      thisArg = thisArg || window;\n      for (let i = 0; i < this.length; i += 1) {\n        callback.call(thisArg, this[i], i, this);\n      }\n    };\n  }\n};\n\nexport default polyfillNodelistForeach;\n","import idleTimer from './idle-timer';\nimport Cviceni from './cviceni';\nimport Navigation from './navigation';\nimport Slides from './slides';\nimport SaveData from './save-data';\nimport Analytics from './analytics';\nimport Forms from './forms';\n\nimport polyfillNodelistForeach from '../lib/polyfill-nodelist-foreach';\n\n// Edge doesn't support:\n// .forEach() on NodeLists\npolyfillNodelistForeach();\n\nconst domLoad = () => {\n  console.log('domLoad:cviceni');\n\n  const $root = document.documentElement;\n\n  // instantiate\n  HISTORYLAB.analytics = new Analytics();\n  const cviceni = new Cviceni();\n  const navigation = new Navigation();\n  const slides = new Slides();\n  const data = new SaveData();\n  const forms = new Forms();\n\n  // run\n  navigation\n    .loopNavButtons();\n\n  slides\n    .slides();\n\n  data\n    .checkForData(HISTORYLAB.import.exerciseData || {})\n    .init();\n\n  cviceni\n    .header();\n\n  forms\n    .init();\n\n  idleTimer({\n    // function to fire after idle\n    callback: () => $root.classList.add('is-idle'),\n    // function to fire when active\n    activeCallback: () => $root.classList.remove('is-idle'),\n    // Amount of time in milliseconds before becoming idle. default 60000\n    idleTime: 3000,\n  });\n\n  // if (HISTORYLAB.import.done) {\n  //   const $srcs = document.querySelectorAll('audio, video, source, img, image');\n  //   const replace = ((src) => src.replace('/cviceni-aktualni', '..'));\n\n  //   $srcs.forEach(($src) => {\n  //     switch ($src.nodeName) {\n  //       case 'AUDIO':\n  //       case 'IMG':\n  //       case 'SOURCE':\n  //       case 'VIDEO':\n  //         $src.setAttribute(\n  //           'src',\n  //           replace($src.getAttribute('src')),\n  //         );\n\n  //         break;\n\n  //       case 'image':\n  //         $src.setAttribute(\n  //           'xlink:href',\n  //           replace($src.getAttribute('xlink:href')),\n  //         );\n  //         break;\n\n  //       default:\n  //         break;\n  //     }\n  //   });\n  // }\n};\n\nexport default domLoad;\n","/* eslint-disable func-names */\n/**\n * idleTimer\n *\n * If user is idle for idleTime fire callback\n *\n * @param {object} options\n *    - {function} callback - fired when user is idle\n *    - {function} activeCallback - fired when user is active\n *    - {Number} idleTime - time in milliseconds\n *\n * https://www.npmjs.com/package/idle-timer\n */\n\nexport default function idleTimer(options) {\n  // eslint-disable-next-line no-param-reassign\n  options = options || {};\n  const callback = options.callback || function () {};\n  const activeCallback = options.activeCallback || function () {};\n  const idleTime = options.idleTime || 60000;\n  let isActive = true;\n  let timer;\n\n  function idle() {\n    if (!isActive) return;\n    isActive = false;\n    callback();\n  }\n  function activate() {\n    if (!isActive) {\n      isActive = true;\n      activeCallback();\n    }\n    clearTimeout(timer);\n    timer = setTimeout(idle, idleTime);\n  }\n\n  function addOrRemoveEvents(addOrRemove) {\n    window[addOrRemove]('load', activate);\n    document[addOrRemove]('mousemove', activate);\n    document[addOrRemove]('scroll', activate);\n    document[addOrRemove]('keypress', activate);\n    document[addOrRemove]('click', activate);\n  }\n\n  function destroy() {\n    clearTimeout(timer);\n    addOrRemoveEvents('removeEventListener');\n  }\n\n  addOrRemoveEvents('addEventListener');\n  activate();\n\n  return {\n    activate,\n    destroy,\n    idle,\n  };\n}\n","\nconst controllerLoad = () => {\n\n  const pageControllerName = document.querySelector('main.cviceni').id;\n\n  // - inject:js\n  // - end inject:js\n\n};\n\nexport default controllerLoad;\n","/* eslint-disable consistent-return */\nimport domLoad from './dom-load';\nimport windowLoad from './window-load';\nimport controllerLoad from './controller-load';\nimport unsupportedBrowsers from '../lib/unsupported-browsers';\n\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\n(() => {\n  if (unsupportedBrowsers()) return false;\n\n  document.addEventListener('DOMContentLoaded', domLoad, false);\n  document.addEventListener('DOMContentLoaded', controllerLoad, false);\n  // The load event fires when all files have finished loading from all resources, including ads and images.\n})();\n\nwindow.addEventListener('load', windowLoad, false);\n","const unsupportedBrowsers = () => {\n\n  // feature detection for unsupported browsers\n  const isUnsupported = !Array.from\n    || !Element.prototype.matches\n    || !Element.prototype.closest\n    || typeof window.CustomEvent !== 'function'\n    || typeof Object.assign !== 'function';\n\n  if (isUnsupported) {\n    console.warn('Not supported browser.');\n\n    const $unsupported = document.querySelector('#unsupported');\n    $unsupported.querySelector('#unsupported-browser').innerHTML = ` ${platform.name} ${platform.version} `;\n    $unsupported.classList.remove('is-hidden');\n\n    return true;\n  }\n\n  return false;\n};\n\nexport default unsupportedBrowsers;\n","import Cviceni from './cviceni';\n\nconst windowLoad = () => {\n  console.log('windowLoad:cviceni');\n\n  // instantiate\n\n  // run\n  Cviceni\n    .loadingScreen();\n};\n\nexport default windowLoad;\n"],"names":["__dispatchEvent","$element","type","options","payload","event","name","data","defaults","bubbles","properties","Object","assign","CustomEvent","detail","__createNewCustomEvent","dispatchEvent","__hasClass","element","cls","classList","contains","className","indexOf","__addClass","elements","classes","_elements","_classes","document","querySelectorAll","tagName","split","i","length","add","j","console","log","__removeClass","remove","replace","RegExp","Cviceni","$cviceni","querySelector","$header","$saveButtons","$buttonFeedbacks","nav","$prev","this","$next","$slides","$activeSlide","$formSlide","$exportSlide","urlParams","URL","location","searchParams","HISTORYLAB","isDone","done","isExhibition","get","analytics","time","start","date","end","timeSpent","activity","steps","headerHeight","offsetHeight","y0","hideHeader","$item","y","scrollTop","_this","removeEventListener","addEventListener","$body","$loadingScreen","loaded","JSON","parse","getAttribute","$h1","setTimeout","innerText","h1","isff","navigator","userAgent","toLowerCase","addEvent","object","method","attachEvent","concat","window","getMods","modifier","key","mods","slice","getKeys","keys","index","lastIndexOf","splice","_keyMap","backspace","tab","clear","enter","esc","escape","space","left","up","right","down","del","ins","insert","home","pageup","pagedown","capslock","num_0","num_1","num_2","num_3","num_4","num_5","num_6","num_7","num_8","num_9","num_multiply","num_add","num_enter","num_subtract","num_decimal","num_divide","_modifier","shift","alt","option","ctrl","control","cmd","command","modifierMap","shiftKey","ctrlKey","altKey","metaKey","_mods","_handlers","k","_downKeys","_scope","elementHasBindEvent","code","x","toUpperCase","charCodeAt","setScope","scope","getScope","eachUnbind","_ref","_ref$splitKey","splitKey","forEach","originKey","unbindKeys","len","lastKey","keyCode","map","record","a1","a2","arr1","arr2","isIndex","compareArray","eventHandler","handler","modifiersMatch","prototype","hasOwnProperty","call","shortcut","preventDefault","returnValue","stopPropagation","cancelBubble","dispatch","asterisk","which","charCode","hotkeys","filter","push","keyName","keyNum","e","getModifierState","keydown","keyup","_i","keyShortcut","_downKeysCurrent","a","sort","join","undefined","toString","isElementBind","clearModifier","_api","deleteScope","newScope","handlers","getPressedKeyCodes","isPressed","target","srcElement","flag","isContentEditable","readOnly","unbind","keysInfo","Array","isArray","info","_len","arguments","args","_key","_hotkeys","noConflict","deep","Navigation","_clickPrev","bind","_clickNext","$div","setAttribute","style","outline","onpopstate","activeSlideIndex","$newSlide","hash","newSlideIndex","id","enableTabControlOnActiveSlide","slide","parseInt","Math","round","performance","now","Date","interaction","previousElementSibling","active","getActiveSlide","activeSlideHash","history","replaceState","$slide","$slideActive","_this2","buttonFeedbackOnHover","header","hideAllOpenComments","$previousSlide","$previousToActiveSlide","currentTarget","_both","_saveActiveSlideToHistory","$nextSlide","nextElementSibling","$buttonFeedback","$buttonFeedbackText","textDefault","textCache","width","offsetWidth","hover","pushState","$oldSlide","$activeTextareas","$textarea","$comment","click","Slides","slides","$zadani","$pagination","createElement","innerHTML","insertBefore","basePropertyOf","global","freeSelf","self","freeGlobal","Function","root","Symbol","array","iteratee","result","objectProto","nativeObjectToString","symToStringTag","toStringTag","value","isOwn","tag","unmasked","getRawTag","objectToString","isObjectLike","baseGetTag","symbolProto","symbolToString","baseToString","arrayMap","isSymbol","reUnescapedHtml","reHasUnescapedHtml","source","string","test","escapeHtmlChar","reEscapedHtml","reHasEscapedHtml","unescapeHtmlChar","Ctor","constructor","func","transform","arg","overArg","isPrototype","nativeKeys","uid","isObject","maskSrcKey","exec","coreJsData","IE_PROTO","funcToString","reIsHostCtor","funcProto","reIsNative","isMasked","isFunction","toSource","getValue","baseIsNative","getNative","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","DataView","mapCtorString","Map","promiseCtorString","Promise","setCtorString","Set","weakMapCtorString","WeakMap","getTag","ArrayBuffer","resolve","ctorString","propertyIsEnumerable","baseIsArguments","isLength","freeExports","exports","nodeType","freeModule","module","Buffer","isBuffer","stubFalse","typedArrayTags","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","baseUnary","baseIsTypedArray","isArrayLike","isArguments","size","baseKeys","SaveData","$formExport","_clickListener","beforeSendForm","documentElement","$showWhenDone","$hideWhenDone","addEventListeners","loopSaveButtons","getElementById","importedData","isEmpty","user","$checked","exerciseMode","version","replaceURL","html","regex","major","minor","patch","entryId","entryid","lmsHash","exercise","slug","content","mode","getExerciseMode","form","email","institution","teacher","group","members","from","$groupMember","exhibition","$dataFields","$dataField","dataField","node","hasAttribute","svg","selectedIndex","b64EncodeUnicode","$paths","$comments","$points","comments","paths","points","editor","tools","getEditorJSON","client","platform","description","stringify","loopIndex","renderUserData","b64DecodeUnicode","$editor","error","unescape","disabled","str","btoa","encodeURIComponent","match","p1","String","fromCharCode","decodeURIComponent","atob","c","Analytics","init","Forms","$form","$userEmail","$groupMembers","$modes","$button","$showUserEmail","isFromLMS","groupMembers","whenDone","$hideForLms","addEventListenersToExerciseModeRadioButtons","addGroupMemberField","whenFromLMS","userName","exerciseData","userEmail","userEnd","$mode","_this3","$addGroupMember","$masterGroupMember","$parentElement","parentElement","cloneNode","_this4","removeAttribute","focus","preventScroll","NodeList","callback","thisArg","domLoad","$root","cviceni","navigation","forms","loopNavButtons","checkForData","timer","activeCallback","idleTime","isActive","idle","activate","clearTimeout","addOrRemoveEvents","addOrRemove","idleTimer","controllerLoad","Element","matches","closest","warn","$unsupported","unsupportedBrowsers","loadingScreen"],"mappings":"m2GAiDO,SAASA,EAAgBC,EAAUC,EAAMC,EAASC,OACjDC,EA9BD,SAAgCC,OAAMH,yDAAU,GAAII,yDAAO,KAC1DC,EAAW,CAEfC,SAAS,GAkBLC,EAAaC,OAAOC,OAAOJ,EAAUL,UAEpC,IAAIU,YAAYP,KACrBQ,OAAQP,GACLG,IAKSK,CAAuBb,EAAMC,EAASC,GAGpDH,EAASe,cAAcX,GAuMlB,SAASY,EAAWC,EAASC,YAE7BD,IAAYC,KACTD,EAAQE,UAAaF,EAAQE,UAAUC,SAASF,GAAO,UAAID,EAAQI,eAAcC,kBAAWJ,SAAW,GAG1G,SAASK,EAAWC,EAAUC,OAC/BC,EAAYF,EACZG,EAAWF,KAGVC,GAAcC,KAEQ,iBAAfD,EAEVA,EAAYE,SAASC,iBAAiBH,GAC7BA,EAAUI,UAEnBJ,EAAY,CAACA,IAGW,iBAAdC,GAEVA,EAAWA,EAASI,MAAM,SAOvB,IAAIC,EAAI,EAAGA,EAAIN,EAAUO,OAAQD,GAAK,EAAG,UAExCN,EAAUM,GAAGb,aACfO,EAAUM,GAAGb,WAAUe,cAAOP,SACzB,IAAKX,gBAAWU,EAAUM,aAAOL,SACjC,IAAIQ,EAAI,EAAGA,EAAIR,EAASM,OAAQE,GAAK,EACxCT,EAAUM,GAAGP,oBAAeE,EAASQ,UAXzCC,QAAQC,IAAI,qEAiBT,SAASC,EAAcd,EAAUC,OAClCC,EAAYF,EACZG,EAAWF,KAGVC,GAAcC,KAEQ,iBAAfD,EAEVA,EAAYE,SAASC,iBAAiBH,GAC7BA,EAAUI,UAEnBJ,EAAY,CAACA,IAGW,iBAAdC,GAEVA,EAAWA,EAASI,MAAM,SAOvB,IAAIC,EAAI,EAAGA,EAAIN,EAAUO,OAAQD,GAAK,EAAG,UAExCN,EAAUM,GAAGb,aACfO,EAAUM,GAAGb,WAAUoB,iBAAUZ,aAE5B,IAAIQ,EAAI,EAAGA,EAAIR,EAASM,OAAQE,GAAK,EACxCT,EAAUM,GAAGX,UAAYK,EAAUM,GAAGX,UAAUmB,QAAQ,IAAIC,oBAAahB,EAAQU,UAAS,KAAM,UAXpGC,QAAQC,IAAI,yECvTKK,yCAEZC,SAAWf,SAASgB,cAAc,iBAClCC,QAAUjB,SAASgB,cAAc,gBACjCE,aAAelB,SAASC,iBAAiB,2BACzCkB,iBAAmBnB,SAASC,iBAAiB,+BAC7CmB,IAAM,CACTC,MAAOC,KAAKP,SAASd,iBAAiB,4BACtCsB,MAAOD,KAAKP,SAASd,iBAAiB,kCAEnCuB,QAAUF,KAAKP,SAASd,iBAAiB,eACzCwB,aAAeH,KAAKP,SAASC,cAAc,sBAC3CU,WAAaJ,KAAKP,SAASC,cAAc,oBACzCW,aAAeL,KAAKP,SAASC,cAAc,sBAE3CY,UAAa,IAAIC,IAAI7B,SAAS8B,UAAWC,yBAEhCC,uBACTC,QAA8B,IAArBX,YAAYY,UACrBC,aAA8C,OAA/Bb,KAAKM,UAAUQ,IAAI,aAElCC,UAAY,CACfC,KAAM,CACJC,MAAO,CACLC,KAAM,EACNF,KAAM,GAERG,IAAK,CACHD,KAAM,EACNF,KAAM,GAERI,UAAW,GAEbC,SAAU,CACRtC,OAAQ,EACRuC,MAAO,qCAKb,0BACQC,EAAevB,KAAKL,QAAQ6B,aAC9BC,EAAK,EAEHC,EAAa,SAACxE,EAAOyE,IACzBC,EAAID,EAAME,WAEFN,GAAgBK,EAAIH,GAC1BpD,EAAWyD,EAAKnC,QAAS,aACzB8B,EAAKG,IACIA,EAAKH,EAAK,KAAQG,GAAKL,KAChCnC,EAAc0C,EAAKnC,QAAS,aAC5B8B,EAAKG,IAIA9C,EAAI,EAAGA,EAAIkB,KAAKE,QAAQnB,OAAQD,GAAK,OACvCoB,QAAQpB,GAAGiD,oBAAoB,SAAUL,QAG3CvB,aAAeH,KAAKP,SAASC,cAAc,2BAC5CkC,EAAI5B,KAAKG,aAAa0B,UAEtBD,GAAKL,EACPnC,EAAcY,KAAKL,QAAS,aAE5BtB,EAAW2B,KAAKL,QAAS,aAGvBK,KAAKG,mBACFA,aAAa6B,iBAAiB,UAAU,SAAC9E,UAAUwE,EAAWxE,EAAO4E,EAAK3B,gDAInF,eACQ8B,EAAQvD,SAASgB,cAAc,YAC/BwC,EAAiBxD,SAASgB,cAAc,mBACxCyC,EAASC,KAAKC,MAAMH,EAAeI,aAAa,gBAChDC,EAAML,EAAexC,cAAc,MAEzC8C,YAAW,WACTD,EAAIE,UAAYN,EAAOO,KACtB,KAEHtD,EAAc6C,EAAO,oBC5ErBU,EAA4B,oBAAdC,WAA4BA,UAAUC,UAAUC,cAAc1E,QAAQ,WAAa;;;;;;;;;KAErG,SAAS2E,EAASC,EAAQ9F,EAAO+F,GAC3BD,EAAOhB,iBACTgB,EAAOhB,iBAAiB9E,EAAO+F,GAAQ,GAC9BD,EAAOE,aAChBF,EAAOE,YAAY,KAAKC,OAAOjG,IAAQ,WACrC+F,EAAOG,OAAOlG,UAMpB,SAASmG,EAAQC,EAAUC,WACrBC,EAAOD,EAAIE,MAAM,EAAGF,EAAIxE,OAAS,GAE5BD,EAAI,EAAGA,EAAI0E,EAAKzE,OAAQD,IAC/B0E,EAAK1E,GAAKwE,EAASE,EAAK1E,GAAGgE,sBAGtBU,EAIT,SAASE,EAAQH,GACI,iBAARA,IAAkBA,EAAM,YAG/BI,GAFJJ,EAAMA,EAAIjE,QAAQ,MAAO,KAEVT,MAAM,KAEjB+E,EAAQD,EAAKE,YAAY,IAEtBD,GAAS,GACdD,EAAKC,EAAQ,IAAM,IACnBD,EAAKG,OAAOF,EAAO,GACnBA,EAAQD,EAAKE,YAAY,WAGpBF,EAuGT,IAvFA,IAAII,EAAU,CACZC,UAAW,EACXC,IAAK,EACLC,MAAO,GACPC,MAAO,UACG,GACVC,IAAK,GACLC,OAAQ,GACRC,MAAO,GACPC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACNC,IAAK,UACK,GACVC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACN3D,IAAK,GACL4D,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,aAAc,IACdC,QAAS,IACTC,UAAW,IACXC,aAAc,IACdC,YAAa,IACbC,WAAY,QACP,OACA,QACA,QACA,QACA,QACAtD,EAAO,IAAM,QACbA,EAAO,GAAK,QACZA,EAAO,GAAK,QACX,QACD,QACA,SACC,KAGJuD,EAAY,KAET,GACLC,MAAO,OAEF,GACLC,IAAK,GACLC,OAAQ,OAEH,GACLC,KAAM,GACNC,QAAS,OAEJ,GACLC,IAAK,GACLC,QAAS,IAEPC,EAAc,IACZ,cACA,YACA,aACA,UACJC,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,QAAS,IAEPC,EAAQ,KACN,MACA,MACA,MACA,GAEFC,EAAY,GAEPC,EAAI,EAAGA,EAAI,GAAIA,IACtBlD,EAAQ,IAAIZ,OAAO8D,IAAM,IAAMA,EAGjC,IAAIC,EAAY,GAEZC,EAAS,MAETC,EAAsB,GAGtBC,EAAO,SAAcC,UAChBvD,EAAQuD,EAAExE,gBAAkBoD,EAAUoB,EAAExE,gBAAkBwE,EAAEC,cAAcC,WAAW,IAI9F,SAASC,EAASC,GAChBP,EAASO,GAAS,MAIpB,SAASC,WACAR,GAAU,MAuHnB,IAAIS,EAAa,SAAoBC,OAC/BtE,EAAMsE,EAAKtE,IACXmE,EAAQG,EAAKH,MACbzE,EAAS4E,EAAK5E,OACd6E,EAAgBD,EAAKE,SACrBA,OAA6B,IAAlBD,EAA2B,IAAMA,EAC7BpE,EAAQH,GACdyE,SAAQ,SAAUC,OACzBC,EAAaD,EAAUpJ,MAAMkJ,GAC7BI,EAAMD,EAAWnJ,OACjBqJ,EAAUF,EAAWC,EAAM,GAC3BE,EAAsB,MAAZD,EAAkB,IAAMf,EAAKe,MACtCpB,EAAUqB,IAEVX,IAAOA,EAAQC,SAChBnE,EAAO2E,EAAM,EAAI9E,EAAQ6C,EAAWgC,GAAc,GACtDlB,EAAUqB,GAAWrB,EAAUqB,GAASC,KAAI,SAAUC,WAE7BtF,GAASsF,EAAOtF,SAAWA,IAE1BsF,EAAOb,QAAUA,GApQ/C,SAAsBc,EAAIC,WACpBC,EAAOF,EAAGzJ,QAAU0J,EAAG1J,OAASyJ,EAAKC,EACrCE,EAAOH,EAAGzJ,QAAU0J,EAAG1J,OAAS0J,EAAKD,EACrCI,GAAU,EAEL9J,EAAI,EAAGA,EAAI4J,EAAK3J,OAAQD,KACA,IAA3B6J,EAAKvK,QAAQsK,EAAK5J,MAAY8J,GAAU,UAGvCA,EA2P+CC,CAAaN,EAAO/E,KAAMA,GACnE,GAGF+E,UAMb,SAASO,EAAa5L,EAAO6L,EAASrB,OAChCsB,KAEAD,EAAQrB,QAAUA,GAA2B,QAAlBqB,EAAQrB,MAAiB,KAIjD,IAAI9F,KAFToH,EAAiBD,EAAQvF,KAAKzE,OAAS,EAEzBgI,EACRvJ,OAAOyL,UAAUC,eAAeC,KAAKpC,EAAOnF,MACzCmF,EAAMnF,IAAMmH,EAAQvF,KAAKpF,SAASwD,IAAM,GAAKmF,EAAMnF,KAAoC,IAA9BmH,EAAQvF,KAAKpF,SAASwD,MAClFoH,GAAiB,IAMK,IAAxBD,EAAQvF,KAAKzE,QAAiBgI,EAAM,KAAQA,EAAM,KAAQA,EAAM,KAAQA,EAAM,OAAOiC,GAAuC,MAArBD,EAAQK,WAC1E,IAAnCL,EAAQ9F,OAAO/F,EAAO6L,KACpB7L,EAAMmM,eAAgBnM,EAAMmM,iBAAsBnM,EAAMoM,aAAc,EACtEpM,EAAMqM,iBAAiBrM,EAAMqM,kBAC7BrM,EAAMsM,eAActM,EAAMsM,cAAe,KAOrD,SAASC,EAASvM,OACZwM,EAAW1C,EAAU,KACrBzD,EAAMrG,EAAMmL,SAAWnL,EAAMyM,OAASzM,EAAM0M,YAE3CC,EAAQC,OAAOX,KAAKnJ,KAAM9C,OAGnB,KAARqG,GAAsB,MAARA,IAAaA,EAAM,KAQL,IAA5B2D,EAAU9I,QAAQmF,IAAuB,MAARA,GAAa2D,EAAU6C,KAAKxG,IAMhE,UAAW,SAAU,WAAY,WAAWyE,SAAQ,SAAUgC,OACzDC,EAASvD,EAAYsD,GAErB9M,EAAM8M,KAA2C,IAA/B9C,EAAU9I,QAAQ6L,GACtC/C,EAAU6C,KAAKE,IACL/M,EAAM8M,IAAY9C,EAAU9I,QAAQ6L,IAAW,EACzD/C,EAAUpD,OAAOoD,EAAU9I,QAAQ6L,GAAS,GACvB,YAAZD,GAAyB9M,EAAM8M,IAAiC,IAArB9C,EAAUnI,SAKxD7B,EAAM0J,SAAW1J,EAAMyJ,UAAYzJ,EAAM2J,SAC7CK,EAAYA,EAAUzD,MAAMyD,EAAU9I,QAAQ6L,SAQhD1G,KAAOwD,EAAO,KAGX,IAAIE,KAFTF,EAAMxD,IAAO,EAEC2C,EACRA,EAAUe,KAAO1D,IAAKsG,EAAQ5C,IAAK,OAGpCyC,EAAU,WAIZ,IAAIQ,KAAKnD,EACRvJ,OAAOyL,UAAUC,eAAeC,KAAKpC,EAAOmD,KAC9CnD,EAAMmD,GAAKhN,EAAMwJ,EAAYwD,KAW7BhN,EAAMiN,oBAAsBjN,EAAM2J,QAAW3J,EAAM0J,UAAY1J,EAAMiN,iBAAiB,eACzD,IAA3BjD,EAAU9I,QAAQ,KACpB8I,EAAU6C,KAAK,KAGc,IAA3B7C,EAAU9I,QAAQ,KACpB8I,EAAU6C,KAAK,IAGjBhD,EAAM,KAAM,EACZA,EAAM,KAAM,OAIVW,EAAQC,OAER+B,MACG,IAAI5K,EAAI,EAAGA,EAAI4K,EAAS3K,OAAQD,IAC/B4K,EAAS5K,GAAG4I,QAAUA,IAAyB,YAAfxK,EAAMH,MAAsB2M,EAAS5K,GAAGsL,SAA0B,UAAflN,EAAMH,MAAoB2M,EAAS5K,GAAGuL,QAC3HvB,EAAa5L,EAAOwM,EAAS5K,GAAI4I,MAMjCnE,KAAOyD,MAER,IAAIsD,EAAK,EAAGA,EAAKtD,EAAUzD,GAAKxE,OAAQuL,QACxB,YAAfpN,EAAMH,MAAsBiK,EAAUzD,GAAK+G,GAAIF,SAA0B,UAAflN,EAAMH,MAAoBiK,EAAUzD,GAAK+G,GAAID,QACrGrD,EAAUzD,GAAK+G,GAAI/G,IAAK,SACtBgF,EAASvB,EAAUzD,GAAK+G,GACxBvC,EAAWQ,EAAOR,SAClBwC,EAAchC,EAAOhF,IAAI1E,MAAMkJ,GAC/ByC,EAAmB,GAEdC,EAAI,EAAGA,EAAIF,EAAYxL,OAAQ0L,IACtCD,EAAiBT,KAAK1C,EAAKkD,EAAYE,KAGrCD,EAAiBE,OAAOC,KAAK,MAAQzD,EAAUwD,OAAOC,KAAK,KAE7D7B,EAAa5L,EAAOqL,EAAQb,KAYtC,SAASmC,EAAQtG,EAAK8C,EAAQpD,GAC5BiE,EAAY,OACRvD,EAAOD,EAAQH,GAEfC,EAAO,GACPkE,EAAQ,MAER3J,EAAUW,SAEVI,EAAI,EACJuL,GAAQ,EACRD,GAAU,EACVrC,EAAW,aAEA6C,IAAX3H,GAA0C,mBAAXoD,IACjCpD,EAASoD,GAGoC,oBAA3C7I,OAAOyL,UAAU4B,SAAS1B,KAAK9C,KAC7BA,EAAOqB,QAAOA,EAAQrB,EAAOqB,OAE7BrB,EAAOtI,UAASA,EAAUsI,EAAOtI,SAEjCsI,EAAOgE,QAAOA,EAAQhE,EAAOgE,YAEVO,IAAnBvE,EAAO+D,UAAuBA,EAAU/D,EAAO+D,SAEpB,iBAApB/D,EAAO0B,WAAuBA,EAAW1B,EAAO0B,WAGvC,iBAAX1B,IAAqBqB,EAAQrB,GAEjCvH,EAAI6E,EAAK5E,OAAQD,IAGtB0E,EAAO,IAFPD,EAAMI,EAAK7E,GAAGD,MAAMkJ,IAIZhJ,OAAS,IAAGyE,EAAOH,EAAQ6C,EAAW3C,KAG9CA,EAAc,OADdA,EAAMA,EAAIA,EAAIxE,OAAS,IACH,IAAMsI,EAAK9D,MAGlByD,IAAYA,EAAUzD,GAAO,IAE1CyD,EAAUzD,GAAKwG,KAAK,CAClBM,MAAOA,EACPD,QAASA,EACT1C,MAAOA,EACPlE,KAAMA,EACN4F,SAAUzF,EAAK7E,GACfmE,OAAQA,EACRM,IAAKI,EAAK7E,GACViJ,SAAUA,SAKS,IAAZhK,IA9Db,SAAuBA,UACdqJ,EAAoBhJ,QAAQL,IAAY,EA6DR+M,CAAc/M,IAAYqF,SAC/DgE,EAAoB2C,KAAKhM,GACzBgF,EAAShF,EAAS,WAAW,SAAUmM,GACrCT,EAASS,MAEXnH,EAASK,OAAQ,SAAS,WACxB8D,EAAY,MAEdnE,EAAShF,EAAS,SAAS,SAAUmM,GACnCT,EAASS,GArTf,SAAuBhN,OACjBqG,EAAMrG,EAAMmL,SAAWnL,EAAMyM,OAASzM,EAAM0M,SAE5C9K,EAAIoI,EAAU9I,QAAQmF,MAGtBzE,GAAK,GACPoI,EAAUpD,OAAOhF,EAAG,GAIlB5B,EAAMqG,KAAmC,SAA5BrG,EAAMqG,IAAIT,eACzBoE,EAAUpD,OAAO,EAAGoD,EAAUnI,QAIpB,KAARwE,GAAsB,MAARA,IAAaA,EAAM,IAEjCA,KAAOwD,MAGJ,IAAIE,KAFTF,EAAMxD,IAAO,EAEC2C,EACRA,EAAUe,KAAO1D,IAAKsG,EAAQ5C,IAAK,GAgSvC8D,CAAcb,OAKpB,IAAIc,EAAO,CACTvD,SAAUA,EACVE,SAAUA,EACVsD,YAnVF,SAAqBvD,EAAOwD,OACtBC,EACArM,MAIC,IAAIyE,KAFJmE,IAAOA,EAAQC,KAEJX,KACVxJ,OAAOyL,UAAUC,eAAeC,KAAKnC,EAAWzD,OAClD4H,EAAWnE,EAAUzD,GAEhBzE,EAAI,EAAGA,EAAIqM,EAASpM,QACnBoM,EAASrM,GAAG4I,QAAUA,EAAOyD,EAASrH,OAAOhF,EAAG,GAAQA,IAM9D6I,MAAeD,GAAOD,EAASyD,GAAY,QAmU/CE,mBAhXF,kBACSlE,EAAUzD,MAAM,IAgXvB4H,UA9VF,SAAmBhD,SACM,iBAAZA,IACTA,EAAUhB,EAAKgB,KAGsB,IAAhCnB,EAAU9I,QAAQiK,IA0VzByB,OA5WF,SAAgB5M,OACVoO,EAASpO,EAAMoO,QAAUpO,EAAMqO,WAC/B3M,EAAU0M,EAAO1M,QACjB4M,GAAO,SAEPF,EAAOG,oBAAkC,UAAZ7M,GAAmC,aAAZA,GAAsC,WAAZA,GAA0B0M,EAAOI,YACjHF,GAAO,GAGFA,GAoWPG,OAvSF,SAAgBC,MAETA,GAIE,GAAIC,MAAMC,QAAQF,GAEvBA,EAAS5D,SAAQ,SAAU+D,GACrBA,EAAKxI,KAAKqE,EAAWmE,WAEtB,GAAwB,iBAAbH,EAEZA,EAASrI,KAAKqE,EAAWgE,QACxB,GAAwB,iBAAbA,EAAuB,KAClC,IAAII,EAAOC,UAAUlN,OAAQmN,EAAO,IAAIL,MAAMG,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IAClGD,EAAKC,EAAO,GAAKF,UAAUE,OAKzBzE,EAAQwE,EAAK,GACbjJ,EAASiJ,EAAK,GAEG,mBAAVxE,IACTzE,EAASyE,EACTA,EAAQ,IAGVE,EAAW,CACTrE,IAAKqI,EACLlE,MAAOA,EACPzE,OAAQA,EACR8E,SAAU,YA9BZvK,OAAOmG,KAAKqD,GAAWgB,SAAQ,SAAUzE,iBACzByD,EAAUzD,QAsS9B,IAAK,IAAIkH,KAAKO,EACRxN,OAAOyL,UAAUC,eAAeC,KAAK6B,EAAMP,KAC7CZ,EAAQY,GAAKO,EAAKP,IAItB,GAAsB,oBAAXrH,OAAwB,KAC7BgJ,EAAWhJ,OAAOyG,QAEtBA,EAAQwC,WAAa,SAAUC,UACzBA,GAAQlJ,OAAOyG,UAAYA,IAC7BzG,OAAOyG,QAAUuC,GAGZvC,GAGTzG,OAAOyG,QAAUA,MC3hBE0C,qFAIZC,WAAa1K,EAAK0K,WAAWC,aAC7BC,WAAa5K,EAAK4K,WAAWD,WAGlC/N,SAASC,iBAAiB,OAAOqJ,SAAQ,SAAC2E,GACxCA,EAAKC,aAAa,YAAa,GAC/BD,EAAKE,MAAMC,QAAU,OAMvB1J,OAAO2J,WAAa,SAAC7P,KACd6D,UAAYL,WAAWK,UAAU3D,SAChC+C,EAAe2B,EAAKrC,SAASC,cAAc,iBAC3CsN,EAAmB7M,EAAamC,aAAa,oBAC7C2K,EAAYnL,EAAKrC,SAASC,cAAc0D,OAAO5C,SAAS0M,MACxDC,EAAgBF,EAAU3K,aAAa,uBAKxC2K,GAAanP,EAAWmP,EAAW,kBAAsBA,EAAUG,KAAOjN,EAAaiN,GAC1FhO,EAAce,EAAc,gBAE5BoM,EAAWc,8BAA8BJ,EAAW9M,KAG/CY,UAAUM,SAAStC,QAAU,IAC7BgC,UAAUM,SAASC,MAAMQ,EAAKf,UAAUM,SAAStC,QAAU,CAC9DuO,MAAOC,SAASJ,EAAe,IAC/BnM,KAAMwM,KAAKC,MAAMC,YAAYC,OAAS7L,EAAKf,UAAUC,KAAKC,MAAMD,KAChEE,KAAM0M,KAAKD,MACXE,YAAa,CACX9Q,KAAMG,EAAMH,OAKZiQ,EAAmBG,KAChBpM,UAAUM,SAASC,MAAMQ,EAAKf,UAAUM,SAAStC,QAAQhC,KAAO,MAChEgE,UAAUM,SAASC,MAAMQ,EAAKf,UAAUM,SAAStC,QAAQ8O,YAAY1Q,KAAO,OAGjFkB,EAAW8B,EAAc,cACzBf,EAAc6N,EAAW,kBAErBnP,EAAWmP,EAAW,6BACxB7N,EAAc6N,EAAW,4BAEvBnP,EAAWmP,EAAUa,uBAAwB,wBAC/CzP,EAAW4O,EAAUa,uBAAwB,gCAK1C/M,UAAUM,SAASC,MAAMQ,EAAKf,UAAUM,SAAStC,QAAQhC,KAAO,MAChEgE,UAAUM,SAASC,MAAMQ,EAAKf,UAAUM,SAAStC,QAAQ8O,YAAY1Q,KAAO,UAGjFkB,EAAW8B,EAAc,kBACzBf,EAAc6N,EAAW,cAErBnP,EAAWqC,EAAc,wBAC3B9B,EAAW8B,EAAc,4BAEvBrC,EAAWqC,EAAa2N,uBAAwB,6BAClD1O,EAAce,EAAa2N,uBAAwB,6BAIvDzP,EAAW4O,EAAW,gBAGtBpQ,EAAgBiF,EAAKrC,SAAU,eAAgB,GAAI,CAAE6N,MAAO,CAAES,OAAQjM,EAAKkM,eAAef,WAErF,IAAKnP,EAAWmP,EAAW,iBAAkB,KAC5CgB,aAAsB9N,EAAaiN,IACrChK,OAAO8K,QAAQC,aACjB/K,OAAO8K,QAAQC,aAAa,KAAM,KAAMF,GAExC7K,OAAO5C,SAAS0M,KAAOe,EAI3BvN,WAAWK,UAAU3D,KAAO0E,EAAKf,qDAIrC,eAAeqN,0DACPC,EAAeD,GAAUpO,KAAKP,SAASC,cAAc,uBAEpD,CACL3B,QAASsQ,EACTjB,GAAIiB,EAAajB,GACjBxJ,MAAO2J,SAASc,EAAa/L,aAAa,oBAAqB,mCAgBnE,2BACOxC,IAAIC,MAAMiI,SAAQ,SAACjI,GACtBA,EAAMiC,iBAAiB,QAASsM,EAAK9B,YAAY,WAE9C1M,IAAIG,MAAM+H,SAAQ,SAAC/H,GACtBA,EAAM+B,iBAAiB,QAASsM,EAAK5B,YAAY,MAGnD7C,EAAQ,kCAAkC,SAAC3M,GACzCoR,EAAK9B,WAAWtP,MAElB2M,EAAQ,uBAAuB,SAAC3M,GAC9BoR,EAAK5B,WAAWxP,WAGbqR,6CAGP,gBACOC,SACLjC,EAAWkC,gDAWb,SAAWvR,OAEHiD,EAAeH,KAAKP,SAASC,cAAc,iBAC3CgP,EAAiBvO,EAAa2N,uBAC9Ba,EAAyB3O,KAAKP,SAASC,cAAc,gCAGtD5B,EAAW4Q,EAAgB,SAGzB,CAILtP,EAAce,EAAc,gBAC5B9B,EAAW8B,EAAc,cAEzBf,EAAcsP,EAAgB,kBAC9BrQ,EAAWqQ,EAAgB,gBAE3BnC,EAAWc,8BAA8BqB,EAAgBvO,GAErDwO,GACFvP,EAAcuP,EAAwB,4BAEpCD,EAAeZ,wBACjBzP,EAAWqQ,EAAeZ,uBAAwB,4BAIpDjR,EAAgBmD,KAAKP,SAAU,eAAgB,GAAI,CAAE6N,MAAO,CAAES,OAAQ/N,KAAKgO,eAAeU,WAGrF3N,UAAYL,WAAWK,UAAU3D,UACjC2D,UAAUM,SAAStC,QAAU,OAC7BgC,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAU,CAC9DhC,KAAM,IACNuQ,MAAOC,SAASmB,EAAepM,aAAa,oBAAqB,IACjEtB,KAAMwM,KAAKC,MAAMC,YAAYC,OAAS3N,KAAKe,UAAUC,KAAKC,MAAMD,KAChEE,KAAM0M,KAAKD,WAEPE,EAAc,CAClB9Q,KAAMG,EAAMH,aAENG,EAAMH,UACP,QACH8Q,EAAY1Q,KAAOD,EAAM0R,cAActM,aAAa,wBAA0B,WAAa,uBAGxF,UACHuL,EAAY1Q,KAAOD,EAAMmK,UAMxBtG,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAQ8O,YAAcA,EAC5EnN,WAAWK,UAAU3D,KAAO4C,KAAKe,eAE5B8N,aAEAC,iCAGP5R,EAAMmM,2CAGR,SAAWnM,OAEHiD,EAAeH,KAAKP,SAASC,cAAc,iBAE3CiP,EAAyB3O,KAAKP,SAASC,cAAc,6BACrDqP,EAAa5O,EAAa6O,sBAI3BlR,EAAWiR,EAAY,SAGrB,CAIL3P,EAAce,EAAc,gBAC5B9B,EAAW8B,EAAc,2CAEzBf,EAAc2P,EAAY,cAC1B1Q,EAAW0Q,EAAY,8BAEvBxC,EAAWc,8BAA8B0B,EAAY5O,GAEjDwO,GACFvP,EAAcuP,EAAwB,4BAIxC9R,EAAgBmD,KAAKP,SAAU,eAAgB,GAAI,CAAE6N,MAAO,CAAES,OAAQ/N,KAAKgO,eAAee,WAGrFhO,UAAYL,WAAWK,UAAU3D,UACjC2D,UAAUM,SAAStC,QAAU,OAC7BgC,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAU,CAC9DhC,KAAM,IACNuQ,MAAOC,SAASwB,EAAWzM,aAAa,oBAAqB,IAC7DtB,KAAMwM,KAAKC,MAAMC,YAAYC,OAAS3N,KAAKe,UAAUC,KAAKC,MAAMD,KAChEE,KAAM0M,KAAKD,WAEPE,EAAc,CAClB9Q,KAAMG,EAAMH,aAENG,EAAMH,UACP,QACH8Q,EAAY1Q,KAAOD,EAAM0R,cAActM,aAAa,wBAA0B,WAAa,uBAGxF,UACHuL,EAAY1Q,KAAOD,EAAMmK,UAMxBtG,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAQ8O,YAAcA,EAC5EnN,WAAWK,UAAU3D,KAAO4C,KAAKe,eAE5B8N,aAEAC,iCAGP5R,EAAMmM,sDAGR,gBACOxJ,iBAAiBmI,SAAQ,SAACiH,OACvBC,EAAsBD,EAAgBvP,cAAc,QACpDyP,EAAc/M,KAAKC,MAAM4M,EAAgB3M,aAAa,yBACxD8M,EAAY,GAEhBH,EAAgBjN,iBAAiB,cAAc,SAAC9E,GAC9CkS,EAAYF,EAAoBzM,cAC1B4M,EAAQJ,EAAgBK,YAE1BF,IAAcD,IAChBD,EAAoBzM,UAAY0M,EAAYI,MAExCF,EAAQJ,EAAgBK,cAC1BL,EAAgBpC,MAAMwC,gBAAWA,aAKvCJ,EAAgBjN,iBAAiB,cAAc,SAAC9E,GAC1CkS,IAAcD,IAChBF,EAAgBpC,MAAMwC,MAAQ,GAC9BH,EAAoBzM,UAAY2M,kDAMxC,eACQnB,aAAsBjO,KAAKP,SAASC,cAAc,iBAAiB0N,IAErEhK,OAAO8K,QAAQsB,UACjBpM,OAAO8K,QAAQsB,UAAU,KAAM,KAAMvB,GAErC7K,OAAO5C,SAAS0M,KAAOe,iDAlN3B,SAAqC9N,EAAcsP,OAC3CC,EAAmBvP,EAAaxB,iBAAiB,YACjC8Q,EAAU9Q,iBAAiB,YAEnCqJ,SAAQ,SAAC2H,GACrBA,EAAU/C,aAAa,YAAa,MAEtC8C,EAAiB1H,SAAQ,SAAC2H,GACxBA,EAAU/C,aAAa,WAAY,yCA2BvC,WACoBlO,SAASC,iBAAiB,yBAElCqJ,SAAQ,SAAC4H,GACjBA,EAASlQ,cAAc,UAAUmQ,kBA9ICrQ,GC1BnBsQ,2GAMnB,eACO,IAAIhR,EAAI,EAAGA,EAAIkB,KAAKE,QAAQnB,OAAQD,GAAK,UACvCoB,QAAQpB,GAAG8N,aAAa,mBAAoB9N,GAEvC,IAANA,EAAS,KAKLmP,aAAsBjO,KAAKE,QAAQpB,GAAGsO,IACxChK,OAAO8K,QAAQC,aACjB/K,OAAO8K,QAAQC,aAAa,KAAM,KAAMF,GAExC7K,OAAO5C,SAAS0M,KAAOe,OAIzB5P,EAAW2B,KAAKE,QAAQpB,GAAI,qBAIzBkB,+BAGT,eACQ+P,EAAS/P,KAAKE,QAAQnB,YAEvBmB,QAAQ8H,SAAQ,SAACoG,EAAQxK,OACtBoM,EAAU5B,EAAO1O,cAAc,WAC/B6C,EAAMyN,EAAQtQ,cAAc,MAC5BuQ,EAAcvR,SAASwR,cAAc,OAC3CD,EAAYhS,UAAUe,IAAI,cAC1BiR,EAAYE,oBAAevM,EAAQ,cAAKmM,GACxCC,EAAQI,aAAaH,EAAa1N,aAvCJ/C,GCUpC,MANA,SAAwBwD,UACf,SAASO,UACG,MAAVP,OAAiB4H,EAAY5H,EAAOO,OCS1B8M,EAfH,KACX,YACA,WACA,WACA,aACA,4NCPP,MAAkC,iBAAVC,GAAsBA,GAAUA,EAAO9S,SAAWA,QAAU8S,ECEhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKhT,SAAWA,QAAUgT,OAGjEC,GAAcF,GAAYG,SAAS,cAATA,KCHxBC,EAAKC,OCiBlB,OAXA,SAAkBC,EAAOC,WACnBlN,GAAS,EACT7E,EAAkB,MAAT8R,EAAgB,EAAIA,EAAM9R,OACnCgS,EAASlF,MAAM9M,KAEV6E,EAAQ7E,GACfgS,EAAOnN,GAASkN,EAASD,EAAMjN,GAAQA,EAAOiN,UAEzCE,MCMKlF,MAAMC,QCpBhBkF,GAAcxT,OAAOyL,UAGrBC,GAAiB8H,GAAY9H,eAO7B+H,GAAuBD,GAAYnG,SAGnCqG,GAAiBN,EAASA,EAAOO,iBAAcvG,EA6BnD,OApBA,SAAmBwG,OACbC,EAAQnI,GAAeC,KAAKiI,EAAOF,IACnCI,EAAMF,EAAMF,QAGdE,EAAMF,SAAkBtG,MACpB2G,GAAW,EACf,MAAOrH,QAEL6G,EAASE,GAAqB9H,KAAKiI,UACnCG,IACEF,EACFD,EAAMF,IAAkBI,SAEjBF,EAAMF,KAGVH,GClCLE,GAPczT,OAAOyL,UAOc4B,SAavC,OAJA,SAAwBuG,UACfH,GAAqB9H,KAAKiI,ICT/BF,GAAiBN,EAASA,EAAOO,iBAAcvG,EAkBnD,OATA,SAAoBwG,UACL,MAATA,OACexG,IAAVwG,EAdQ,qBADL,gBAiBJF,IAAkBA,MAAkB1T,OAAO4T,GAC/CI,GAAUJ,GACVK,GAAeL,ICIrB,OAJA,SAAsBA,UACJ,MAATA,GAAiC,iBAATA,GCGjC,OALA,SAAkBA,SACO,iBAATA,GACXM,GAAaN,IArBF,mBAqBYO,GAAWP,IChBnCQ,GAAchB,EAASA,EAAO3H,eAAY2B,EAC1CiH,GAAiBD,GAAcA,GAAY/G,cAAWD,EA0B1D,OAhBA,SAASkH,EAAaV,MAEA,iBAATA,SACFA,KAELtF,GAAQsF,UAEHW,GAASX,EAAOU,GAAgB,MAErCE,GAASZ,UACJS,GAAiBA,GAAe1I,KAAKiI,GAAS,OAEnDL,EAAUK,EAAQ,SACJ,KAAVL,GAAkB,EAAIK,IA3BjB,SA2BwC,KAAOL,GCN9D,OAJA,SAAkBK,UACA,MAATA,EAAgB,GAAKU,GAAaV,ICpBvCa,GAAkB,WAClBC,GAAqB3S,OAAO0S,GAAgBE,QAqChD,OAPA,SAAgBC,UACdA,EAASvH,GAASuH,KACAF,GAAmBG,KAAKD,GACtCA,EAAO9S,QAAQ2S,GAAiBK,GAChCF,MCrBiB/B,EAfH,SACT,WACD,WACA,aACE,YACD,MCJPkC,GAAgB,4BAChBC,GAAmBjT,OAAOgT,GAAcJ,QA4B5C,OAPA,SAAkBC,UAChBA,EAASvH,GAASuH,KACAI,GAAiBH,KAAKD,GACpCA,EAAO9S,QAAQiT,GAAeE,IAC9BL,GC7BFpB,GAAcxT,OAAOyL,UAgBzB,OAPA,SAAqBmI,OACfsB,EAAOtB,GAASA,EAAMuB,mBAGnBvB,KAFqB,mBAARsB,GAAsBA,EAAKzJ,WAAc+H,KCE/D,OANA,SAAiB4B,EAAMC,UACd,SAASC,UACPF,EAAKC,EAAUC,KCPTC,CAAQvV,OAAOmG,KAAMnG,QCIlC0L,GAHc1L,OAAOyL,UAGQC,eAsBjC,OAbA,SAAkBlG,OACXgQ,GAAYhQ,UACRiQ,GAAWjQ,OAEhB+N,EAAS,OACR,IAAIxN,KAAO/F,OAAOwF,GACjBkG,GAAeC,KAAKnG,EAAQO,IAAe,eAAPA,GACtCwN,EAAOhH,KAAKxG,UAGTwN,GCIT,OALA,SAAkBK,OACZrU,SAAcqU,SACF,MAATA,IAA0B,UAARrU,GAA4B,YAARA,ICS/C,IChCMmW,MDsBN,SAAoB9B,OACb+B,GAAS/B,UACL,MAILE,EAAMK,GAAWP,SA3BT,qBA4BLE,GA3BI,8BA2BcA,GA7BZ,0BA6B6BA,GA1B7B,kBA0BgDA,ME9B9CX,EAAK,sBDAlByC,IACEF,GAAM,SAASG,KAAKC,IAAcA,GAAW3P,MAAQ2P,GAAW3P,KAAK4P,UAAY,KACvE,iBAAmBL,GAAO,GAc1C,OAJA,SAAkBN,WACPQ,IAAeA,MAAcR,GEZpCY,GAHY9C,SAASzH,UAGI4B,SAqB7B,OAZA,SAAkB+H,MACJ,MAARA,EAAc,YAEPY,GAAarK,KAAKyJ,GACzB,MAAO1I,eAEC0I,EAAO,GACf,MAAO1I,WAEJ,ICVLuJ,GAAe,8BAGfC,GAAYhD,SAASzH,UACrB+H,GAAcxT,OAAOyL,UAGrBuK,GAAeE,GAAU7I,SAGzB3B,GAAiB8H,GAAY9H,eAG7ByK,GAAapU,OAAO,IACtBiU,GAAarK,KAAKD,IAAgB5J,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KAmBhF,OARA,SAAsB8R,YACf+B,GAAS/B,IAAUwC,GAASxC,MAGnByC,GAAWzC,GAASuC,GAAaF,IAChCpB,KAAKyB,GAAS1C,KC/B/B,OAJA,SAAkBpO,EAAQO,UACP,MAAVP,OAAiB4H,EAAY5H,EAAOO,ICO7C,OALA,SAAmBP,EAAQO,OACrB6N,EAAQ2C,GAAS/Q,EAAQO,UACtByQ,GAAa5C,GAASA,OAAQxG,MCTxBqJ,GAAUtD,EAAM,eCArBsD,GAAUtD,EAAM,UCAZsD,GAAUtD,EAAM,cCApBsD,GAAUtD,EAAM,UCAZsD,GAAUtD,EAAM,WCK1BuD,GAAS,eAETC,GAAa,mBACbC,GAAS,eACTC,GAAa,mBAEbC,GAAc,oBAGdC,GAAqBT,GAASU,IAC9BC,GAAgBX,GAASY,IACzBC,GAAoBb,GAASc,IAC7BC,GAAgBf,GAASgB,IACzBC,GAAoBjB,GAASkB,IAS7BC,GAAStD,IAGR6C,IAAYS,GAAO,IAAIT,GAAS,IAAIU,YAAY,MAAQZ,IACxDI,IAAOO,GAAO,IAAIP,KAAQR,IAC1BU,IAAWK,GAAOL,GAAQO,YAAchB,IACxCW,IAAOG,GAAO,IAAIH,KAAQV,IAC1BY,IAAWC,GAAO,IAAID,KAAYX,MACrCY,GAAS,SAAS7D,OACZL,EAASY,GAAWP,GACpBsB,EA/BQ,mBA+BD3B,EAAsBK,EAAMuB,iBAAc/H,EACjDwK,EAAa1C,EAAOoB,GAASpB,GAAQ,MAErC0C,SACMA,QACDb,UAA2BD,QAC3BG,UAAsBP,QACtBS,UAA0BR,QAC1BU,UAAsBT,QACtBW,UAA0BV,UAG5BtD,IAIX,OAAiBkE,GCxCjB,OAJA,SAAyB7D,UAChBM,GAAaN,IAVR,sBAUkBO,GAAWP,ICVvCJ,GAAcxT,OAAOyL,UAGrBC,GAAiB8H,GAAY9H,eAG7BmM,GAAuBrE,GAAYqE,wBAoBrBC,GAAgB,kBAAoBrJ,UAApB,IAAsCqJ,GAAkB,SAASlE,UAC1FM,GAAaN,IAAUlI,GAAeC,KAAKiI,EAAO,YACtDiE,GAAqBlM,KAAKiI,EAAO,WCEtC,OALA,SAAkBA,SACO,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GA9Bb,kBC+BvB,OAJA,SAAqBA,UACH,MAATA,GAAiBmE,GAASnE,EAAMrS,UAAY8U,GAAWzC,ICZhE,OAJA,kBACS,2BCVLoE,EAA4CC,IAAYA,EAAQC,UAAYD,EAG5EE,EAAaH,GAA4CI,IAAWA,EAAOF,UAAYE,EAMvFC,EAHgBF,GAAcA,EAAWF,UAAYD,EAG5B7E,EAAKkF,YAASjL,EAsBvCkL,GAnBiBD,EAASA,EAAOC,cAAWlL,IAmBfmL,GAEjCH,UAAiBE,KCLbE,GAAiB,GACrBA,GAZiB,yBAYYA,GAXZ,yBAYjBA,GAXc,sBAWYA,GAVX,uBAWfA,GAVe,uBAUYA,GATZ,uBAUfA,GATsB,8BASYA,GARlB,wBAShBA,GARgB,yBAQY,EAC5BA,GAjCc,sBAiCYA,GAhCX,kBAiCfA,GApBqB,wBAoBYA,GAhCnB,oBAiCdA,GApBkB,qBAoBYA,GAhChB,iBAiCdA,GAhCe,kBAgCYA,GA/Bb,qBAgCdA,GA/Ba,gBA+BYA,GA9BT,mBA+BhBA,GA9BgB,mBA8BYA,GA7BZ,mBA8BhBA,GA7Ba,gBA6BYA,GA5BT,mBA6BhBA,GA5BiB,qBA4BY,EAc7B,OALA,SAA0B5E,UACjBM,GAAaN,IAClBmE,GAASnE,EAAMrS,WAAaiX,GAAerE,GAAWP,KC3C1D,OANA,SAAmBwB,UACV,SAASxB,UACPwB,EAAKxB,6BCNZoE,EAA4CC,IAAYA,EAAQC,UAAYD,EAG5EE,EAAaH,GAA4CI,IAAWA,EAAOF,UAAYE,EAMvFK,EAHgBN,GAAcA,EAAWF,UAAYD,GAGtB/E,EAAWyF,QAG1CC,EAAY,mBAGRC,EAAQT,GAAcA,EAAWU,SAAWV,EAAWU,QAAQ,QAAQD,aAEvEA,GAKGH,GAAeA,EAAYK,SAAWL,EAAYK,QAAQ,QACjE,MAAOpM,KAXK,GAchB0L,UAAiBO,KCxBbI,GAAmBJ,IAAYA,GAASK,gBAmBzBD,GAAmBE,GAAUF,IAAoBG,GCPhExN,GAHc1L,OAAOyL,UAGQC,eA2DjC,OAxBA,SAAiBkI,MACF,MAATA,SACK,KAELuF,GAAYvF,KACXtF,GAAQsF,IAA0B,iBAATA,GAA4C,mBAAhBA,EAAMtN,QAC1DgS,GAAS1E,IAAUoF,GAAapF,IAAUwF,GAAYxF,WAClDA,EAAMrS,WAEZuS,EAAM2D,GAAO7D,MAnDN,gBAoDPE,GAnDO,gBAmDUA,SACXF,EAAMyF,QAEZ7D,GAAY5B,UACN0F,GAAS1F,GAAOrS,WAErB,IAAIwE,KAAO6N,KACVlI,GAAeC,KAAKiI,EAAO7N,UACtB,SAGJ,GCnEYwT,sFAIZC,YAAclV,EAAKzB,aAAaX,cAAc,mBAG9CuX,eAAiBnV,EAAKmV,eAAexK,aACrCyK,eAAiBpV,EAAKoV,eAAezK,2CAG5C,kBACUzM,KAAKW,aAEN,EAEHjC,SAASyY,gBAAgBlZ,UAAUe,IAAI,WACvCN,SAASyY,gBAAgBvK,aAAa,aAAc,QAGpDlO,SAASC,iBAAiB,mBAAmBqJ,SAAQ,SAACoP,GACpDA,EAAcnZ,UAAUoB,OAAO,aAGjCX,SAASC,iBAAiB,mBAAmBqJ,SAAQ,SAACqP,GACpDA,EAAcpZ,UAAUe,IAAI,wBAK3B,OACEsY,sDAQX,gBACOC,uBACAlX,aAAaX,cAAc,yBAAyBsC,iBAAiB,QAAShC,KAAKkX,8CAG1F,SAAeha,QACR6D,UAAYL,WAAWK,UAAU3D,UACjC2D,UAAUC,KAAKG,IAAM,CACxBH,KAAMwM,KAAKC,MAAMC,YAAYC,OAC7BzM,KAAM0M,KAAKD,YAER5M,UAAUC,KAAKI,UAAYV,WAAWK,UAAUK,eAChDL,UAAUM,SAAStC,QAAU,OAC7BgC,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAU,CAC9DhC,KAAM,IACNiE,KAAMhB,KAAKe,UAAUC,KAAKG,IAAIH,KAC9BE,KAAM0M,KAAKD,OAEbjN,WAAWK,UAAU3D,KAAO4C,KAAKe,UAEjCrC,SAAS8Y,eAAe,cAAcpG,MAAQpR,KAAK5C,iCAOrD,SAAaqa,UACPC,GAAQD,GACVvY,QAAQC,IAAI,4BAEZD,QAAQC,IAAI,8BAGP/B,KAAOqa,EAAaE,KAAKva,MAGzB4C,oCAIT,eACO,IAAIlB,EAAI,EAAGA,EAAIkB,KAAKJ,aAAab,OAAQD,GAAK,OAC5Cc,aAAad,GAAGkD,iBAAiB,QAAShC,KAAKiX,gBAAgB,iCAKxE,2CAIA,eACQW,EAAW5X,KAAKI,WAAWV,cAAc,8CAG3CgB,kBAAkBwI,eAAe,gBAC5BxI,kBAAkBmX,aAGvBD,EACKrK,SAASqK,EAASxG,MAAO,KAG1B,oBAIV,eACQ0G,EAAU,CACdxH,OAAQ5R,SAASgB,cAAc,yBAAyB4C,aAAa,4BAEvBwV,EAAQxH,OAAOzR,MAAM,iBAE5DkZ,EAAWC,MAKdA,EAAK5Z,QAAQ,oBAAqB,KAC9B6Z,EAAQ,2BAGVH,EAAQI,OAAS,EACZF,EAAK1Y,QAAQ2Y,2BAAyBH,EAAQI,kBAASJ,EAAQK,QAEjEH,EAAK1Y,QAAQ2Y,2BAAyBH,EAAQI,eAEhDF,EAhBRF,EAAQI,WAAOJ,EAAQK,WAAOL,EAAQM,eAoBjChb,EAAO,GAEbA,EAAKib,QAAU3X,kBAAkB4X,SAAW,EAC5Clb,EAAKmb,QAAU7X,kBAAkB6X,SAAW,IAC5Cnb,EAAKob,SAAW,CACdpL,GAAIG,SAASvN,KAAKP,SAAS6C,aAAa,oBAAqB,IAC7DmW,KAAMzY,KAAKP,SAAS6C,aAAa,MACjCnF,KAAMuB,SAASgB,cAAc,kBAAkB+C,WAAa,GAC5DqV,QAAS,CACPxH,OAAQwH,EAAQxH,OAChBoI,QAASnL,SAAS7O,SAASyY,gBAAgB7U,aAAa,wBAAyB,KAEnFqW,KAAM3Y,KAAK4Y,mBAKbxb,EAAKua,KAAO,CAEVkB,KAAM,CACJ1b,KAAMuD,kBAAkBvD,MAAQ6C,KAAKI,WAAWV,cAAc,cAAc0R,MAC5E0H,MAAOpY,kBAAkBiX,MAAQ3X,KAAKI,WAAWV,cAAc,eAAe0R,MAC9E2H,YAAarY,kBAAkBqY,aAAe/Y,KAAKI,WAAWV,cAAc,qBAAqB0R,MACjG4H,QAAStY,kBAAkBsY,SAAWhZ,KAAKI,WAAWV,cAAc,kBAAkB0R,MACtF6H,MAAO,CACLC,QAAgC,IAAvB9b,EAAKob,SAASG,KAAa9M,MAAMsN,KAAKnZ,KAAKI,WAAWzB,iBAAiB,8BAA8B2J,KAAI,SAAC8Q,UAAiBA,EAAahI,SAAS,IAE5JiI,aAAYrZ,KAAKa,cAAeb,KAAKM,UAAUQ,IAAI,SAGrDC,UAAWL,WAAWK,UAAU3D,MAAQ,GAExCA,KAAM,QAIFkc,EAAc5a,SAASC,iBAAiB,sBAC9CvB,EAAKua,KAAKva,KAAOyO,MAAMsN,KAAKG,GAAahR,KAAI,SAACiR,OACtCC,EAAY,CAEhBpM,GAAI,GACJqM,KAAM,GACNrI,MAAO,OAGToI,EAAUpM,GAAKmM,EAAWjX,aAAa,MACvCkX,EAAUC,KAAOF,EAAW3a,QAIL,aAAnB4a,EAAUC,KACRF,EAAWG,aAAa,yBAA2BH,EAAWG,aAAa,6BAEzEH,EAAWnI,MACboI,EAAUpI,MAAQ/M,GAAOkV,EAAWnI,OAEpCoI,EAAUpI,MAAQ,KAGhBmI,EAAWjX,aAAa,8BAC1BkX,EAAUG,IAAMJ,EAAWjX,aAAa,+BAI1CpD,QAAQC,IAAIqa,EAAUpM,IACtBlO,QAAQC,6BAAsBqa,EAAUC,6CAIvC,GAAuB,UAAnBD,EAAUC,KAC4B,UAAzCF,EAAWjX,aAAa,aAEtBiX,EAAWnI,MACboI,EAAUpI,MAAQ/M,GAAOkV,EAAWnI,OAEpCoI,EAAUpI,MAAQ,MAIpBlS,QAAQC,IAAIqa,EAAUpM,IACtBlO,QAAQC,6BAAsBqa,EAAUC,6CAIvC,GAAuB,WAAnBD,EAAUC,QAC4B,UAAzCF,EAAWjX,aAAa,gBAEtBiX,EAAWnI,MAAO,CAEpBoI,EAAUpI,MAAQmI,EAAWnI,UACxB,IAAItS,EAAI,EAAGA,EAAIya,EAAWvc,QAAQ+B,OAAQD,GAAK,KAC9Cya,EAAWvc,QAAQ8B,GAAGqR,YAAcoJ,EAAWnI,MAAO,CACxDoI,EAAUI,cAAgB9a,cAM9B0a,EAAUpI,MAAQ,UAIpBlS,QAAQC,IAAIqa,EAAUpM,IACtBlO,QAAQC,6BAAsBqa,EAAUC,4CAIvC,GAAuB,QAAnBD,EAAUC,QAEbF,EAAWG,aAAa,mBAAoB,CAE9CF,EAAUpI,MAAQ2F,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,gBAE5D2J,EAASP,EAAW5a,iBAAiB,mBAAmBI,OACxDgb,EAAYR,EAAW5a,iBAAiB,8BAA8BI,OACtEib,EAAUT,EAAW5a,iBAAiB,qBAAqBI,OAEjEya,EAAUzY,UAAY,CACpBkZ,SAAUF,EAAY,GAAIA,EAC1BG,MAAOJ,EAAS,GAAIA,EACpBK,OAAQH,EAAU,GAAIA,QAKxB9a,QAAQC,IAAIqa,EAAUpM,IACtBlO,QAAQC,6BAAsBqa,EAAUC,4CAIvC,GAAuB,UAAnBD,EAAUC,MAAuC,UAAnBD,EAAUC,KACF,SAAzCF,EAAWjX,aAAa,eAI1BkX,EAAUpI,MAAQ2F,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,kBAIjE,GAAuB,QAAnBqJ,EAAUC,QAGbF,EAAWG,aAAa,wBAE1BF,EAAUpI,MAAQ2F,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,iBAI/D,GAA+C,uBAA3CoJ,EAAWjX,aAAa,eAI/BkX,EAAUpI,MAAQ2F,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,iBAI/D,GAA+C,WAA3CoJ,EAAWjX,aAAa,eAI/BkX,EAAUpI,MAAQ2F,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,iBAG/D,GAA6C,SAAzCoJ,EAAWjX,aAAa,aAAyB,KAIlD8X,EAAS1Z,WAAW2Z,MAAMd,EAAWnM,IAEzCoM,EAAUpI,MADRgJ,EACgBA,EAAOE,gBAEPvD,EAAS8C,iBAAiB9B,EAAWwB,EAAWpJ,iBAKpEjR,QAAQC,IAAIqa,EAAUpM,IACtBlO,QAAQC,6BAAsBqa,EAAUC,8CAIrCD,KAITpc,EAAKua,KAAK5W,UAAUwZ,OAASC,SAASC,YAGtCrd,EAAKwD,MAAO,EAELwB,KAAKsY,UAAUtd,QAIxB,SAASqa,WAMEkD,EAAY,EAAGA,EAFV,EAE6BA,GAAa,EACtD5D,EAAS6D,eAAenD,EAAckD,mCAQ1C,SAAsBvd,EAAMud,OACpB7C,EAAU,CACdxH,OAAQ5R,SAASgB,cAAc,yBAAyB4C,aAAa,uBAAuBzD,MAAM,UAEpDiZ,EAAQxH,UAAvDwH,EAAQI,WAAOJ,EAAQK,WAAOL,EAAQM,WAEvChb,EAAK4K,SAAQ,SAACwR,OACN1c,EAAW4B,SAAS8Y,eAAegC,EAAUpM,OAE9CtQ,SAKG6d,QAID,SAEKnB,EAAUC,UACX,UACA,UACA,YACA,WAE4B,iBAApBD,EAAUpI,MAAoB,KACjC4G,EAAOjB,EAAS8D,iBAAiBrB,EAAUpI,UAG7C4G,EAAK5Z,QAAQ,oBAAqB,KAC9B6Z,EAAQ,oBAGVH,EAAQI,OAAS,EACnBpb,EAASqT,UAAY6H,EAAK1Y,QAAQ2Y,2BAAyBH,EAAQI,kBAASJ,EAAQK,QAGpFrb,EAASqT,UAAY6H,EAAK1Y,QAAQ2Y,2BAAyBH,EAAQI,aAIrEpb,EAASqT,UAAY6H,MAElB,KACC8C,EAAUpc,SAASgB,6CAAsC8Z,EAAUpM,KACrE0N,EACFA,EAAQ3K,UAAY/N,KAAKsY,UAAUlB,EAAUpI,OAE7ClS,QAAQ6b,MAAM,+DAYnB,SAEKvB,EAAUC,UACX,QACH3c,EAASsU,MAAQ4J,GAASxB,EAAUpI,OAAS,KAC7CtU,EAAS4O,UAAW,YAEjB,SACH5O,EAAS8c,cAAgBJ,EAAUI,eAAiB,EACpD9c,EAASsU,MAAQoI,EAAUpI,OAAS,IACpCtU,EAASme,UAAW,YAEjB,WACHne,EAASsU,MAAQ4J,GAASxB,EAAUpI,OAAS,KAC7CtU,EAAS4O,UAAW,QAjE1BxM,QAAQ6b,MAAMvB,EAAUpM,GAAI,qEAiFlC,SAAwB8N,UAIfC,KAAKC,mBAAmBF,GAAK5b,QAAQ,4BAEzC+b,EAAOC,UACCC,OAAOC,yBAAkBF,wCAItC,SAAwBJ,UAGfO,mBAAmBC,KAAKR,GAAKrc,MAAM,IAAIyJ,KAAI,SAACqT,oBACtC,YAAMA,EAAEnU,WAAW,GAAGqD,SAAS,KAAOpH,OAAO,OACvDkH,KAAK,YA/b0BnL,GCJjBoc,sFAIZC,uCAGP,gBACO9a,UAAUC,KAAKC,MAAQ,CAC1BD,KAAMwM,KAAKC,MAAMC,YAAYC,OAC7BzM,KAAM0M,KAAKD,YAER5M,UAAUM,SAASC,MAAMtB,KAAKe,UAAUM,SAAStC,QAAU,CAC9DhC,KAAM,IACNiE,KAAMhB,KAAKe,UAAUC,KAAKC,MAAMD,KAChCE,KAAM0M,KAAKD,yBAIf,kBACS3N,KAAKe,eAGd,SAASA,QACFA,UAAYA,yBAGnB,kBACSf,KAAKe,UAAUC,KAAKG,IAAIH,KAAOhB,KAAKe,UAAUC,KAAKC,MAAMD,YA5B7BxB,GCClBsc,sFAIZC,MAAQja,EAAK1B,WAAWV,cAAc,WACtCsc,WAAala,EAAKia,MAAMrc,cAAc,iBACtCuc,cAAgBna,EAAKia,MAAMrc,cAAc,yBACzCwc,OAASpa,EAAKia,MAAMpd,iBAAiB,0BACrCwd,QAAUra,EAAK1B,WAAWV,cAAc,8BACxC0c,eAAiB1d,SAASC,iBAAiB,oCAC3CqY,YAAclV,EAAKzB,aAAaX,cAAc,mBAE9C2c,UAA6C,iBAAxBva,SAAYyW,SAA0BzW,SAAYyW,QAAQxZ,OAAS,IACxFud,aAAe,kCAGtB,gBACOH,QAAQle,UAAUoB,OAAO,iBAG1BW,KAAKW,YACF4b,YAKDvc,KAAKM,UAAUQ,IAAI,gBAChBkb,WAAW5K,MAAQpR,KAAKM,UAAUQ,IAAI,cACtCkb,WAAWtQ,UAAW,OACtBsQ,WAAW/d,UAAUe,IAAI,gBAG5BgB,KAAKa,mBAEFT,WAAWzB,iBAAiB,uBAC9BqJ,SAAQ,SAACwU,GACRA,EAAYve,UAAUe,IAAI,kBAI3Byd,mDACAC,sBAED1c,KAAKqc,gBACFM,0CAKX,gBAEOvc,WAAWzB,iBAAiB,uBAC9BqJ,SAAQ,SAACwU,GACRA,EAAYve,UAAUe,IAAI,aAIG,IAA7BgB,YAAY6X,oBAaTkE,MAAM9d,UAAUoB,OAAO,eACvB4c,cAAche,UAAUoB,OAAO,mCAcxC,2BAEO+c,eAAepU,SAAQ,SAACgU,OACrBY,EAAWtO,SAAYuO,aAAalF,KAAKkB,KAAK1b,KAC9C2f,EAAYxO,SAAYqJ,KAE1BoF,EAAU,GADDzO,EAAKhO,UAAUQ,IAAI,QAI9Bic,EAAU,cAGNH,IAAUG,EAAUH,GACpBE,IAAWC,GAAWH,cAAgBE,OAAeA,IAI3Dd,EAAWvZ,sBAAiBsa,GAAW,4BAIpCZ,QAAQ1Z,UAAYzC,KAAKmc,QAAQ7Z,aAAa,kBAG9CyZ,MAAM9d,UAAUe,IAAI,eAEpBgY,YAAYpK,aAAa,SAAU,SACnCoK,YAAY/Y,UAAUe,IAAI,qEAGjC,2BACOkd,OAAOlU,SAAQ,SAACgV,GACnBA,EAAMhb,iBAAiB,UAAU,WACX,MAAhBgb,EAAM5L,MACR6L,EAAKhB,cAAche,UAAUoB,OAAO,UAGpC4d,EAAKhB,cAAche,UAAUe,IAAI,mDAMzC,sBACQke,EAAkBld,KAAKic,cAAcvc,cAAc,kCACnDyd,EAAqBnd,KAAKic,cAAcvc,cAAc,qCACtD0d,EAAiBF,EAAgBG,cAEvCH,EAAgBlb,iBAAiB,SAAS,SAAC9E,OACnCkc,EAAe+D,EAAmBG,YAExClE,EAAahI,MAAQ,GACrBgI,EAAahM,GAAKgM,EAAahM,GAAG9N,QAAQ,IAAKie,EAAKjB,cAAgB,GACpElD,EAAaoE,gBAAgB,aAE7BJ,EAAehN,aAAagJ,EAAc8D,GAE1C9D,EAAaqE,MAAM,CAAEC,eAAe,IAEpCxgB,EAAMmM,2BAhJuB7J,GCC7B4D,OAAOua,WAAaA,SAAS1U,UAAUjB,UACzC2V,SAAS1U,UAAUjB,QAAU,SAAU4V,EAAUC,GAC/CA,EAAUA,GAAWza,WAChB,IAAItE,EAAI,EAAGA,EAAIkB,KAAKjB,OAAQD,GAAK,EACpC8e,EAASzU,KAAK0U,EAAS7d,KAAKlB,GAAIA,EAAGkB,QCM3C,IAAM8d,GAAU,WACd5e,QAAQC,IAAI,uBAEN4e,EAAQrf,SAASyY,gBAGvBzW,WAAWK,UAAY,IAAI6a,OACrBoC,EAAU,IAAIxe,EACdye,EAAa,IAAI1R,EACjBwD,EAAS,IAAID,EACb1S,EAAO,IAAI2Z,GACXmH,EAAQ,IAAIpC,GAGlBmC,EACGE,iBAEHpO,EACGA,SAEH3S,EACGghB,aAAa1d,kBAAkBmc,cAAgB,IAC/ChB,OAEHmC,EACGxP,SAEH0P,EACGrC,OC5BU,SAAmB7e,OAO5BqhB,EAJET,GADN5gB,EAAUA,GAAW,IACI4gB,UAAY,aAC/BU,EAAiBthB,EAAQshB,gBAAkB,aAC3CC,EAAWvhB,EAAQuhB,UAAY,IACjCC,GAAW,WAGNC,IACFD,IACLA,GAAW,EACXZ,cAEOc,IACFF,IACHA,GAAW,EACXF,KAEFK,aAAaN,GACbA,EAAQ7b,WAAWic,EAAMF,YAGlBK,EAAkBC,GACzBzb,OAAOyb,GAAa,OAAQH,GAC5BhgB,SAASmgB,GAAa,YAAaH,GACnChgB,SAASmgB,GAAa,SAAUH,GAChChgB,SAASmgB,GAAa,WAAYH,GAClChgB,SAASmgB,GAAa,QAASH,GAQjCE,EAAkB,oBAClBF,IDPAI,CAAU,CAERlB,SAAU,kBAAMG,EAAM9f,UAAUe,IAAI,YAEpCsf,eAAgB,kBAAMP,EAAM9f,UAAUoB,OAAO,YAE7Ckf,SAAU,OEjDRQ,GAAiB,WAEMrgB,SAASgB,cAAc,gBAAgB0N,KCIpE,cCP4B,eAGHvB,MAAMsN,OACvB6F,QAAQ/V,UAAUgW,UAClBD,QAAQ/V,UAAUiW,SACW,mBAAvB9b,OAAO1F,aACW,mBAAlBF,OAAOC,OAEA,CACjByB,QAAQigB,KAAK,8BAEPC,EAAe1gB,SAASgB,cAAc,uBAC5C0f,EAAa1f,cAAc,wBAAwByQ,qBAAgBqK,SAASrd,iBAAQqd,SAAS1C,aAC7FsH,EAAanhB,UAAUoB,OAAO,cAEvB,SAGF,EDXHggB,GAAuB,OAAO,EAElC3gB,SAASsD,iBAAiB,mBAAoB8b,IAAS,GACvDpf,SAASsD,iBAAiB,mBAAoB+c,IAAgB,GAJhE,GAQA3b,OAAOpB,iBAAiB,QEbL,WACjB9C,QAAQC,IAAI,sBAKZK,EACG8f,mBFMuC"}