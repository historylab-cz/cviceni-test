!function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)};function o(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):(e.className+" ").indexOf(t+" ")>-1)}function s(e,t){var i=e,n=t;if(i&&n)if("string"==typeof i?i=document.querySelectorAll(i):i.tagName&&(i=[i]),"string"==typeof n){n=n.split(" ");for(var s=0;s<i.length;s+=1){var r;if(i[s].classList)(r=i[s].classList).add.apply(r,a(n));else if(!o.apply(void 0,[i[s]].concat(a(n))))for(var l=0;l<n.length;l+=1)i[s].classes+=" "+n[l]}}else console.log("Class argument must be string with spaces in between class names.")}function r(e,t){var i=e,n=t;if(i&&n)if("string"==typeof i?i=document.querySelectorAll(i):i.tagName&&(i=[i]),"string"==typeof n){n=n.split(" ");for(var o=0;o<i.length;o+=1){var s;if(i[o].classList)(s=i[o].classList).remove.apply(s,a(n));else for(var r=0;r<n.length;r+=1)i[o].className=i[o].className.replace(new RegExp("\\b"+t[r]+"\\b","g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var l=function(){function i(){e(this,i),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("header"),this.$navigation=document.querySelector("#navigation"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$pagination=this.$navigation.querySelector("[data-nav-pagination]"),this.nav={$prev:this.$navigation.querySelector('[data-nav-button="prev"]'),$next:this.$navigation.querySelector('[data-nav-button="next"]')},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide")}return t(i,[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,i=0,n=function(n,a){(o=a.scrollTop)>t&&o>i?(s(e.$header,"is-hidden"),i=o):(o<i-200||o<=t)&&(r(e.$header,"is-hidden"),i=o)},a=0;a<this.$slides.length;a+=1)this.$slides[a].removeEventListener("scroll",n);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide");var o=this.$activeSlide.scrollTop;o<=t?r(this.$header,"is-hidden"):s(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",function(t){return n(0,e.$activeSlide)})}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading");document.querySelector("#loading-screen h1").innerText="Hotovo",r(e,"loading")}}]),i}(),c=function(a){function c(){e(this,c);var t=n(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t._clickPrev=t._clickPrev.bind(t),t._clickNext=t._clickNext.bind(t),window.onpopstate=function(){var e=t.$cviceni.querySelector(".active-slide"),i=e.getAttribute("data-slide-index"),n=t.$cviceni.querySelector(window.location.hash),a=n.getAttribute("data-slide-index");if(n&&o(n,"visited-slide")&&n.id!==e.id)r(e,"active-slide"),i>a?(analytika=analytika+"P-"+Math.round(performance.now()-analytika_start)+"-",s(e,"next-slide"),r(n,"previous-slide"),o(n,"previous-to-active-slide")&&r(n,"previous-to-active-slide"),o(n.previousElementSibling,"half-slide-previous")&&s(n.previousElementSibling,"previous-to-active-slide"),t._paginationPrev()):(analytika=analytika+"D-"+Math.round(performance.now()-analytika_start)+"-",s(e,"previous-slide"),r(n,"next-slide"),o(e,"half-slide-previous")&&s(e,"previous-to-active-slide"),o(e.previousElementSibling,"previous-to-active-slide")&&r(e.previousElementSibling,"previous-to-active-slide"),t._paginationNext()),s(n,"active-slide"),n.previousElementSibling?r(t.nav.$prev,"is-hidden"):s(t.nav.$prev,"is-hidden"),n.nextElementSibling?r(t.nav.$next,"is-hidden"):s(t.nav.$next,"is-hidden");else if(!o(n,"visited-slide")){var l="#"+e.id;window.history.replaceState?window.history.replaceState(null,null,l):window.location.hash=l}},t}return i(c,l),t(c,[{key:"loopNavButtons",value:function(){this.nav.$prev.addEventListener("click",this._clickPrev,!1),this.nav.$next.addEventListener("click",this._clickNext,!1)}},{key:"_both",value:function(){this.header(),c.hideAllOpenComments()}},{key:"_paginationNext",value:function(){var e=this.$navigation.querySelector(".active-slide"),t=this.$navigation.querySelector(".previous-to-active-slide"),i=e.nextElementSibling;r(e,"active-slide"),s(e,"previous-slide previous-to-active-slide"),r(i,"next-slide"),s(i,"active-slide visited-slide"),t&&t.classList.remove("previous-to-active-slide")}},{key:"_paginationPrev",value:function(){var e=this.$navigation.querySelector(".active-slide"),t=this.$navigation.querySelector(".previous-to-active-slide"),i=e.previousElementSibling,n=i.previousElementSibling;r(e,"active-slide"),s(e,"next-slide"),r(i,"previous-slide"),s(i,"active-slide"),t&&t.classList.remove("previous-to-active-slide"),n&&n.classList.add("previous-to-active-slide")}},{key:"_clickPrev",value:function(e){analytika=analytika+"P-"+Math.round(performance.now()-analytika_start)+"-";var t=this.nav.$prev,i=this.nav.$next,n=this.$cviceni.querySelector(".active-slide"),a=n.previousElementSibling,l=this.$cviceni.querySelector(".previous-to-active-slide");o(a,"slide")?(r(n,"active-slide"),s(n,"next-slide"),r(a,"previous-slide"),s(a,"active-slide"),l&&r(l,"previous-to-active-slide"),a.previousElementSibling&&s(a.previousElementSibling,"previous-to-active-slide"),this._paginationPrev(),a.previousElementSibling?r(t,"is-hidden"):s(t,"is-hidden"),o(i,"is-hidden")&&r(i,"is-hidden")):s(t,"is-hidden"),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"_clickNext",value:function(e){analytika=analytika+"D-"+Math.round(performance.now()-analytika_start)+"-";var t=this.nav.$prev,i=this.nav.$next,n=this.$cviceni.querySelector(".active-slide"),a=this.$cviceni.querySelector(".previous-to-active-slide"),l=n.nextElementSibling;o(l,"slide")?(r(n,"active-slide"),s(n,"previous-slide previous-to-active-slide"),r(l,"next-slide"),s(l,"active-slide visited-slide"),a&&r(a,"previous-to-active-slide"),this._paginationNext(),l.nextElementSibling?r(i,"is-hidden"):s(i,"is-hidden"),o(t,"is-hidden")&&r(t,"is-hidden")):s(i,"is-hidden"),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"_saveActiveSlideToHistory",value:function(){var e="#"+this.$cviceni.querySelector(".active-slide").id;window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"hideAllOpenComments",value:function(){var e=document.querySelectorAll(".comment:not(.hidden)");Array.from(e).forEach(function(e){e.getElementsByClassName("close")[0].click()})}}]),c}(),d=function(a){function r(){return e(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).call(this))}return i(r,l),t(r,[{key:"slides",value:function(){for(var e=0;e<this.$slides.length;e+=1)if(this.$slides[e].setAttribute("data-slide-index",e),0===e){s(this.$slides[e],"active-slide visited-slide");var t="#"+this.$slides[e].id;window.history.replaceState?window.history.replaceState(null,null,t):window.location.hash=t}else s(this.$slides[e],"next-slide");return this}},{key:"pagination",value:function(){for(var e="",t=0;t<this.$slides.length;t+=1){var i="";i+=0===t?"active-slide visited-slide":"next-slide",o(this.$slides[t],"half-slide-previous")&&(i+=" half-slide-previous"),e+='<div class="pagination-item '+i+'"></div>'}this.$pagination.innerHTML=e}}]),r}(),v=function(a){function o(){e(this,o);var t=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t._clickListener=t._clickListener.bind(t),t}return i(o,l),t(o,[{key:"checkForUserData",value:function(e){return e.length<19?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"data",get:function(){var e={};e.cviceni=this.$cviceni.getAttribute("id");for(var t=document.querySelectorAll("[data-save]"),i=0;i<t.length;i+=1){var n=t[i].getAttribute("id"),a=void 0;e[n]={},e[n].node=t[i].tagName,"TEXTAREA"===t[i].tagName?t[i].hasAttribute("data-textarea-target")||t[i].hasAttribute("data-svg-textarea-target")?(a=t[i].value?t[i].value:null,t[i].getAttribute("data-svg-textarea-target")&&(e[n].svg=t[i].getAttribute("data-svg-textarea-target"))):(console.log(n),console.log("Not registered "+t[i].tagName+". Please, add data-attribute.")):"INPUT"===t[i].tagName||"SELECT"===t[i].tagName?"value"===t[i].getAttribute("data-save")?(console.log(t[i].value),a=t[i].value?t[i].value:null):(console.log(n),console.log("Not registered "+t[i].tagName+". Please, add data-attribute.")):"svg"===t[i].tagName?t[i].hasAttribute("data-svg-target")?a=btoa(t[i].innerHTML):(console.log(n),console.log("Not registered "+t[i].tagName+". Please, add data-attribute.")):"DIV"===t[i].tagName&&(t[i].hasAttribute("data-sortable-target")?a=o.b64EncodeUnicode(t[i].innerHTML):"analyticka-tabulka"===t[i].getAttribute("data-target")?a=o.b64EncodeUnicode(t[i].innerHTML):"editor"===t[i].getAttribute("data-target")?a=o.b64EncodeUnicode(t[i].innerHTML):"html"===t[i].getAttribute("data-save")?a=o.b64EncodeUnicode(t[i].innerHTML):(console.log(n),console.log("Not registered "+t[i].tagName+". Please, add data-attribute."))),a?e[n].value=a:console.log(n+": No data to save.")}return e.platform=platform.description,JSON.stringify(e)},set:function(e){for(var t=JSON.parse(e),i=0;i<2;i+=1)for(var n=0;n<Object.keys(t).length;n+=1){var a=Object.keys(t)[n],s=t[a].value;0===i?"svg"===t[a].node?document.getElementById(a).innerHTML=atob(s):"DIV"===t[a].node&&(document.getElementById(a).innerHTML=o.b64DecodeUnicode(s)):1===i&&("TEXTAREA"!==t[a].node&&"INPUT"!==t[a].node&&"SELECT"!==t[a].node||(document.getElementById(a).value=s||" "))}}}],[{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}}]),o}();document.addEventListener("DOMContentLoaded",function(){console.log("domLoad:cviceni");var e=new l,t=new c,i=new d;userData=new v,t.loopNavButtons(),i.slides().pagination(),userData.checkForUserData(dataKZobrazeni).loopSaveButtons(),e.header()},!1),window.addEventListener("load",function(){console.log("windowLoad:cviceni"),l.loadingScreen()},!1)}();
//# sourceMappingURL=app.build.js.map
