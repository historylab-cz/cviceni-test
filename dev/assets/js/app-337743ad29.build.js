!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){if("createEvent"in document){var n=new Event(t);e.dispatchEvent(n)}else{var r=document.createEventObject();r.eventType=t,e.fireEvent("on"+r.eventType,r)}}function u(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):"".concat(e.className," ").indexOf("".concat(t," "))>-1)}function d(e,t){var n=e,r=t;if(n&&r)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof r){r=r.split(" ");for(var i=0;i<n.length;i+=1){var a;if(n[i].classList)(a=n[i].classList).add.apply(a,s(r));else if(!u.apply(void 0,[n[i]].concat(s(r))))for(var o=0;o<r.length;o+=1)n[i].classes+=" ".concat(r[o])}}else console.log("Class argument must be string with spaces in between class names.")}function v(e,t){var n=e,r=t;if(n&&r)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof r){r=r.split(" ");for(var i=0;i<n.length;i+=1){var a;if(n[i].classList)(a=n[i].classList).remove.apply(a,s(r));else for(var o=0;o<r.length;o+=1)n[i].className=n[i].className.replace(new RegExp("\\b".concat(t[o],"\\b"),"g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var h=function(){function t(){e(this,t),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("#header"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$buttonFeedbacks=document.querySelectorAll("[data-feedback-button]"),this.nav={$prev:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="prev"]')),$next:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="next"]'))},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide"),this.$formSlide=this.$cviceni.querySelector("#slide-form"),this.$exportSlide=this.$cviceni.querySelector("#slide-export"),this.import=HISTORYLAB.import,this.isDone=!0===this.import.done,this.analytics={time:{start:{date:0,time:0},end:{date:0,time:0},timeSpent:0},activity:{length:0,steps:[]}}}return n(t,[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,n=0,r=function(r,i){(a=i.scrollTop)>t&&a>n?(d(e.$header,"is-hidden"),n=a):(a<n-200||a<=t)&&(v(e.$header,"is-hidden"),n=a)},i=0;i<this.$slides.length;i+=1)this.$slides[i].removeEventListener("scroll",r);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide");var a=this.$activeSlide.scrollTop;a<=t?v(this.$header,"is-hidden"):d(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",function(t){return r(0,e.$activeSlide)})}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading");document.querySelector("#loading-screen h1").innerText="Hotovo",v(e,"loading")}}]),t}(),f=function(t){function a(){var t;return e(this,a),(t=c(this,i(a).call(this)))._clickPrev=t._clickPrev.bind(o(t)),t._clickNext=t._clickNext.bind(o(t)),Array.from(document.querySelectorAll("div")).forEach(function(e){e.setAttribute("tabindex",-1),e.style.outline="0"}),window.onpopstate=function(){t.analytics=HISTORYLAB.analytics.data;var e=t.$cviceni.querySelector(".active-slide"),n=e.getAttribute("data-slide-index"),r=t.$cviceni.querySelector(window.location.hash),i=r.getAttribute("data-slide-index");if(r&&u(r,"visited-slide")&&r.id!==e.id)v(e,"active-slide"),a.enableTabControlOnActiveSlide(r,e),n>i?(t.analytics.activity.length+=1,t.analytics.activity.steps[t.analytics.activity.length]={type:"P",time:Math.round(performance.now())-t.analytics.time.start.time},d(e,"next-slide"),v(r,"previous-slide"),u(r,"previous-to-active-slide")&&v(r,"previous-to-active-slide"),u(r.previousElementSibling,"half-slide-previous")&&d(r.previousElementSibling,"previous-to-active-slide")):(t.analytics.activity.length+=1,t.analytics.activity.steps[t.analytics.activity.length]={type:"D",time:Math.round(performance.now())-t.analytics.time.start.time},d(e,"previous-slide"),v(r,"next-slide"),u(e,"half-slide-previous")&&d(e,"previous-to-active-slide"),u(e.previousElementSibling,"previous-to-active-slide")&&v(e.previousElementSibling,"previous-to-active-slide")),d(r,"active-slide");else if(!u(r,"visited-slide")){var o="#".concat(e.id);window.history.replaceState?window.history.replaceState(null,null,o):window.location.hash=o}HISTORYLAB.analytics.data=t.analytics},t}return r(a,h),n(a,[{key:"loopNavButtons",value:function(){var e=this;this.nav.$prev.forEach(function(t){t.addEventListener("click",e._clickPrev,!1)}),this.nav.$next.forEach(function(t){t.addEventListener("click",e._clickNext,!1)}),this.buttonFeedbackOnHover()}},{key:"_both",value:function(){this.header(),a.hideAllOpenComments()}},{key:"_clickPrev",value:function(e){this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"P",time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics;var t=this.$cviceni.querySelector(".active-slide"),n=t.previousElementSibling,r=this.$cviceni.querySelector(".previous-to-active-slide");u(n,"slide")&&(v(t,"active-slide"),d(t,"next-slide"),v(n,"previous-slide"),d(n,"active-slide"),a.enableTabControlOnActiveSlide(n,t),r&&v(r,"previous-to-active-slide"),n.previousElementSibling&&d(n.previousElementSibling,"previous-to-active-slide")),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"_clickNext",value:function(e){this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"D",time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics;var t=this.$cviceni.querySelector(".active-slide"),n=this.$cviceni.querySelector(".previous-to-active-slide"),r=t.nextElementSibling;u(r,"slide")&&(v(t,"active-slide"),d(t,"previous-slide previous-to-active-slide"),v(r,"next-slide"),d(r,"active-slide visited-slide"),a.enableTabControlOnActiveSlide(r,t),n&&v(n,"previous-to-active-slide")),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"buttonFeedbackOnHover",value:function(){Array.from(this.$buttonFeedbacks).forEach(function(e){var t=e.querySelector("span"),n=JSON.parse(e.getAttribute("data-feedback-button")),r="";e.addEventListener("mouseenter",function(i){r=t.innerText;var a=e.offsetWidth;r!==n&&(t.innerText=n.hover,a>e.offsetWidth&&(e.style.width="".concat(a,"px")))}),e.addEventListener("mouseleave",function(i){r!==n&&(e.style.width="",t.innerText=r)})})}},{key:"_saveActiveSlideToHistory",value:function(){var e="#".concat(this.$cviceni.querySelector(".active-slide").id);window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"enableTabControlOnActiveSlide",value:function(e,t){var n=e.querySelectorAll("textarea"),r=t.querySelectorAll("textarea");Array.from(r).forEach(function(e){e.setAttribute("tabindex",-1)}),Array.from(n).forEach(function(e){e.setAttribute("tabindex",0)})}},{key:"hideAllOpenComments",value:function(){var e=document.querySelectorAll(".comment:not(.hidden)");Array.from(e).forEach(function(e){e.getElementsByClassName("close")[0].click()})}}]),a}(),m=function(t){function a(){return e(this,a),c(this,i(a).call(this))}return r(a,h),n(a,[{key:"slides",value:function(){for(var e=0;e<this.$slides.length;e+=1)if(this.$slides[e].setAttribute("data-slide-index",e),0===e){var t="#".concat(this.$slides[e].id);window.history.replaceState?window.history.replaceState(null,null,t):window.location.hash=t}else d(this.$slides[e],"next-slide");return this}},{key:"pagination",value:function(){var e=this.$slides.length;Array.from(this.$slides).forEach(function(t,n){var r=t.querySelector(".zadani"),i=r.querySelector("h1"),a=document.createElement("div");a.classList.add("pagination"),a.innerHTML="".concat(n+1,"/").concat(e),r.insertBefore(a,i)})}}]),a}();function y(e){return function(t){return null==e?void 0:e[t]}}var p=y({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),b="object"==typeof global&&global&&global.Object===Object&&global,g="object"==typeof self&&self&&self.Object===Object&&self,S=b||g||Function("return this")(),A=S.Symbol;var E=Array.isArray,w=Object.prototype,$=w.hasOwnProperty,L=w.toString,j=A?A.toStringTag:void 0;var x=Object.prototype.toString;var k="[object Null]",T="[object Undefined]",O=A?A.toStringTag:void 0;function q(e){return null==e?void 0===e?T:k:O&&O in Object(e)?function(e){var t=$.call(e,j),n=e[j];try{e[j]=void 0;var r=!0}catch(e){}var i=L.call(e);return r&&(t?e[j]=n:delete e[j]),i}(e):function(e){return x.call(e)}(e)}function B(e){return null!=e&&"object"==typeof e}var M="[object Symbol]";var I=1/0,H=A?A.prototype:void 0,R=H?H.toString:void 0;function P(e){if("string"==typeof e)return e;if(E(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,P)+"";if(function(e){return"symbol"==typeof e||B(e)&&q(e)==M}(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}function _(e){return null==e?"":P(e)}var D=/[&<>"']/g,N=RegExp(D.source);function C(e){return(e=_(e))&&N.test(e)?e.replace(D,p):e}var F=y({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),U=/&(?:amp|lt|gt|quot|#39);/g,Y=RegExp(U.source);function V(e){return(e=_(e))&&Y.test(e)?e.replace(U,F):e}var W=Object.prototype;function z(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}var G,J,X=(G=Object.keys,J=Object,function(e){return G(J(e))}),K=Object.prototype.hasOwnProperty;function Q(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Z="[object AsyncFunction]",ee="[object Function]",te="[object GeneratorFunction]",ne="[object Proxy]";function re(e){if(!Q(e))return!1;var t=q(e);return t==ee||t==te||t==Z||t==ne}var ie,ae=S["__core-js_shared__"],oe=(ie=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"";var ce=Function.prototype.toString;function se(e){if(null!=e){try{return ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var le=/^\[object .+?Constructor\]$/,ue=Function.prototype,de=Object.prototype,ve=ue.toString,he=de.hasOwnProperty,fe=RegExp("^"+ve.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function me(e){return!(!Q(e)||(t=e,oe&&oe in t))&&(re(e)?fe:le).test(se(e));var t}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return me(n)?n:void 0}var pe=ye(S,"DataView"),be=ye(S,"Map"),ge=ye(S,"Promise"),Se=ye(S,"Set"),Ae=ye(S,"WeakMap"),Ee=se(pe),we=se(be),$e=se(ge),Le=se(Se),je=se(Ae),xe=q;(pe&&"[object DataView]"!=xe(new pe(new ArrayBuffer(1)))||be&&"[object Map]"!=xe(new be)||ge&&"[object Promise]"!=xe(ge.resolve())||Se&&"[object Set]"!=xe(new Se)||Ae&&"[object WeakMap]"!=xe(new Ae))&&(xe=function(e){var t=q(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Ee:return"[object DataView]";case we:return"[object Map]";case $e:return"[object Promise]";case Le:return"[object Set]";case je:return"[object WeakMap]"}return t});var ke=xe,Te="[object Arguments]";function Oe(e){return B(e)&&q(e)==Te}var qe=Object.prototype,Be=qe.hasOwnProperty,Me=qe.propertyIsEnumerable,Ie=Oe(function(){return arguments}())?Oe:function(e){return B(e)&&Be.call(e,"callee")&&!Me.call(e,"callee")},He=9007199254740991;function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=He}var Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,_e=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,De=_e&&_e.exports===Pe?S.Buffer:void 0,Ne=(De?De.isBuffer:void 0)||function(){return!1},Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ue=Fe&&"object"==typeof module&&module&&!module.nodeType&&module,Ye=Ue&&Ue.exports===Fe&&b.process,Ve=function(){try{var e=Ue&&Ue.require&&Ue.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),We=Ve&&Ve.isTypedArray,ze=We?function(e){return function(t){return e(t)}}(We):function(e){return B(e)&&Re(e.length)&&!!Ce[q(e)]},Ge="[object Map]",Je="[object Set]",Xe=Object.prototype.hasOwnProperty;function Ke(e){if(null==e)return!0;if(function(e){return null!=e&&Re(e.length)&&!re(e)}(e)&&(E(e)||"string"==typeof e||"function"==typeof e.splice||Ne(e)||ze(e)||Ie(e)))return!e.length;var t=ke(e);if(t==Ge||t==Je)return!e.size;if(z(e))return!function(e){if(!z(e))return X(e);var t=[];for(var n in Object(e))K.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e).length;for(var n in e)if(Xe.call(e,n))return!1;return!0}var Qe=function(t){function a(){var t;return e(this,a),(t=c(this,i(a).call(this))).$formExport=t.$exportSlide.querySelector("#form-to-send"),t._clickListener=t._clickListener.bind(o(t)),t.beforeSendForm=t.beforeSendForm.bind(o(t)),t}return r(a,h),n(a,[{key:"init",value:function(){switch(this.isDone){case!0:document.documentElement.classList.add("is-done"),document.documentElement.setAttribute("data-state","done"),Array.from(document.querySelectorAll(".show-when-done")).forEach(function(e){e.classList.remove("hidden")}),Array.from(document.querySelectorAll(".hide-when-done")).forEach(function(e){e.classList.add("hidden")});break;case!1:this.addEventListeners()}}},{key:"addEventListeners",value:function(){this.loopSaveButtons(),this.$exportSlide.querySelector('button[type="submit"]').addEventListener("click",this.beforeSendForm)}},{key:"beforeSendForm",value:function(e){this.analytics=HISTORYLAB.analytics.data,this.analytics.time.end={time:Math.round(performance.now()),date:Date.now()},this.analytics.time.timeSpent=HISTORYLAB.analytics.timeSpent,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"K",time:this.analytics.time.end.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics,document.getElementById("odpoved_id").value=this.data}},{key:"checkForData",value:function(e){return Ke(e)?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e.user.data),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"getExerciseMode",value:function(){var e=this.$formSlide.querySelector('input[name="exercise-mode"]:checked');return HISTORYLAB.import.hasOwnProperty("exerciseMode")?HISTORYLAB.import.exerciseMode:e?parseInt(e.value,10):-1}},{key:"data",get:function(){var e={};e.entryId=HISTORYLAB.import.entryid||0,e.lmsHash=HISTORYLAB.import.lmsHash||"0",e.exercise={id:parseInt(this.$cviceni.getAttribute("data-exercise-id"),10),slug:this.$cviceni.getAttribute("id"),name:document.querySelector("#header .title").innerText||"",version:{global:document.documentElement.getAttribute("data-version-global"),content:parseInt(document.documentElement.getAttribute("data-version-content"),10)},mode:this.getExerciseMode()},e.user={form:{name:HISTORYLAB.import.name||this.$formSlide.querySelector("#user-name").value,email:HISTORYLAB.import.user||this.$formSlide.querySelector("#user-email").value,institution:HISTORYLAB.import.institution||this.$formSlide.querySelector("#user-institution").value,teacher:HISTORYLAB.import.teacher||this.$formSlide.querySelector("#teacher-email").value,group:{members:1===e.exercise.mode?Array.from(this.$formSlide.querySelectorAll("#form-group-members input")).map(function(e){return e.value}):[]}},analytics:HISTORYLAB.analytics.data||{},data:[]};var t=document.querySelectorAll("[data-save]");return e.user.data=Array.from(t).map(function(e){var t={id:"",node:"",value:""};if(t.id=e.getAttribute("id"),t.node=e.tagName,"TEXTAREA"===t.node)e.hasAttribute("data-textarea-target")||e.hasAttribute("data-svg-textarea-target")?(e.value?t.value=C(e.value):t.value=null,e.getAttribute("data-svg-textarea-target")&&(t.svg=e.getAttribute("data-svg-textarea-target"))):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("INPUT"===t.node)"value"===e.getAttribute("data-save")?e.value?t.value=C(e.value):t.value=null:(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("SELECT"===t.node)if("value"===e.getAttribute("data-save"))if(e.value){t.value=e.value;for(var n=0;n<e.options.length;n+=1)if(e.options[n].innerHTML===e.value){t.selectedIndex=n;break}}else t.value=null;else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else"svg"===t.node?e.hasAttribute("data-svg-target")?t.value=a.b64EncodeUnicode(e.innerHTML):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."))):"DIV"===t.node&&(e.hasAttribute("data-sortable-target")?t.value=a.b64EncodeUnicode(e.innerHTML):"analyticka-tabulka"===e.getAttribute("data-target")?t.value=a.b64EncodeUnicode(e.innerHTML):"editor"===e.getAttribute("data-target")?t.value=a.b64EncodeUnicode(e.innerHTML):"html"===e.getAttribute("data-save")?t.value=a.b64EncodeUnicode(e.innerHTML):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."))));return t}),e.user.analytics.client=platform.description,e.done=!0,JSON.stringify(e)},set:function(e){for(var t=0;t<2;t+=1)a.renderUserData(e,t)}}],[{key:"renderUserData",value:function(e,t){e.forEach(function(e){var n=document.getElementById(e.id);switch(t){case 0:switch(e.node){case"svg":case"DIV":n.innerHTML=a.b64DecodeUnicode(e.value)}break;case 1:switch(e.node){case"INPUT":n.value=V(e.value||" "),n.readOnly=!0;break;case"SELECT":n.selectedIndex=e.selectedIndex||0,n.value=e.value||" ",n.disabled=!0;break;case"TEXTAREA":n.value=V(e.value||" "),n.readOnly=!0}}})}},{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x".concat(t))}))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}).join(""))}}]),a}(),Ze=function(t){function a(){var t;return e(this,a),(t=c(this,i(a).call(this))).init(),t}return r(a,h),n(a,[{key:"init",value:function(){this.analytics.time.start={time:Math.round(performance.now()),date:Date.now()},this.analytics.activity.steps[this.analytics.activity.length]={type:"S",time:this.analytics.time.start.time,date:Date.now()}}},{key:"data",get:function(){return this.analytics},set:function(e){this.analytics=e}},{key:"timeSpent",get:function(){return this.analytics.time.end.time-this.analytics.time.start.time}}]),a}(),et=function(t){function a(){var t;return e(this,a),(t=c(this,i(a).call(this))).$form=t.$formSlide.querySelector("#form"),t.$userEmail=t.$form.querySelector("#user-email"),t.$groupMembers=t.$form.querySelector("#form-group-members"),t.$modes=t.$form.querySelectorAll("[data-exercise-mode]"),t.$button=t.$formSlide.querySelector('[data-nav-button="next"]'),t.$showUserEmail=document.querySelectorAll('[data-form="about-user-email"]'),t.$formExport=t.$exportSlide.querySelector("#form-to-send"),t.isFromLMS="string"==typeof t.import.lmsHash&&t.import.lmsHash.length>0,t.groupMembers=1,t.urlParameters={},t}return r(a,h),n(a,[{key:"init",value:function(){switch(this.urlParameters=function(){var e=window.location.search.substr(1).split("&");if(""===e)return{};for(var t={},n=0;n<e.length;n+=1){var r=e[n].split("=",2);1===r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(),this.isDone){case!0:this.whenDone();break;case!1:this.urlParameters.email&&(this.$userEmail.value=this.urlParameters.email,this.$userEmail.readOnly=!0,this.$userEmail.classList.add("is-readonly")),this.addEventListenersToExerciseModeRadioButtons(),this.addGroupMemberField(),this.isFromLMS&&this.whenFromLMS()}}},{key:"whenFromLMS",value:function(){Array.from(this.$formSlide.querySelectorAll(".hide-when-from-lms")).forEach(function(e){e.classList.add("hidden")}),1===this.import.exerciseMode&&(this.$form.classList.remove("hidden"),this.$groupMembers.classList.remove("hidden"))}},{key:"whenDone",value:function(){var e=this;Array.from(this.$showUserEmail).forEach(function(t){t.innerText+=" ".concat(e.import.user||"neznámý uživatel")}),this.$button.innerText=this.$button.getAttribute("data-done"),this.$form.classList.add("hidden"),this.$formExport.setAttribute("action",""),this.$formExport.classList.add("hidden")}},{key:"addEventListenersToExerciseModeRadioButtons",value:function(){var e=this;Array.from(this.$modes).forEach(function(t){t.addEventListener("change",function(){"1"===t.value?e.$groupMembers.classList.remove("hidden"):e.$groupMembers.classList.add("hidden")})})}},{key:"addGroupMemberField",value:function(){var e=this,t=this.$groupMembers.querySelector('[data-form="group-member-add"]'),n=this.$groupMembers.querySelector('[data-form="group-member-master"]'),r=t.parentNode;t.addEventListener("click",function(i){var a=n.cloneNode();a.value="",a.id=a.id.replace("1",e.groupMembers+=1),a.removeAttribute("data-form"),r.insertBefore(a,t),a.focus({preventScroll:!1}),i.preventDefault()})}}]),a}(),tt=function(){var e=document.querySelectorAll('[data-nav-button="next"'),t=document.getElementById("patrani-razeni-1").getElementsByClassName("sortable-item"),n=document.querySelector('[data-slide-index="8"]').getElementsByClassName("sources")[0],r=n.getElementsByClassName("source");Array.from(e).forEach(function(e){return function(e){e.addEventListener("click",function(e){Array.from(t).forEach(function(e,t){var i=e.getElementsByClassName("source-image")[0].getAttribute("src").split("/"),a=i[i.length-1];Array.from(r).forEach(function(e,t){var r=e.getElementsByTagName("image")[0].getAttribute("xlink:href").split("/");r[r.length-1]==a&&n.appendChild(e)})})})}(e)})};document.addEventListener("DOMContentLoaded",function(){console.log("domLoad:cviceni"),HISTORYLAB.analytics=new Ze;var e=new h,t=new f,n=new m,r=new Qe,i=new et;t.loopNavButtons(),n.slides(),r.checkForData(HISTORYLAB.import.exerciseData||{}).init(),e.header(),i.init()},!1),document.addEventListener("DOMContentLoaded",function(){var e,t,n,r,i,a,o,c,s=document.querySelector("main.cviceni").id;"jak-psat-o-uprchlicich"===s&&(e=document.querySelector("#popis-interpretace-1"),t=document.querySelector("#popis-interpretace-2"),n=document.querySelector("#popis-interpretace-3"),r=document.querySelector("#popis-interpretace-4"),i=document.querySelector("#popis-interpretace-5"),a=document.querySelector("#popis-interpretace-6"),o=document.querySelector("#popis-interpretace-7"),c=document.querySelector("#popis-interpretace-8"),e.addEventListener("change",function(e){var n=e.currentTarget,r=t;u(r,"changed")||(r.value=n.value,l(r,"change"))}),t.addEventListener("change",function(e){var t=e.currentTarget,n=r;u(n,"changed")||(n.value=t.value),d(t,"changed")}),n.addEventListener("change",function(e){var t=e.currentTarget,n=i;u(n,"changed")||(n.value=t.value),d(t,"changed"),l(n,"change")}),r.addEventListener("change",function(e){d(e.currentTarget,"changed")}),i.addEventListener("change",function(e){var t=e.currentTarget,n=a;u(n,"changed")||(n.value=t.value),d(t,"changed")}),a.addEventListener("change",function(e){d(e.currentTarget,"changed")}),o.addEventListener("change",function(e){var t=e.currentTarget,n=c;u(n,"changed")||(n.value=t.value),d(t,"changed")}),c.addEventListener("change",function(e){d(e.currentTarget,"changed")})),"promeny-mesta-zlin"===s&&tt()},!1),window.addEventListener("load",function(){console.log("windowLoad:cviceni"),h.loadingScreen()},!1)}();
//# sourceMappingURL=app.build.js.map
