!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?r(e):t}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):"".concat(e.className," ").indexOf("".concat(t," "))>-1)}function u(e,t){var i=e,n=t;if(i&&n)if("string"==typeof i?i=document.querySelectorAll(i):i.tagName&&(i=[i]),"string"==typeof n){n=n.split(" ");for(var o=0;o<i.length;o+=1){var a;if(i[o].classList)(a=i[o].classList).add.apply(a,l(n));else if(!s.apply(void 0,[i[o]].concat(l(n))))for(var r=0;r<n.length;r+=1)i[o].classes+=" ".concat(n[r])}}else console.log("Class argument must be string with spaces in between class names.")}function d(e,t){var i=e,n=t;if(i&&n)if("string"==typeof i?i=document.querySelectorAll(i):i.tagName&&(i=[i]),"string"==typeof n){n=n.split(" ");for(var o=0;o<i.length;o+=1){var a;if(i[o].classList)(a=i[o].classList).remove.apply(a,l(n));else for(var r=0;r<n.length;r+=1)i[o].className=i[o].className.replace(new RegExp("\\b".concat(t[r],"\\b"),"g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var v=function(){function t(){e(this,t),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("#header"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$buttonFeedbacks=document.querySelectorAll("[data-feedback-button]"),this.nav={$prev:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="prev"]')),$next:Array.from(this.$cviceni.querySelectorAll('[data-nav-button="next"]'))},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide")}return i(t,[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,i=0,n=function(n,o){(a=o.scrollTop)>t&&a>i?(u(e.$header,"is-hidden"),i=a):(a<i-200||a<=t)&&(d(e.$header,"is-hidden"),i=a)},o=0;o<this.$slides.length;o+=1)this.$slides[o].removeEventListener("scroll",n);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide");var a=this.$activeSlide.scrollTop;a<=t?d(this.$header,"is-hidden"):u(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",function(t){return n(0,e.$activeSlide)})}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading");document.querySelector("#loading-screen h1").innerText="Hotovo",d(e,"loading")}}]),t}(),f=function(t){function a(){var t;return e(this,a),(t=c(this,o(a).call(this)))._clickPrev=t._clickPrev.bind(r(r(t))),t._clickNext=t._clickNext.bind(r(r(t))),window.onpopstate=function(){var e=t.$cviceni.querySelector(".active-slide"),i=e.getAttribute("data-slide-index"),n=t.$cviceni.querySelector(window.location.hash),o=n.getAttribute("data-slide-index");if(n&&s(n,"visited-slide")&&n.id!==e.id)d(e,"active-slide"),i>o?(analytika=analytika+"P-"+Math.round(performance.now()-analytika_start)+"-",u(e,"next-slide"),d(n,"previous-slide"),s(n,"previous-to-active-slide")&&d(n,"previous-to-active-slide"),s(n.previousElementSibling,"half-slide-previous")&&u(n.previousElementSibling,"previous-to-active-slide")):(analytika=analytika+"D-"+Math.round(performance.now()-analytika_start)+"-",u(e,"previous-slide"),d(n,"next-slide"),s(e,"half-slide-previous")&&u(e,"previous-to-active-slide"),s(e.previousElementSibling,"previous-to-active-slide")&&d(e.previousElementSibling,"previous-to-active-slide")),u(n,"active-slide");else if(!s(n,"visited-slide")){var a="#".concat(e.id);window.history.replaceState?window.history.replaceState(null,null,a):window.location.hash=a}},t}return n(a,v),i(a,[{key:"loopNavButtons",value:function(){var e=this;this.nav.$prev.forEach(function(t){t.addEventListener("click",e._clickPrev,!1)}),this.nav.$next.forEach(function(t){t.addEventListener("click",e._clickNext,!1)}),this.buttonFeedbackOnHover()}},{key:"_both",value:function(){this.header(),a.hideAllOpenComments()}},{key:"_clickPrev",value:function(e){analytika=analytika+"P-"+Math.round(performance.now()-analytika_start)+"-";var t=this.$cviceni.querySelector(".active-slide"),i=t.previousElementSibling,n=this.$cviceni.querySelector(".previous-to-active-slide");s(i,"slide")&&(d(t,"active-slide"),u(t,"next-slide"),d(i,"previous-slide"),u(i,"active-slide"),n&&d(n,"previous-to-active-slide"),i.previousElementSibling&&u(i.previousElementSibling,"previous-to-active-slide")),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"_clickNext",value:function(e){analytika=analytika+"D-"+Math.round(performance.now()-analytika_start)+"-";var t=this.$cviceni.querySelector(".active-slide"),i=this.$cviceni.querySelector(".previous-to-active-slide"),n=t.nextElementSibling;s(n,"slide")&&(d(t,"active-slide"),u(t,"previous-slide previous-to-active-slide"),d(n,"next-slide"),u(n,"active-slide visited-slide"),i&&d(i,"previous-to-active-slide")),this._both(),this._saveActiveSlideToHistory(),e.preventDefault()}},{key:"buttonFeedbackOnHover",value:function(){Array.from(this.$buttonFeedbacks).forEach(function(e){var t=e.querySelector("span"),i=JSON.parse(e.getAttribute("data-feedback-button")),n="";e.addEventListener("mouseenter",function(o){n=t.innerText;var a=e.offsetWidth;n!==i&&(t.innerText=i.hover,a>e.offsetWidth&&(e.style.width="".concat(a,"px")))}),e.addEventListener("mouseleave",function(o){n!==i&&(e.style.width="",t.innerText=n)})})}},{key:"_saveActiveSlideToHistory",value:function(){var e="#".concat(this.$cviceni.querySelector(".active-slide").id);window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"hideAllOpenComments",value:function(){var e=document.querySelectorAll(".comment:not(.hidden)");Array.from(e).forEach(function(e){e.getElementsByClassName("close")[0].click()})}}]),a}(),h=function(t){function a(){return e(this,a),c(this,o(a).call(this))}return n(a,v),i(a,[{key:"slides",value:function(){for(var e=0;e<this.$slides.length;e+=1)if(this.$slides[e].setAttribute("data-slide-index",e),0===e){u(this.$slides[e],"active-slide visited-slide");var t="#".concat(this.$slides[e].id);window.history.replaceState?window.history.replaceState(null,null,t):window.location.hash=t}else u(this.$slides[e],"next-slide");return this}},{key:"pagination",value:function(){var e=this.$slides.length;Array.from(this.$slides).forEach(function(t,i){var n=t.querySelector(".zadani"),o=n.querySelector("h1"),a=document.createElement("div");a.classList.add("pagination"),a.innerHTML="".concat(i+1,"/").concat(e),n.insertBefore(a,o)})}}]),a}();var g,p=(g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==g?void 0:g[e]}),y="object"==typeof global&&global&&global.Object===Object&&global,b="object"==typeof self&&self&&self.Object===Object&&self,m=(y||b||Function("return this")()).Symbol;var S=Array.isArray,k=Object.prototype,w=k.hasOwnProperty,A=k.toString,E=m?m.toStringTag:void 0;var $=Object.prototype.toString;var L="[object Null]",N="[object Undefined]",O=m?m.toStringTag:void 0;function x(e){return null==e?void 0===e?N:L:O&&O in Object(e)?function(e){var t=w.call(e,E),i=e[E];try{e[E]=void 0}catch(e){}var n=A.call(e);return t?e[E]=i:delete e[E],n}(e):function(e){return $.call(e)}(e)}var T="[object Symbol]";var _=1/0,j=m?m.prototype:void 0,q=j?j.toString:void 0;function P(e){if("string"==typeof e)return e;if(S(e))return function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}(e,P)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&x(e)==T}(e))return q?q.call(e):"";var t=e+"";return"0"==t&&1/e==-_?"-0":t}var U=/[&<>"']/g,H=RegExp(U.source);function C(e){var t;return(e=null==(t=e)?"":P(t))&&H.test(e)?e.replace(U,p):e}var D=function(t){function a(){var t;return e(this,a),(t=c(this,o(a).call(this)))._clickListener=t._clickListener.bind(r(r(t))),t}return n(a,v),i(a,[{key:"checkForUserData",value:function(e){return e.length<19?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"data",get:function(){var e={};e.cviceni=this.$cviceni.getAttribute("id"),e.version=this.$cviceni.getAttribute("data-version");for(var t=document.querySelectorAll("[data-save]"),i=0;i<t.length;i+=1){var n=t[i].getAttribute("id"),o=void 0;e[n]={},e[n].node=t[i].tagName,"TEXTAREA"===t[i].tagName?t[i].hasAttribute("data-textarea-target")||t[i].hasAttribute("data-svg-textarea-target")?(o=t[i].value?C(t[i].value):null,t[i].getAttribute("data-svg-textarea-target")&&(e[n].svg=t[i].getAttribute("data-svg-textarea-target"))):(console.log(n),console.log("Not registered ".concat(t[i].tagName,". Please, add data-attribute."))):"INPUT"===t[i].tagName||"SELECT"===t[i].tagName?"value"===t[i].getAttribute("data-save")?(console.log(t[i].value),o=t[i].value?C(t[i].value):null):(console.log(n),console.log("Not registered ".concat(t[i].tagName,". Please, add data-attribute."))):"svg"===t[i].tagName?t[i].hasAttribute("data-svg-target")?o=a.b64EncodeUnicode(t[i].innerHTML):(console.log(n),console.log("Not registered ".concat(t[i].tagName,". Please, add data-attribute."))):"DIV"===t[i].tagName&&(t[i].hasAttribute("data-sortable-target")?o=a.b64EncodeUnicode(t[i].innerHTML):"analyticka-tabulka"===t[i].getAttribute("data-target")?o=a.b64EncodeUnicode(t[i].innerHTML):"editor"===t[i].getAttribute("data-target")?o=a.b64EncodeUnicode(t[i].innerHTML):"html"===t[i].getAttribute("data-save")?o=a.b64EncodeUnicode(t[i].innerHTML):(console.log(n),console.log("Not registered ".concat(t[i].tagName,". Please, add data-attribute.")))),o?e[n].value=o:console.log("".concat(n,": No data to save."))}return e.platform=platform.description,JSON.stringify(e)},set:function(e){for(var t=JSON.parse(e),i=0;i<2;i+=1)for(var n=0;n<Object.keys(t).length;n+=1){var o=Object.keys(t)[n];if("cviceni"!==o&&"version"!==o&&"platform"!==o){var r=t[o].value;0===i?"svg"===t[o].node?document.getElementById(o).innerHTML=a.b64DecodeUnicode(r):"DIV"===t[o].node&&(document.getElementById(o).innerHTML=a.b64DecodeUnicode(r)):1===i&&("TEXTAREA"!==t[o].node&&"INPUT"!==t[o].node&&"SELECT"!==t[o].node||(document.getElementById(o).value=r||" "))}}}}],[{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x".concat(t))}))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}).join(""))}}]),a}();document.addEventListener("DOMContentLoaded",function(){console.log("domLoad:cviceni");var e=new v,t=new f,i=new h;userData=new D,t.loopNavButtons(),i.slides(),userData.checkForUserData(dataKZobrazeni).loopSaveButtons(),e.header()},!1),window.addEventListener("load",function(){console.log("windowLoad:cviceni"),v.loadingScreen()},!1)}();
//# sourceMappingURL=app.build.js.map
