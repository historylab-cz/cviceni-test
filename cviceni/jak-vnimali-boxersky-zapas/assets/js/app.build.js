!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function f(e){return function(){var t,n=c(e);if(l()){var i=c(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return d(this,t)}}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t,n,i){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={bubbles:!0},r=Object.assign(i,t);return new CustomEvent(e,o({detail:n},r))}(t,n,i);e.dispatchEvent(r)}function h(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):"".concat(e.className," ").indexOf("".concat(t," "))>-1)}function m(e,t){var n=e,i=t;if(n&&i)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof i){i=i.split(" ");for(var r=0;r<n.length;r+=1){var o;if(n[r].classList)(o=n[r].classList).add.apply(o,v(i));else if(!h.apply(void 0,[n[r]].concat(v(i))))for(var a=0;a<i.length;a+=1)n[r].classes+=" ".concat(i[a])}}else console.log("Class argument must be string with spaces in between class names.")}function b(e,t){var n=e,i=t;if(n&&i)if("string"==typeof n?n=document.querySelectorAll(n):n.tagName&&(n=[n]),"string"==typeof i){i=i.split(" ");for(var r=0;r<n.length;r+=1){var o;if(n[r].classList)(o=n[r].classList).remove.apply(o,v(i));else for(var a=0;a<i.length;a+=1)n[r].className=n[r].className.replace(new RegExp("\\b".concat(t[a],"\\b"),"g"),"")}}else console.log("Class argument must be string with spaces in between class names.")}var g=function(){function t(){e(this,t),this.$cviceni=document.querySelector(".cviceni"),this.$header=document.querySelector("#header"),this.$saveButtons=document.querySelectorAll("[data-save-button]"),this.$buttonFeedbacks=document.querySelectorAll("[data-feedback-button]"),this.nav={$prev:this.$cviceni.querySelectorAll('[data-nav-button="prev"]'),$next:this.$cviceni.querySelectorAll('[data-nav-button="next"]')},this.$slides=this.$cviceni.querySelectorAll(".slide"),this.$activeSlide=this.$cviceni.querySelector(".active-slide"),this.$formSlide=this.$cviceni.querySelector("#slide-form"),this.$exportSlide=this.$cviceni.querySelector("#slide-export"),this.import=HISTORYLAB.import,this.isDone=!0===this.import.done,this.analytics={time:{start:{date:0,time:0},end:{date:0,time:0},timeSpent:0},activity:{length:0,steps:[]}}}return n(t,[{key:"header",value:function(){for(var e=this,t=this.$header.offsetHeight,n=0,i=function(i,r){(o=r.scrollTop)>t&&o>n?(m(e.$header,"is-hidden"),n=o):(o<n-200||o<=t)&&(b(e.$header,"is-hidden"),n=o)},r=0;r<this.$slides.length;r+=1)this.$slides[r].removeEventListener("scroll",i);this.$activeSlide=this.$cviceni.querySelector(".active-slide.slide");var o=this.$activeSlide.scrollTop;o<=t?b(this.$header,"is-hidden"):m(this.$header,"is-hidden"),this.$activeSlide&&this.$activeSlide.addEventListener("scroll",(function(t){return i(0,e.$activeSlide)}))}}],[{key:"loadingScreen",value:function(){var e=document.querySelector(".loading"),t=document.querySelector("#loading-screen"),n=JSON.parse(t.getAttribute("data-loaded")),i=t.querySelector("h1");setTimeout((function(){i.innerText=n.h1}),300),b(e,"loading")}}]),t}(),S="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;
/*!
   * hotkeys-js v3.7.6
   * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
   * 
   * Copyright (c) 2020 kenny wong <wowohoo@qq.com>
   * http://jaywcjlove.github.io/hotkeys
   * 
   * Licensed under the MIT license.
   */function w(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function A(e,t){for(var n=t.slice(0,t.length-1),i=0;i<n.length;i++)n[i]=e[n[i].toLowerCase()];return n}function k(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var O={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":S?173:189,"=":S?61:187,";":S?59:186,"'":222,"[":219,"]":221,"\\":220},E={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},j={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},x={16:!1,18:!1,17:!1,91:!1},$={},L=1;L<20;L++)O["f".concat(L)]=111+L;var T=[],q="all",P=[],I=function(e){return O[e.toLowerCase()]||E[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function M(e){q=e||"all"}function B(){return q||"all"}var D=function(e){var t=e.key,n=e.scope,i=e.method,r=e.splitKey,o=void 0===r?"+":r;k(t).forEach((function(e){var t=e.split(o),r=t.length,a=t[r-1],c="*"===a?"*":I(a);if($[c]){n||(n=B());var s=r>1?A(E,t):[];$[c]=$[c].map((function(e){return(!i||e.method===i)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,i=e.length>=t.length?t:e,r=!0,o=0;o<n.length;o++)-1===i.indexOf(n[o])&&(r=!1);return r}(e.mods,s)?{}:e}))}}))};function R(e,t,n){var i;if(t.scope===n||"all"===t.scope){for(var r in i=t.mods.length>0,x)Object.prototype.hasOwnProperty.call(x,r)&&(!x[r]&&t.mods.indexOf(+r)>-1||x[r]&&-1===t.mods.indexOf(+r))&&(i=!1);(0!==t.mods.length||x[16]||x[18]||x[17]||x[91])&&!i&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function C(e){var t=$["*"],n=e.keyCode||e.which||e.charCode;if(H.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===T.indexOf(n)&&229!==n&&T.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=j[t];e[t]&&-1===T.indexOf(n)?T.push(n):!e[t]&&T.indexOf(n)>-1&&T.splice(T.indexOf(n),1)})),n in x){for(var i in x[n]=!0,E)E[i]===n&&(H[i]=!0);if(!t)return}for(var r in x)Object.prototype.hasOwnProperty.call(x,r)&&(x[r]=e[j[r]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===T.indexOf(17)&&T.push(17),-1===T.indexOf(18)&&T.push(18),x[17]=!0,x[18]=!0);var o=B();if(t)for(var a=0;a<t.length;a++)t[a].scope===o&&("keydown"===e.type&&t[a].keydown||"keyup"===e.type&&t[a].keyup)&&R(e,t[a],o);if(n in $)for(var c=0;c<$[n].length;c++)if(("keydown"===e.type&&$[n][c].keydown||"keyup"===e.type&&$[n][c].keyup)&&$[n][c].key){for(var s=$[n][c],l=s.splitKey,u=s.key.split(l),d=[],f=0;f<u.length;f++)d.push(I(u[f]));d.sort().join("")===T.sort().join("")&&R(e,s,o)}}}function H(e,t,n){T=[];var i=k(e),r=[],o="all",a=document,c=0,s=!1,l=!0,u="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(l=t.keydown),"string"==typeof t.splitKey&&(u=t.splitKey)),"string"==typeof t&&(o=t);c<i.length;c++)r=[],(e=i[c].split(u)).length>1&&(r=A(E,e)),(e="*"===(e=e[e.length-1])?"*":I(e))in $||($[e]=[]),$[e].push({keyup:s,keydown:l,scope:o,mods:r,shortcut:i[c],method:n,key:i[c],splitKey:u});void 0!==a&&!function(e){return P.indexOf(e)>-1}(a)&&window&&(P.push(a),w(a,"keydown",(function(e){C(e)})),w(window,"focus",(function(){T=[]})),w(a,"keyup",(function(e){C(e),function(e){var t=e.keyCode||e.which||e.charCode,n=T.indexOf(t);if(n>=0&&T.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&T.splice(0,T.length),93!==t&&224!==t||(t=91),t in x)for(var i in x[t]=!1,E)E[i]===t&&(H[i]=!1)}(e)})))}var _={setScope:M,getScope:B,deleteScope:function(e,t){var n,i;for(var r in e||(e=B()),$)if(Object.prototype.hasOwnProperty.call($,r))for(n=$[r],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++;B()===e&&M(t||"all")},getPressedKeyCodes:function(){return T.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=I(e)),-1!==T.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,i=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n||t.readOnly)||(i=!1),i},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&D(e)}));else if("object"==typeof e)e.key&&D(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n[0],o=n[1];"function"==typeof r&&(o=r,r=""),D({key:e,scope:r,method:o,splitKey:"+"})}}else Object.keys($).forEach((function(e){return delete $[e]}))}};for(var N in _)Object.prototype.hasOwnProperty.call(_,N)&&(H[N]=_[N]);if("undefined"!=typeof window){var F=window.hotkeys;H.noConflict=function(e){return e&&window.hotkeys===H&&(window.hotkeys=F),H},window.hotkeys=H}var U=function(t){a(r,t);var i=f(r);function r(){var t;return e(this,r),(t=i.call(this))._clickPrev=t._clickPrev.bind(u(t)),t._clickNext=t._clickNext.bind(u(t)),document.querySelectorAll("div").forEach((function(e){e.setAttribute("tabindex",-1),e.style.outline="0"})),window.onpopstate=function(e){t.analytics=HISTORYLAB.analytics.data;var n=t.$cviceni.querySelector(".active-slide"),i=n.getAttribute("data-slide-index"),o=t.$cviceni.querySelector(window.location.hash),a=o.getAttribute("data-slide-index");if(o&&h(o,"visited-slide")&&o.id!==n.id)b(n,"active-slide"),r.enableTabControlOnActiveSlide(o,n),t.analytics.activity.length+=1,t.analytics.activity.steps[t.analytics.activity.length]={slide:parseInt(a,10),time:Math.round(performance.now())-t.analytics.time.start.time,date:Date.now(),interaction:{type:e.type}},i>a?(t.analytics.activity.steps[t.analytics.activity.length].type="P",t.analytics.activity.steps[t.analytics.activity.length].interaction.name="back",m(n,"next-slide"),b(o,"previous-slide"),h(o,"previous-to-active-slide")&&b(o,"previous-to-active-slide"),h(o.previousElementSibling,"half-slide-previous")&&m(o.previousElementSibling,"previous-to-active-slide")):(t.analytics.activity.steps[t.analytics.activity.length].type="D",t.analytics.activity.steps[t.analytics.activity.length].interaction.name="forward",m(n,"previous-slide"),b(o,"next-slide"),h(n,"half-slide-previous")&&m(n,"previous-to-active-slide"),h(n.previousElementSibling,"previous-to-active-slide")&&b(n.previousElementSibling,"previous-to-active-slide")),m(o,"active-slide"),p(t.$cviceni,"slide.change",{},{slide:{active:t.getActiveSlide(o)}});else if(!h(o,"visited-slide")){var c="#".concat(n.id);window.history.replaceState?window.history.replaceState(null,null,c):window.location.hash=c}HISTORYLAB.analytics.data=t.analytics},t}return n(r,[{key:"getActiveSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||this.$cviceni.querySelector(".active-slide");return{element:t,id:t.id,index:parseInt(t.getAttribute("data-slide-index"),10)}}},{key:"loopNavButtons",value:function(){var e=this;this.nav.$prev.forEach((function(t){t.addEventListener("click",e._clickPrev,!1)})),this.nav.$next.forEach((function(t){t.addEventListener("click",e._clickNext,!1)})),H("left, shift+space, shift+enter",(function(t){e._clickPrev(t)})),H("right, space, enter",(function(t){e._clickNext(t)})),this.buttonFeedbackOnHover()}},{key:"_both",value:function(){this.header(),r.hideAllOpenComments()}},{key:"_clickPrev",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=t.previousElementSibling,i=this.$cviceni.querySelector(".previous-to-active-slide");if(h(n,"slide")){b(t,"active-slide"),m(t,"next-slide"),b(n,"previous-slide"),m(n,"active-slide"),r.enableTabControlOnActiveSlide(n,t),i&&b(i,"previous-to-active-slide"),n.previousElementSibling&&m(n.previousElementSibling,"previous-to-active-slide"),p(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(n)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"P",slide:parseInt(n.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var o={type:e.type};switch(e.type){case"click":o.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":o.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=o,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory()}else;e.preventDefault()}},{key:"_clickNext",value:function(e){var t=this.$cviceni.querySelector(".active-slide"),n=this.$cviceni.querySelector(".previous-to-active-slide"),i=t.nextElementSibling;if(h(i,"slide")){b(t,"active-slide"),m(t,"previous-slide previous-to-active-slide"),b(i,"next-slide"),m(i,"active-slide visited-slide"),r.enableTabControlOnActiveSlide(i,t),n&&b(n,"previous-to-active-slide"),p(this.$cviceni,"slide.change",{},{slide:{active:this.getActiveSlide(i)}}),this.analytics=HISTORYLAB.analytics.data,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"D",slide:parseInt(i.getAttribute("data-slide-index"),10),time:Math.round(performance.now())-this.analytics.time.start.time,date:Date.now()};var o={type:e.type};switch(e.type){case"click":o.name=e.currentTarget.getAttribute("data-feedback-button")?"feedback":"navigation";break;case"keydown":o.name=e.code}this.analytics.activity.steps[this.analytics.activity.length].interaction=o,HISTORYLAB.analytics.data=this.analytics,this._both(),this._saveActiveSlideToHistory()}else;e.preventDefault()}},{key:"buttonFeedbackOnHover",value:function(){this.$buttonFeedbacks.forEach((function(e){var t=e.querySelector("span"),n=JSON.parse(e.getAttribute("data-feedback-button")),i="";e.addEventListener("mouseenter",(function(r){i=t.innerText;var o=e.offsetWidth;i!==n&&(t.innerText=n.hover,o>e.offsetWidth&&(e.style.width="".concat(o,"px")))})),e.addEventListener("mouseleave",(function(r){i!==n&&(e.style.width="",t.innerText=i)}))}))}},{key:"_saveActiveSlideToHistory",value:function(){var e="#".concat(this.$cviceni.querySelector(".active-slide").id);window.history.pushState?window.history.pushState(null,null,e):window.location.hash=e}}],[{key:"enableTabControlOnActiveSlide",value:function(e,t){var n=e.querySelectorAll("textarea");t.querySelectorAll("textarea").forEach((function(e){e.setAttribute("tabindex",-1)})),n.forEach((function(e){e.setAttribute("tabindex",0)}))}},{key:"hideAllOpenComments",value:function(){document.querySelectorAll(".comment:not(.hidden)").forEach((function(e){e.querySelector(".close").click()}))}}]),r}(g),Y=function(t){a(r,t);var i=f(r);function r(){return e(this,r),i.call(this)}return n(r,[{key:"slides",value:function(){for(var e=0;e<this.$slides.length;e+=1)if(this.$slides[e].setAttribute("data-slide-index",e),0===e){var t="#".concat(this.$slides[e].id);window.history.replaceState?window.history.replaceState(null,null,t):window.location.hash=t}else m(this.$slides[e],"next-slide");return this}},{key:"pagination",value:function(){var e=this.$slides.length;this.$slides.forEach((function(t,n){var i=t.querySelector(".zadani"),r=i.querySelector("h1"),o=document.createElement("div");o.classList.add("pagination"),o.innerHTML="".concat(n+1,"/").concat(e),i.insertBefore(o,r)}))}}]),r}(g);function K(e){return function(t){return null==e?void 0:e[t]}}var V=K({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),W="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,G=W||z||Function("return this")(),J=G.Symbol;var X=Array.isArray,Q=Object.prototype,Z=Q.hasOwnProperty,ee=Q.toString,te=J?J.toStringTag:void 0;var ne=Object.prototype.toString;var ie=J?J.toStringTag:void 0;function re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ie&&ie in Object(e)?function(e){var t=Z.call(e,te),n=e[te];try{e[te]=void 0;var i=!0}catch(e){}var r=ee.call(e);return i&&(t?e[te]=n:delete e[te]),r}(e):function(e){return ne.call(e)}(e)}function oe(e){return null!=e&&"object"==typeof e}var ae=J?J.prototype:void 0,ce=ae?ae.toString:void 0;function se(e){if("string"==typeof e)return e;if(X(e))return function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}(e,se)+"";if(function(e){return"symbol"==typeof e||oe(e)&&"[object Symbol]"==re(e)}(e))return ce?ce.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function le(e){return null==e?"":se(e)}var ue=/[&<>"']/g,de=RegExp(ue.source);function fe(e){return(e=le(e))&&de.test(e)?e.replace(ue,V):e}var ve=K({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ye=/&(?:amp|lt|gt|quot|#39);/g,pe=RegExp(ye.source);function he(e){return(e=le(e))&&pe.test(e)?e.replace(ye,ve):e}var me=Object.prototype;function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||me)}var ge,Se,we=(ge=Object.keys,Se=Object,function(e){return ge(Se(e))}),Ae=Object.prototype.hasOwnProperty;function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){if(!ke(e))return!1;var t=re(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Ee,je=G["__core-js_shared__"],xe=(Ee=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+Ee:"";var $e=Function.prototype.toString;function Le(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Te=/^\[object .+?Constructor\]$/,qe=Function.prototype,Pe=Object.prototype,Ie=qe.toString,Me=Pe.hasOwnProperty,Be=RegExp("^"+Ie.call(Me).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function De(e){return!(!ke(e)||function(e){return!!xe&&xe in e}(e))&&(Oe(e)?Be:Te).test(Le(e))}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}var Ce=Re(G,"DataView"),He=Re(G,"Map"),_e=Re(G,"Promise"),Ne=Re(G,"Set"),Fe=Re(G,"WeakMap"),Ue=Le(Ce),Ye=Le(He),Ke=Le(_e),Ve=Le(Ne),We=Le(Fe),ze=re;(Ce&&"[object DataView]"!=ze(new Ce(new ArrayBuffer(1)))||He&&"[object Map]"!=ze(new He)||_e&&"[object Promise]"!=ze(_e.resolve())||Ne&&"[object Set]"!=ze(new Ne)||Fe&&"[object WeakMap]"!=ze(new Fe))&&(ze=function(e){var t=re(e),n="[object Object]"==t?e.constructor:void 0,i=n?Le(n):"";if(i)switch(i){case Ue:return"[object DataView]";case Ye:return"[object Map]";case Ke:return"[object Promise]";case Ve:return"[object Set]";case We:return"[object WeakMap]"}return t});var Ge=ze;function Je(e){return oe(e)&&"[object Arguments]"==re(e)}var Xe=Object.prototype,Qe=Xe.hasOwnProperty,Ze=Xe.propertyIsEnumerable,et=Je(function(){return arguments}())?Je:function(e){return oe(e)&&Qe.call(e,"callee")&&!Ze.call(e,"callee")};function tt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var nt="object"==typeof exports&&exports&&!exports.nodeType&&exports,it=nt&&"object"==typeof module&&module&&!module.nodeType&&module,rt=it&&it.exports===nt?G.Buffer:void 0,ot=(rt?rt.isBuffer:void 0)||function(){return!1},at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;var ct="object"==typeof exports&&exports&&!exports.nodeType&&exports,st=ct&&"object"==typeof module&&module&&!module.nodeType&&module,lt=st&&st.exports===ct&&W.process,ut=function(){try{var e=st&&st.require&&st.require("util").types;return e||lt&&lt.binding&&lt.binding("util")}catch(e){}}(),dt=ut&&ut.isTypedArray,ft=dt?function(e){return function(t){return e(t)}}(dt):function(e){return oe(e)&&tt(e.length)&&!!at[re(e)]},vt=Object.prototype.hasOwnProperty;function yt(e){if(null==e)return!0;if(function(e){return null!=e&&tt(e.length)&&!Oe(e)}(e)&&(X(e)||"string"==typeof e||"function"==typeof e.splice||ot(e)||ft(e)||et(e)))return!e.length;var t=Ge(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(be(e))return!function(e){if(!be(e))return we(e);var t=[];for(var n in Object(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e).length;for(var n in e)if(vt.call(e,n))return!1;return!0}var pt=function(t){a(r,t);var i=f(r);function r(){var t;return e(this,r),(t=i.call(this)).$formExport=t.$exportSlide.querySelector("#form-to-send"),t._clickListener=t._clickListener.bind(u(t)),t.beforeSendForm=t.beforeSendForm.bind(u(t)),t}return n(r,[{key:"init",value:function(){switch(this.isDone){case!0:document.documentElement.classList.add("is-done"),document.documentElement.setAttribute("data-state","done"),document.querySelectorAll(".show-when-done").forEach((function(e){e.classList.remove("hidden")})),document.querySelectorAll(".hide-when-done").forEach((function(e){e.classList.add("hidden")}));break;case!1:this.addEventListeners()}}},{key:"addEventListeners",value:function(){this.loopSaveButtons(),this.$exportSlide.querySelector('button[type="submit"]').addEventListener("click",this.beforeSendForm)}},{key:"beforeSendForm",value:function(e){this.analytics=HISTORYLAB.analytics.data,this.analytics.time.end={time:Math.round(performance.now()),date:Date.now()},this.analytics.time.timeSpent=HISTORYLAB.analytics.timeSpent,this.analytics.activity.length+=1,this.analytics.activity.steps[this.analytics.activity.length]={type:"K",time:this.analytics.time.end.time,date:Date.now()},HISTORYLAB.analytics.data=this.analytics,document.getElementById("odpoved_id").value=this.data}},{key:"checkForData",value:function(e){return yt(e)?console.log("nemáme uživatelská data"):(console.log("máme uživatelská data"),this.data=e.user.data),this}},{key:"loopSaveButtons",value:function(){for(var e=0;e<this.$saveButtons.length;e+=1)this.$saveButtons[e].addEventListener("click",this._clickListener,!1)}},{key:"_clickListener",value:function(){}},{key:"getExerciseMode",value:function(){var e=this.$formSlide.querySelector('input[name="exercise-mode"]:checked');return HISTORYLAB.import.hasOwnProperty("exerciseMode")?HISTORYLAB.import.exerciseMode:e?parseInt(e.value,10):-1}},{key:"data",get:function(){var e={};e.entryId=HISTORYLAB.import.entryid||0,e.lmsHash=HISTORYLAB.import.lmsHash||"0",e.exercise={id:parseInt(this.$cviceni.getAttribute("data-exercise-id"),10),slug:this.$cviceni.getAttribute("id"),name:document.querySelector("#header .title").innerText||"",version:{global:document.documentElement.getAttribute("data-version-global"),content:parseInt(document.documentElement.getAttribute("data-version-content"),10)},mode:this.getExerciseMode()},e.user={form:{name:HISTORYLAB.import.name||this.$formSlide.querySelector("#user-name").value,email:HISTORYLAB.import.user||this.$formSlide.querySelector("#user-email").value,institution:HISTORYLAB.import.institution||this.$formSlide.querySelector("#user-institution").value,teacher:HISTORYLAB.import.teacher||this.$formSlide.querySelector("#teacher-email").value,group:{members:1===e.exercise.mode?Array.from(this.$formSlide.querySelectorAll("#form-group-members input")).map((function(e){return e.value})):[]}},analytics:HISTORYLAB.analytics.data||{},data:[]};var t=document.querySelectorAll("[data-save]");return e.user.data=Array.from(t).map((function(e){var t={id:"",node:"",value:""};if(t.id=e.getAttribute("id"),t.node=e.tagName,"TEXTAREA"===t.node)e.hasAttribute("data-textarea-target")||e.hasAttribute("data-svg-textarea-target")?(e.value?t.value=fe(e.value):t.value=null,e.getAttribute("data-svg-textarea-target")&&(t.svg=e.getAttribute("data-svg-textarea-target"))):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("INPUT"===t.node)"value"===e.getAttribute("data-save")?e.value?t.value=fe(e.value):t.value=null:(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute.")));else if("SELECT"===t.node)if("value"===e.getAttribute("data-save"))if(e.value){t.value=e.value;for(var n=0;n<e.options.length;n+=1)if(e.options[n].innerHTML===e.value){t.selectedIndex=n;break}}else t.value=null;else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else if("svg"===t.node)if(e.hasAttribute("data-svg-target")){t.value=r.b64EncodeUnicode(e.innerHTML);var i=e.querySelectorAll("[data-svg-path]").length,o=e.querySelectorAll("[data-svg-textarea-target]").length,a=e.querySelectorAll("[data-svg-circle]").length;t.analytics={comments:o>0&&o,paths:i>0&&i,points:a>0&&a}}else console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."));else"TABLE"===t.node||"TBODY"===t.node?"html"===e.getAttribute("data-save")&&(t.value=r.b64EncodeUnicode(e.innerHTML)):"DIV"===t.node&&(e.hasAttribute("data-sortable-target")||"analyticka-tabulka"===e.getAttribute("data-target")||"editor"===e.getAttribute("data-target")||"html"===e.getAttribute("data-save")?t.value=r.b64EncodeUnicode(e.innerHTML):(console.log(t.id),console.log("Not registered ".concat(t.node,". Please, add data-attribute."))));return t})),e.user.analytics.client=platform.description,e.done=!0,JSON.stringify(e)},set:function(e){for(var t=0;t<2;t+=1)r.renderUserData(e,t)}}],[{key:"renderUserData",value:function(e,t){e.forEach((function(e){var n=document.getElementById(e.id);if(n)switch(t){case 0:switch(e.node){case"svg":case"DIV":case"TABLE":case"TBODY":n.innerHTML=r.b64DecodeUnicode(e.value)}break;case 1:switch(e.node){case"INPUT":n.value=he(e.value||" "),n.readOnly=!0;break;case"SELECT":n.selectedIndex=e.selectedIndex||0,n.value=e.value||" ",n.disabled=!0;break;case"TEXTAREA":n.value=he(e.value||" "),n.readOnly=!0}}else console.error(e.id,"No element with the id exists!")}))}},{key:"b64EncodeUnicode",value:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))})))}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""))}}]),r}(g),ht=function(t){a(r,t);var i=f(r);function r(){var t;return e(this,r),(t=i.call(this)).init(),t}return n(r,[{key:"init",value:function(){this.analytics.time.start={time:Math.round(performance.now()),date:Date.now()},this.analytics.activity.steps[this.analytics.activity.length]={type:"S",time:this.analytics.time.start.time,date:Date.now()}}},{key:"data",get:function(){return this.analytics},set:function(e){this.analytics=e}},{key:"timeSpent",get:function(){return this.analytics.time.end.time-this.analytics.time.start.time}}]),r}(g),mt=function(t){a(r,t);var i=f(r);function r(){var t;return e(this,r),(t=i.call(this)).$form=t.$formSlide.querySelector("#form"),t.$userEmail=t.$form.querySelector("#user-email"),t.$groupMembers=t.$form.querySelector("#form-group-members"),t.$modes=t.$form.querySelectorAll("[data-exercise-mode]"),t.$button=t.$formSlide.querySelector('[data-nav-button="next"]'),t.$showUserEmail=document.querySelectorAll('[data-form="about-user-email"]'),t.$formExport=t.$exportSlide.querySelector("#form-to-send"),t.isFromLMS="string"==typeof t.import.lmsHash&&t.import.lmsHash.length>0,t.groupMembers=1,t.urlParams=null,t}return n(r,[{key:"init",value:function(){switch(this.urlParams=new URL(document.location).searchParams,this.$button.classList.remove("button-hidden"),this.isDone){case!0:this.whenDone();break;case!1:this.urlParams.get("email")&&(this.$userEmail.value=this.urlParams.get("email"),this.$userEmail.readOnly=!0,this.$userEmail.classList.add("is-readonly")),this.addEventListenersToExerciseModeRadioButtons(),this.addGroupMemberField(),this.isFromLMS&&this.whenFromLMS()}}},{key:"whenFromLMS",value:function(){this.$formSlide.querySelectorAll(".hide-when-from-lms").forEach((function(e){e.classList.add("hidden")})),1===this.import.exerciseMode&&(this.$form.classList.remove("hidden"),this.$groupMembers.classList.remove("hidden"))}},{key:"getAnonymizedEmail",value:function(){var e=this.import.user.match(/(.{1})([^@]*)(.{2})([^.]*)(.*)/);return e[1]+e[2].replace(/./g,"*")+e[3]+e[4].replace(/./g,"*")+e[5]}},{key:"whenDone",value:function(){var e=this;this.$showUserEmail.forEach((function(t){e.urlParams.get("anon")&&e.import.user&&(e.import.user=e.getAnonymizedEmail()),t.innerText+=" ".concat(e.import.user||"neznámý uživatel")})),this.$button.innerText=this.$button.getAttribute("data-done"),this.$form.classList.add("hidden"),this.$formExport.setAttribute("action",""),this.$formExport.classList.add("hidden")}},{key:"addEventListenersToExerciseModeRadioButtons",value:function(){var e=this;this.$modes.forEach((function(t){t.addEventListener("change",(function(){"1"===t.value?e.$groupMembers.classList.remove("hidden"):e.$groupMembers.classList.add("hidden")}))}))}},{key:"addGroupMemberField",value:function(){var e=this,t=this.$groupMembers.querySelector('[data-form="group-member-add"]'),n=this.$groupMembers.querySelector('[data-form="group-member-master"]'),i=t.parentElement;t.addEventListener("click",(function(r){var o=n.cloneNode();o.value="",o.id=o.id.replace("1",e.groupMembers+=1),o.removeAttribute("data-form"),i.insertBefore(o,t),o.focus({preventScroll:!1}),r.preventDefault()}))}}]),r}(g);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n+=1)e.call(t,this[n],n,this)});var bt=function(){console.log("domLoad:cviceni");var e=document.documentElement;HISTORYLAB.analytics=new ht;var t=new g,n=new U,i=new Y,r=new pt,o=new mt;n.loopNavButtons(),i.slides(),r.checkForData(HISTORYLAB.import.exerciseData||{}).init(),t.header(),o.init(),function(e){var t,n=(e=e||{}).callback||function(){},i=e.activeCallback||function(){},r=e.idleTime||6e4,o=!0;function a(){o&&(o=!1,n())}function c(){o||(o=!0,i()),clearTimeout(t),t=setTimeout(a,r)}function s(e){window[e]("load",c),document[e]("mousemove",c),document[e]("scroll",c),document[e]("keypress",c),document[e]("click",c)}s("addEventListener"),c()}({callback:function(){return e.classList.add("is-idle")},activeCallback:function(){return e.classList.remove("is-idle")},idleTime:3e3})},gt=function(){document.querySelector("main.cviceni").id};!function(){if(function(){if(!Array.from||!Element.prototype.matches||!Element.prototype.closest||"function"!=typeof window.CustomEvent||"function"!=typeof Object.assign){console.warn("Not supported browser.");var e=document.querySelector("#unsupported");return e.querySelector("#unsupported-browser").innerHTML=" ".concat(platform.name," ").concat(platform.version," "),e.classList.remove("is-hidden"),!0}return!1}())return!1;document.addEventListener("DOMContentLoaded",bt,!1),document.addEventListener("DOMContentLoaded",gt,!1)}(),window.addEventListener("load",(function(){console.log("windowLoad:cviceni"),g.loadingScreen()}),!1)}();
//# sourceMappingURL=app.build.js.map
