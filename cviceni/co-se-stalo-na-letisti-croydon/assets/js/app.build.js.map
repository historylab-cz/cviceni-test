{"version":3,"file":"app.build.js","sources":["../../../../src/js/lib/utils.js","../../../../src/js/cviceni/cviceni.js","../../../../node_modules/hotkeys-js/dist/hotkeys.esm.js","../../../../src/js/cviceni/navigation.js","../../../../src/js/cviceni/slides.js","../../../../node_modules/lodash-es/_basePropertyOf.js","../../../../node_modules/lodash-es/_escapeHtmlChar.js","../../../../node_modules/lodash-es/_freeGlobal.js","../../../../node_modules/lodash-es/_root.js","../../../../node_modules/lodash-es/_Symbol.js","../../../../node_modules/lodash-es/isArray.js","../../../../node_modules/lodash-es/_getRawTag.js","../../../../node_modules/lodash-es/_objectToString.js","../../../../node_modules/lodash-es/_baseGetTag.js","../../../../node_modules/lodash-es/isObjectLike.js","../../../../node_modules/lodash-es/_baseToString.js","../../../../node_modules/lodash-es/_arrayMap.js","../../../../node_modules/lodash-es/isSymbol.js","../../../../node_modules/lodash-es/toString.js","../../../../node_modules/lodash-es/escape.js","../../../../node_modules/lodash-es/_unescapeHtmlChar.js","../../../../node_modules/lodash-es/unescape.js","../../../../node_modules/lodash-es/_isPrototype.js","../../../../node_modules/lodash-es/_nativeKeys.js","../../../../node_modules/lodash-es/_overArg.js","../../../../node_modules/lodash-es/_baseKeys.js","../../../../node_modules/lodash-es/isObject.js","../../../../node_modules/lodash-es/isFunction.js","../../../../node_modules/lodash-es/_coreJsData.js","../../../../node_modules/lodash-es/_isMasked.js","../../../../node_modules/lodash-es/_toSource.js","../../../../node_modules/lodash-es/_baseIsNative.js","../../../../node_modules/lodash-es/_getNative.js","../../../../node_modules/lodash-es/_getValue.js","../../../../node_modules/lodash-es/_DataView.js","../../../../node_modules/lodash-es/_Map.js","../../../../node_modules/lodash-es/_Promise.js","../../../../node_modules/lodash-es/_Set.js","../../../../node_modules/lodash-es/_WeakMap.js","../../../../node_modules/lodash-es/_getTag.js","../../../../node_modules/lodash-es/_baseIsArguments.js","../../../../node_modules/lodash-es/isArguments.js","../../../../node_modules/lodash-es/isLength.js","../../../../node_modules/lodash-es/isBuffer.js","../../../../node_modules/lodash-es/stubFalse.js","../../../../node_modules/lodash-es/_baseIsTypedArray.js","../../../../node_modules/lodash-es/_nodeUtil.js","../../../../node_modules/lodash-es/isTypedArray.js","../../../../node_modules/lodash-es/_baseUnary.js","../../../../node_modules/lodash-es/isEmpty.js","../../../../node_modules/lodash-es/isArrayLike.js","../../../../src/js/cviceni/save-data.js","../../../../src/js/cviceni/analytics.js","../../../../src/js/cviceni/forms.js","../../../../src/js/controllers/promeny-mesta-zlin/controller.js","../../../../src/js/controllers/promeny-obce-abertamy/controller.js","../../../../src/js/cviceni/app.js","../../../../src/js/cviceni/dom-load.js","../../../../src/js/cviceni/idle-timer.js","../../../../src/js/cviceni/controller-load.js","../../../../src/js/cviceni/window-load.js"],"sourcesContent":["// https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript#3855394\r\nexport function __getQueryStringParams() {\r\n  const parameters = window.location.search.substr(1).split('&');\r\n\r\n  if (parameters === '') {\r\n    return {};\r\n  }\r\n\r\n  const b = {};\r\n\r\n  for (let i = 0; i < parameters.length; i += 1) {\r\n    const p = parameters[i].split('=', 2);\r\n\r\n    if (p.length === 1) {\r\n      b[p[0]] = '';\r\n    } else {\r\n      b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, ' '));\r\n    }\r\n  }\r\n\r\n  return b;\r\n}\r\n\r\nexport function __createNewCustomEvent(name, options = {}, data = null) {\r\n  const defaults = {\r\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events#Event_bubbling\r\n    bubbles: true,\r\n    // cancelBubble\r\n    // stopPropagation()\r\n    // cancelable\r\n    // composed\r\n    // currentTarget\r\n    // defaultPrevented\r\n    // preventDefault()\r\n    // eventPhase\r\n    // returnValue\r\n    // preventDefault()\r\n    // defaultPrevented\r\n    // target\r\n    // timeStamp\r\n    // type\r\n    // isTrusted\r\n  };\r\n\r\n  const properties = Object.assign(defaults, options);\r\n\r\n  return new CustomEvent(name, {\r\n    detail: data,\r\n    ...properties,\r\n  });\r\n}\r\n\r\nexport function __dispatchEvent($element, type, options, payload) {\r\n  const event = __createNewCustomEvent(type, options, payload);\r\n\r\n  $element.dispatchEvent(event);\r\n}\r\n\r\n/* https://plainjs.com/javascript/events/trigger-an-event-11/ */\r\nexport function __triggerEvent(el, type) {\r\n\r\n  if ('createEvent' in document) {\r\n    // modern browsers, IE9+\r\n    const e = new Event(type);\r\n    el.dispatchEvent(e);\r\n  } else {\r\n    // IE 8\r\n    const e = document.createEventObject();\r\n    e.eventType = type;\r\n    el.fireEvent('on'+e.eventType, e);\r\n  }\r\n}\r\n\r\nexport function __keycodeIsPrintableCharacter(keycode) {\r\n\r\n  const valid =\r\n    (keycode > 47 && keycode < 58) || // number keys\r\n    keycode == 32 || keycode == 13 || // spacebar & return key(s) (if you want to allow carriage returns)\r\n    (keycode > 64 && keycode < 91) || // letter keys\r\n    (keycode > 95 && keycode < 112) || // numpad keys\r\n    (keycode > 185 && keycode < 193) || // ;=,-./` (in order)\r\n    (keycode > 218 && keycode < 223); // [\\]' (in order)\r\n  // https://stackoverflow.com/questions/12467240/determine-if-javascript-e-keycode-is-a-printable-non-control-character#answer-12467610\r\n\r\n  return valid;\r\n\r\n}\r\n\r\nexport function __isObject(item) {\r\n  return (item && typeof item === 'object' && !Array.isArray(item));\r\n}\r\n\r\n// https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\r\n// Maybe use lodash ? https://lodash.com/docs/4.17.10#defaultsDeep\r\nexport function __mergeDeep(target, source) {\r\n  const output = Object.assign({}, target);\r\n  if (__isObject(target) && __isObject(source)) {\r\n    Object.keys(source).forEach((key) => {\r\n      if (__isObject(source[key])) {\r\n        if (!(key in target)) {\r\n          Object.assign(output, { [key]: source[key] });\r\n        } else {\r\n          output[key] = __mergeDeep(target[key], source[key]);\r\n        }\r\n      } else {\r\n        Object.assign(output, { [key]: source[key] });\r\n      }\r\n    });\r\n  }\r\n  return output;\r\n}\r\n\r\nexport function __isObjectEmpty(object) {\r\n  return !Object.keys(object).length;\r\n}\r\n\r\nexport function __insertBefore(newNode, referenceNode) {\r\n  referenceNode.parentNode.insertBefore(newNode, referenceNode);\r\n}\r\n\r\nexport function __insertAfter(newNode, referenceNode) {\r\n\r\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n\r\n}\r\n\r\nexport function __getRealDimensions(el, translated = true) {\r\n\r\n  const clonedElement = el.cloneNode(true);\r\n\r\n  clonedElement.style.visibility = 'hidden';\r\n  clonedElement.style.display = 'block';\r\n\r\n  __insertAfter(clonedElement, el);\r\n\r\n  const elDimensions = clonedElement.getBoundingClientRect();\r\n  const elPosition = (translated) ? __positionTranslated(clonedElement) : __position(clonedElement);\r\n\r\n\r\n  __remove(clonedElement);\r\n\r\n  return {\r\n    width: elDimensions.width,\r\n    height: elDimensions.height,\r\n    top: elPosition.top,\r\n    left: elPosition.left,\r\n  };\r\n\r\n}\r\n\r\nexport function __remove(el /* :HTMLElement */) {\r\n\r\n  el.parentNode.removeChild(el);\r\n\r\n}\r\n\r\n\r\nexport function __getHTML(node) {\r\n\r\n  if (!node || !node.tagName) { return; }\r\n  if (node.outerHTML) { return node.outerHTML; }\r\n\r\n  // polyfill:\r\n  const wrapper = document.createElement('div');\r\n  wrapper.appendChild(node.cloneNode(true));\r\n  return wrapper.innerHTML;\r\n\r\n}\r\n\r\nexport function __getText(el) {\r\n  return el.innerText || el.textContent;\r\n}\r\n\r\nexport function __globalPosition(event) {\r\n  // d3.event\r\n  // The current event, if any. This is set during the invocation of an event listener, and is reset after the listener terminates. Use this to access standard event fields such as event.timeStamp and methods such as event.preventDefault. While you can use the native event.pageX and event.pageY, it is often more convenient to transform the event position to the local coordinate system of the container that received the event using d3.mouse, d3.touch or d3.touches.\r\n  // If you use Babel, Webpack, or another ES6-to-ES5 bundler, be aware that the value of d3.event changes during an event! An import of d3.event must be a live binding, so you may need to configure the bundler to import from D3’s ES6 modules rather than from the generated UMD bundle; not all bundlers observe jsnext:main. Also beware of conflicts with the window.event global.\r\n  return {\r\n    x: event.pageX,\r\n    y: event.pageY,\r\n  };\r\n}\r\n\r\nexport function __localPosition(container) {\r\n  // d3.mouse\r\n  // Returns the x and y coordinates of the current event relative to the specified container. The container may be an HTML or SVG container element, such as a G element or an SVG element. The coordinates are returned as a two-element array of numbers [x, y].\r\n  // BUG: d3.mouse doesn’t observe CSS transform on Firefox — https://github.com/d3/d3-selection/issues/81\r\n  const pos = d3.mouse(container);\r\n  return {\r\n    x: d3.format('.0f')(pos[0]),\r\n    y: d3.format('.0f')(pos[1]),\r\n  };\r\n}\r\n\r\nexport function __positionTranslated(el) {\r\n\r\n\r\n  const curTransform = new WebKitCSSMatrix(window.getComputedStyle(el).webkitTransform);\r\n\r\n  const body = document.body;\r\n\r\n  const scrollTop = window.pageYOffset || body.scrollTop;\r\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\r\n\r\n  return {\r\n    left: el.offsetLeft + curTransform.m41,\r\n    top: el.offsetTop + curTransform.m42,\r\n  };\r\n\r\n}\r\n\r\nexport function __position(el) {\r\n\r\n  const elAttibutes = el.getBoundingClientRect();\r\n  const body = document.body;\r\n\r\n  const scrollTop = window.pageYOffset || body.scrollTop;\r\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\r\n\r\n  return {\r\n    left: elAttibutes.left + scrollLeft,\r\n    top: elAttibutes.top + scrollTop,\r\n    height: elAttibutes.height,\r\n    width: elAttibutes.width,\r\n  };\r\n}\r\n\r\n// TODO: check for https://github.com/vladocar/nanoJS/\r\nexport function __toggleClass(element, cls) {\r\n  if (__hasClass(element, cls)) {\r\n    __removeClass(element, cls);\r\n  } else {\r\n    __addClass(element, cls);\r\n  }\r\n}\r\n\r\nexport function __hasClass(element, cls) {\r\n  // if there are no elements or classes, we're done\r\n  if (!element || !cls) return false;\r\n  return (element.classList) ? element.classList.contains(cls) : (`${element.className} `).indexOf(`${cls} `) > -1;\r\n}\r\n\r\nexport function __addClass(elements, classes) {\r\n  let _elements = elements;\r\n  let _classes = classes;\r\n\r\n  // if there are no elements or classes, we're done\r\n  if (!_elements || !_classes) { return; }\r\n\r\n  if (typeof (_elements) === 'string') {\r\n    // if we have a selector, get the chosen _elements\r\n    _elements = document.querySelectorAll(_elements);\r\n  } else if (_elements.tagName) {\r\n    // if we have a single DOM element, make it an array to simplify behavior\r\n    _elements = [_elements];\r\n  }\r\n\r\n  if (typeof (_classes) === 'string') {\r\n    // make an array from string _classes\r\n    _classes = _classes.split(' ');\r\n  } else {\r\n    console.log('Class argument must be string with spaces in between class names.');\r\n    return;\r\n  }\r\n\r\n  // add class to all chosen _elements\r\n  for (let i = 0; i < _elements.length; i += 1) {\r\n    // check classList support\r\n    if (_elements[i].classList) {\r\n      _elements[i].classList.add(..._classes);\r\n    } else if (!__hasClass(_elements[i], ..._classes)) {\r\n      for (let j = 0; j < _classes.length; j += 1) {\r\n        _elements[i].classes += ` ${_classes[j]}`;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function __removeClass(elements, classes) {\r\n  let _elements = elements;\r\n  let _classes = classes;\r\n\r\n  // if there are no elements or classes, we're done\r\n  if (!_elements || !_classes) { return; }\r\n\r\n  if (typeof (_elements) === 'string') {\r\n    // if we have a selector, get the chosen _elements\r\n    _elements = document.querySelectorAll(_elements);\r\n  } else if (_elements.tagName) {\r\n    // if we have a single DOM element, make it an array to simplify behavior\r\n    _elements = [_elements];\r\n  }\r\n\r\n  if (typeof (_classes) === 'string') {\r\n    // make an array from string _classes\r\n    _classes = _classes.split(' ');\r\n  } else {\r\n    console.log('Class argument must be string with spaces in between class names.');\r\n    return;\r\n  }\r\n\r\n  // remove class from all chosen _elements\r\n  for (let i = 0; i < _elements.length; i += 1) {\r\n    // check classList support\r\n    if (_elements[i].classList) {\r\n      _elements[i].classList.remove(..._classes);\r\n    } else {\r\n      for (let j = 0; j < _classes.length; j += 1) {\r\n        _elements[i].className = _elements[i].className.replace(new RegExp(`\\\\b${classes[j]}\\\\b`, 'g'), '');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { __addClass, __removeClass } from '../lib/utils';\r\n\r\nexport default class Cviceni {\r\n  constructor() {\r\n    this.$cviceni = document.querySelector('.cviceni');\r\n    this.$header = document.querySelector('#header');\r\n    this.$saveButtons = document.querySelectorAll('[data-save-button]');\r\n    this.$buttonFeedbacks = document.querySelectorAll('[data-feedback-button]');\r\n    this.nav = {\r\n      $prev: Array.from(this.$cviceni.querySelectorAll('[data-nav-button=\"prev\"]')),\r\n      $next: Array.from(this.$cviceni.querySelectorAll('[data-nav-button=\"next\"]')),\r\n    };\r\n    this.$slides = this.$cviceni.querySelectorAll('.slide');\r\n    this.$activeSlide = this.$cviceni.querySelector('.active-slide');\r\n    this.$formSlide = this.$cviceni.querySelector('#slide-form');\r\n    this.$exportSlide = this.$cviceni.querySelector('#slide-export');\r\n\r\n    this.import = HISTORYLAB.import;\r\n    this.isDone = this.import.done === true;\r\n\r\n    this.analytics = {\r\n      time: {\r\n        start: {\r\n          date: 0,\r\n          time: 0,\r\n        },\r\n        end: {\r\n          date: 0,\r\n          time: 0,\r\n        },\r\n        timeSpent: 0,\r\n      },\r\n      activity: {\r\n        length: 0,\r\n        steps: [],\r\n      },\r\n    };\r\n  }\r\n\r\n  header() {\r\n    const headerHeight = this.$header.offsetHeight;\r\n    let y0 = 0;\r\n\r\n    const hideHeader = (event, $item) => {\r\n      y = $item.scrollTop;\r\n\r\n      if (y > headerHeight && y > y0) {\r\n        __addClass(this.$header, 'is-hidden');\r\n        y0 = y;\r\n      } else if (y < (y0 - 200) || y <= headerHeight) {\r\n        __removeClass(this.$header, 'is-hidden');\r\n        y0 = y;\r\n      }\r\n    };\r\n\r\n    for (let i = 0; i < this.$slides.length; i += 1) {\r\n      this.$slides[i].removeEventListener('scroll', hideHeader);\r\n    }\r\n\r\n    this.$activeSlide = this.$cviceni.querySelector('.active-slide.slide');\r\n    let y = this.$activeSlide.scrollTop;\r\n\r\n    if (y <= headerHeight) {\r\n      __removeClass(this.$header, 'is-hidden');\r\n    } else {\r\n      __addClass(this.$header, 'is-hidden');\r\n    }\r\n\r\n    if (this.$activeSlide) {\r\n      this.$activeSlide.addEventListener('scroll', event => hideHeader(event, this.$activeSlide));\r\n    }\r\n  }\r\n\r\n  static loadingScreen() {\r\n    const $body = document.querySelector('.loading');\r\n    const $loadingScreen = document.querySelector('#loading-screen');\r\n    const loaded = JSON.parse($loadingScreen.getAttribute('data-loaded'));\r\n    const $h1 = $loadingScreen.querySelector('h1');\r\n    $h1.innerText = loaded.h1;\r\n    __removeClass($body, 'loading');\r\n  }\r\n}\r\n","/*!\n * hotkeys-js v3.7.3\n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.\n * \n * Copyright (c) 2019 kenny wong <wowohoo@qq.com>\n * http://jaywcjlove.github.io/hotkeys\n * \n * Licensed under the MIT license.\n */\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // 绑定事件\n\nfunction addEvent(object, event, method) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, false);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // 修饰键转换成对应的键码\n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // 处理传的key字符串转换成数组\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // 匹配任何空白字符,包括空格、制表符、换页符等等\n\n  var keys = key.split(','); // 同时设置多个快捷键，以','分割\n\n  var index = keys.lastIndexOf(''); // 快捷键可能包含','，需特殊处理\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // 比较修饰键的数组\n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  \"return\": 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  \"delete\": 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '⇪': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '⇧': 16,\n  shift: 16,\n  // altKey\n  '⌥': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '⌃': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '⌘': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // 记录摁下的绑定键\n\nvar _scope = 'all'; // 默认热键范围\n\nvar elementHasBindEvent = []; // 已绑定事件的节点记录\n// 返回键码\n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n}; // 设置获取当前范围（默认为'所有'）\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // 获取当前范围\n\n\nfunction getScope() {\n  return _scope || 'all';\n} // 获取摁下绑定键的键值\n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n} // 表单控件控件判断 返回 Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // 判断摁下的键是否为某个键，返回true或者false\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // 转换成键码\n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // 循环删除handlers中的所有 scope(范围)\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // 没有指定scope，获取scope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // 如果scope被删除，将scope重置为all\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // 清除修饰键\n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // 从列表中清除按压过的键\n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } // 特殊处理 cmmand 键，在 cmmand 组合快捷键 keyup 只执行一次的问题\n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } // 修饰键 shiftKey altKey ctrlKey (command||metaKey) 清除\n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // 将修饰键重置为false\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (!keysInfo) {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (_typeof(keysInfo) === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // 解除绑定某个范围的快捷键\n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // 判断是否传入范围，没有就获取范围\n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].map(function (record) {\n      // 通过函数判断，是否解除绑定，函数相等直接返回\n      var isMatchingMethod = method ? record.method === method : true;\n\n      if (isMatchingMethod && record.scope === scope && compareArray(record.mods, mods)) {\n        return {};\n      }\n\n      return record;\n    });\n  });\n}; // 对监听对应快捷键的回调函数进行处理\n\n\nfunction eventHandler(event, handler, scope) {\n  var modifiersMatch; // 看它是否在当前范围\n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // 检查是否匹配修饰符（如果有返回true）\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // 调用处理程序，如果是修饰键不做处理\n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // 处理keydown事件\n\n\nfunction dispatch(event) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; // 表单控件过滤 默认表单控件不触发快捷键\n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)的command键值224，在Webkit(Chrome)中保持一致\n  // Webkit左右 command 键值不一样\n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // 将特殊字符的key注册到 hotkeys 上\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } // 将 modifierMap 里面的修饰键绑定到 event 中\n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  } // 获取范围 默认为 `all`\n\n\n  var scope = getScope(); // 对任何快捷键都需要做的处理\n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope);\n      }\n    }\n  } // key 不在 _handlers 中返回\n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // 记录当前按键键值\n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // 找到处理内容\n          eventHandler(event, record, scope);\n        }\n      }\n    }\n  }\n} // 判断 element 是否已经绑定事件\n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // 需要处理的快捷键列表\n\n  var mods = [];\n  var scope = 'all'; // scope默认为all，所有范围都有效\n\n  var element = document; // 快捷键事件绑定节点\n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+'; // 对为设定范围的判断\n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // 对于每个快捷键进行处理\n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // 按键列表\n\n    mods = []; // 如果是组合快捷键取得组合快捷键\n\n    if (key.length > 1) mods = getMods(_modifier, key); // 将非修饰键转化为键码\n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *表示匹配所有快捷键\n    // 判断key是否在_handlers中，不在就赋一个空数组\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey\n    });\n  } // 在全局document上设置快捷键\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e);\n    });\n    addEvent(window, 'focus', function () {\n      _downKeys = [];\n    });\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e);\n      clearModifier(e);\n    });\n  }\n}\n\nvar _api = {\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  unbind: unbind\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport default hotkeys;\n","/* eslint-disable brace-style */\r\nimport hotkeys from 'hotkeys-js';\r\nimport {\r\n  __hasClass, __addClass, __removeClass, __dispatchEvent,\r\n} from '../lib/utils';\r\nimport Cviceni from './cviceni';\r\n\r\n// Description:\r\n// ======================================================\r\n// Navigation\r\n// consists from:\r\n// - prev/next button\r\n// - history\r\n// affects:\r\n// - slides\r\n// - pagination (generated in build process)\r\n// - prev/next button (moved inside slides)\r\n// - history\r\n// ——————————————————————————————————————————————————————\r\n// .slide CSS classes\r\n// - .active-slide\r\n// - .previous-slide\r\n// - .next-slide\r\n// - .visited-slide\r\n// - .half-slide-active (.slide is on the right when is .active-slide)\r\n// - .half-slide-previous (.slide is on the left when .previous-slide)\r\n// - .previous-to-active-slide (mark the most recently viewed .slide)\r\n// ======================================================\r\n\r\nexport default class Navigation extends Cviceni {\r\n  constructor() {\r\n    super();\r\n    // bind the context of an event listener\r\n    this._clickPrev = this._clickPrev.bind(this);\r\n    this._clickNext = this._clickNext.bind(this);\r\n\r\n    // fix tabbing\r\n    Array.from(document.querySelectorAll('div')).forEach(($div) => {\r\n      $div.setAttribute('tabindex', -1);\r\n      $div.style.outline = '0';\r\n    });\r\n\r\n    // History (back & forward buttons)\r\n    // A popstate event is dispatched to the window each time the active history entry changes between two history entries for the same document. If the activated history entry was created by a call to history.pushState(), or was affected by a call to history.replaceState(), the popstate event's state property contains a copy of the history entry's state object.\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\r\n    window.onpopstate = (event) => {\r\n      this.analytics = HISTORYLAB.analytics.data;\r\n      const $activeSlide = this.$cviceni.querySelector('.active-slide');\r\n      const activeSlideIndex = $activeSlide.getAttribute('data-slide-index');\r\n      const $newSlide = this.$cviceni.querySelector(window.location.hash);\r\n      const newSlideIndex = $newSlide.getAttribute('data-slide-index');\r\n\r\n      // check if the slide in url was already visited to prevent user to see slides which wasnt visited yet\r\n      // AND\r\n      // check if the new slide isnt tha same one\r\n      if (($newSlide && __hasClass($newSlide, 'visited-slide')) && ($newSlide.id !== $activeSlide.id)) {\r\n        __removeClass($activeSlide, 'active-slide');\r\n\r\n        Navigation.enableTabControlOnActiveSlide($newSlide, $activeSlide);\r\n\r\n        // zaznam do analytiky:\r\n        this.analytics.activity.length += 1;\r\n        this.analytics.activity.steps[this.analytics.activity.length] = {\r\n          slide: parseInt(newSlideIndex, 10),\r\n          time: Math.round(performance.now()) - this.analytics.time.start.time,\r\n          date: Date.now(),\r\n          interaction: {\r\n            type: event.type,\r\n          },\r\n        };\r\n\r\n        // going back\r\n        if (activeSlideIndex > newSlideIndex) {\r\n          this.analytics.activity.steps[this.analytics.activity.length].type = 'P';\r\n          this.analytics.activity.steps[this.analytics.activity.length].interaction.name = 'back';\r\n\r\n          // slide\r\n          __addClass($activeSlide, 'next-slide');\r\n          __removeClass($newSlide, 'previous-slide');\r\n\r\n          if (__hasClass($newSlide, 'previous-to-active-slide')) {\r\n            __removeClass($newSlide, 'previous-to-active-slide');\r\n          }\r\n          if (__hasClass($newSlide.previousElementSibling, 'half-slide-previous')) {\r\n            __addClass($newSlide.previousElementSibling, 'previous-to-active-slide');\r\n          }\r\n        }\r\n        // going forward\r\n        else {\r\n          this.analytics.activity.steps[this.analytics.activity.length].type = 'D';\r\n          this.analytics.activity.steps[this.analytics.activity.length].interaction.name = 'forward';\r\n\r\n          // slides\r\n          __addClass($activeSlide, 'previous-slide');\r\n          __removeClass($newSlide, 'next-slide');\r\n\r\n          if (__hasClass($activeSlide, 'half-slide-previous')) {\r\n            __addClass($activeSlide, 'previous-to-active-slide');\r\n          }\r\n          if (__hasClass($activeSlide.previousElementSibling, 'previous-to-active-slide')) {\r\n            __removeClass($activeSlide.previousElementSibling, 'previous-to-active-slide');\r\n          }\r\n        }\r\n\r\n        __addClass($newSlide, 'active-slide');\r\n\r\n        // dispatch event that slide has changed\r\n        __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($newSlide) } });\r\n\r\n      } else if (!__hasClass($newSlide, 'visited-slide')) {\r\n        const activeSlideHash = `#${$activeSlide.id}`;\r\n        if (window.history.replaceState) {\r\n          window.history.replaceState(null, null, activeSlideHash);\r\n        } else {\r\n          window.location.hash = activeSlideHash;\r\n        }\r\n      }\r\n\r\n      HISTORYLAB.analytics.data = this.analytics;\r\n    };\r\n  }\r\n\r\n  getActiveSlide($slide = false) {\r\n    const $slideActive = $slide || this.$cviceni.querySelector('.active-slide');\r\n\r\n    return {\r\n      element: $slideActive,\r\n      id: $slideActive.id,\r\n      index: parseInt($slideActive.getAttribute('data-slide-index'), 10),\r\n    };\r\n  }\r\n\r\n  static enableTabControlOnActiveSlide($activeSlide, $oldSlide) {\r\n    const $activeTextareas = $activeSlide.querySelectorAll('textarea');\r\n    const $oldTextareas = $oldSlide.querySelectorAll('textarea');\r\n\r\n    Array.from($oldTextareas).forEach(($textarea) => {\r\n      $textarea.setAttribute('tabindex', -1);\r\n    });\r\n    Array.from($activeTextareas).forEach(($textarea) => {\r\n      $textarea.setAttribute('tabindex', 0);\r\n    });\r\n  }\r\n\r\n  loopNavButtons() {\r\n    this.nav.$prev.forEach(($prev) => {\r\n      $prev.addEventListener('click', this._clickPrev, false);\r\n    });\r\n    this.nav.$next.forEach(($next) => {\r\n      $next.addEventListener('click', this._clickNext, false);\r\n    });\r\n\r\n    hotkeys('left, shift+space, shift+enter', (event) => {\r\n      this._clickPrev(event);\r\n    });\r\n    hotkeys('right, space, enter', (event) => {\r\n      this._clickNext(event);\r\n    });\r\n\r\n    this.buttonFeedbackOnHover();\r\n  }\r\n\r\n  _both() {\r\n    this.header();\r\n    Navigation.hideAllOpenComments();\r\n  }\r\n\r\n  static hideAllOpenComments() {\r\n    const $comments = document.querySelectorAll('.comment:not(.hidden)');\r\n\r\n    Array.from($comments).forEach((item) => {\r\n      item.getElementsByClassName('close')[0].click();\r\n    });\r\n  }\r\n\r\n  _clickPrev(event) {\r\n    // get active slide on every click\r\n    const $activeSlide = this.$cviceni.querySelector('.active-slide');\r\n    const $previousSlide = $activeSlide.previousElementSibling;\r\n    const $previousToActiveSlide = this.$cviceni.querySelector('.previous-to-active-slide');\r\n    // zkontroluj zda nějaký další slajd existuje\r\n    if (!__hasClass($previousSlide, 'slide')) {\r\n      // pokud ne\r\n      // __addClass($prev, 'is-hidden');\r\n    } else {\r\n      // pokud ano\r\n\r\n      // slides\r\n      __removeClass($activeSlide, 'active-slide');\r\n      __addClass($activeSlide, 'next-slide');\r\n\r\n      __removeClass($previousSlide, 'previous-slide');\r\n      __addClass($previousSlide, 'active-slide');\r\n\r\n      Navigation.enableTabControlOnActiveSlide($previousSlide, $activeSlide);\r\n\r\n      if ($previousToActiveSlide) {\r\n        __removeClass($previousToActiveSlide, 'previous-to-active-slide');\r\n      }\r\n      if ($previousSlide.previousElementSibling) {\r\n        __addClass($previousSlide.previousElementSibling, 'previous-to-active-slide');\r\n      }\r\n    }\r\n\r\n    // dispatch event that slide has changed\r\n    __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($previousSlide) } });\r\n\r\n    // zaznam do analytiky:\r\n    this.analytics = HISTORYLAB.analytics.data;\r\n    this.analytics.activity.length += 1;\r\n    this.analytics.activity.steps[this.analytics.activity.length] = {\r\n      type: 'P',\r\n      slide: parseInt($previousSlide.getAttribute('data-slide-index'), 10),\r\n      time: Math.round(performance.now()) - this.analytics.time.start.time,\r\n      date: Date.now(),\r\n    };\r\n    const interaction = {\r\n      type: event.type,\r\n    };\r\n    switch (event.type) {\r\n      case 'click':\r\n        interaction.name = event.currentTarget.getAttribute('data-feedback-button') ? 'feedback' : 'navigation';\r\n        break;\r\n\r\n      case 'keydown':\r\n        interaction.name = event.code;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    this.analytics.activity.steps[this.analytics.activity.length].interaction = interaction;\r\n    HISTORYLAB.analytics.data = this.analytics;\r\n\r\n    this._both();\r\n    // save slide to history\r\n    this._saveActiveSlideToHistory();\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  _clickNext(event) {\r\n    // get active slide on every click\r\n    const $activeSlide = this.$cviceni.querySelector('.active-slide');\r\n    // const $previousSlide = $activeSlide.prevElementSibling;\r\n    const $previousToActiveSlide = this.$cviceni.querySelector('.previous-to-active-slide');\r\n    const $nextSlide = $activeSlide.nextElementSibling;\r\n    // const $previousSlide = $activeSlide.previousElementSibling;\r\n\r\n    // zkontroluj zda nějaký další slajd existuje\r\n    if (!__hasClass($nextSlide, 'slide')) {\r\n      // pokud ne\r\n      // __addClass($next, 'is-hidden');\r\n    } else {\r\n      // pokud ano\r\n\r\n      // slides\r\n      __removeClass($activeSlide, 'active-slide');\r\n      __addClass($activeSlide, 'previous-slide previous-to-active-slide');\r\n\r\n      __removeClass($nextSlide, 'next-slide');\r\n      __addClass($nextSlide, 'active-slide visited-slide');\r\n\r\n      Navigation.enableTabControlOnActiveSlide($nextSlide, $activeSlide);\r\n\r\n      if ($previousToActiveSlide) {\r\n        __removeClass($previousToActiveSlide, 'previous-to-active-slide');\r\n      }\r\n    }\r\n\r\n    // dispatch event that slide has changed\r\n    __dispatchEvent(this.$cviceni, 'slide.change', {}, { slide: { active: this.getActiveSlide($nextSlide) } });\r\n\r\n    // zaznam do analytiky:\r\n    this.analytics = HISTORYLAB.analytics.data;\r\n    this.analytics.activity.length += 1;\r\n    this.analytics.activity.steps[this.analytics.activity.length] = {\r\n      type: 'D',\r\n      slide: parseInt($nextSlide.getAttribute('data-slide-index'), 10),\r\n      time: Math.round(performance.now()) - this.analytics.time.start.time,\r\n      date: Date.now(),\r\n    };\r\n    const interaction = {\r\n      type: event.type,\r\n    };\r\n    switch (event.type) {\r\n      case 'click':\r\n        interaction.name = event.currentTarget.getAttribute('data-feedback-button') ? 'feedback' : 'navigation';\r\n        break;\r\n\r\n      case 'keydown':\r\n        interaction.name = event.code;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    this.analytics.activity.steps[this.analytics.activity.length].interaction = interaction;\r\n    HISTORYLAB.analytics.data = this.analytics;\r\n\r\n    this._both();\r\n    // save slide to history\r\n    this._saveActiveSlideToHistory();\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  buttonFeedbackOnHover() {\r\n    Array.from(this.$buttonFeedbacks).forEach(($buttonFeedback) => {\r\n      const $buttonFeedbackText = $buttonFeedback.querySelector('span');\r\n      const textDefault = JSON.parse($buttonFeedback.getAttribute('data-feedback-button'));\r\n      let textCache = '';\r\n\r\n      $buttonFeedback.addEventListener('mouseenter', (event) => {\r\n        textCache = $buttonFeedbackText.innerText;\r\n        const width = $buttonFeedback.offsetWidth;\r\n\r\n        if (textCache !== textDefault) {\r\n          $buttonFeedbackText.innerText = textDefault.hover;\r\n\r\n          if (width > $buttonFeedback.offsetWidth) {\r\n            $buttonFeedback.style.width = `${width}px`;\r\n          }\r\n        }\r\n      });\r\n\r\n      $buttonFeedback.addEventListener('mouseleave', (event) => {\r\n        if (textCache !== textDefault) {\r\n          $buttonFeedback.style.width = '';\r\n          $buttonFeedbackText.innerText = textCache;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  _saveActiveSlideToHistory() {\r\n    const activeSlideHash = `#${this.$cviceni.querySelector('.active-slide').id}`;\r\n    // https://stackoverflow.com/a/14690177/2631749\r\n    if (window.history.pushState) {\r\n      window.history.pushState(null, null, activeSlideHash);\r\n    } else {\r\n      window.location.hash = activeSlideHash;\r\n    }\r\n  }\r\n}\r\n","import { __addClass, __hasClass } from '../lib/utils';\r\nimport Cviceni from './cviceni';\r\n\r\nexport default class Slides extends Cviceni {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  // distribute CSS classesto all .slide elements\r\n  slides() {\r\n    for (let i = 0; i < this.$slides.length; i += 1) {\r\n      this.$slides[i].setAttribute('data-slide-index', i);\r\n\r\n      if (i === 0) {\r\n        // __addClass(this.$slides[i], 'active-slide visited-slide');\r\n\r\n        // set ID of the first slide as a hash to URL\r\n        // history.replaceState() operates exactly like history.pushState() except that replaceState() modifies the current history entry instead of creating a new one.\r\n        const activeSlideHash = `#${this.$slides[i].id}`;\r\n        if (window.history.replaceState) {\r\n          window.history.replaceState(null, null, activeSlideHash);\r\n        } else {\r\n          window.location.hash = activeSlideHash;\r\n        }\r\n\r\n      } else {\r\n        __addClass(this.$slides[i], 'next-slide');\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  pagination() {\r\n    const slides = this.$slides.length;\r\n\r\n    Array.from(this.$slides).forEach(($slide, index) => {\r\n      const $zadani = $slide.querySelector('.zadani');\r\n      const $h1 = $zadani.querySelector('h1');\r\n      const $pagination = document.createElement('div');\r\n      $pagination.classList.add('pagination');\r\n      $pagination.innerHTML = `${index + 1}/${slides}`;\r\n      $zadani.insertBefore($pagination, $h1);\r\n    });\r\n  }\r\n\r\n}\r\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\nexport default escapeHtmlChar;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import escapeHtmlChar from './_escapeHtmlChar.js';\nimport toString from './toString.js';\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nexport default escape;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nexport default unescapeHtmlChar;\n","import toString from './toString.js';\nimport unescapeHtmlChar from './_unescapeHtmlChar.js';\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nexport default unescape;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseKeys from './_baseKeys.js';\nimport getTag from './_getTag.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLike from './isArrayLike.js';\nimport isBuffer from './isBuffer.js';\nimport isPrototype from './_isPrototype.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default isEmpty;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","/* eslint-disable brace-style */\r\nimport escape from 'lodash-es/escape';\r\nimport unescape from 'lodash-es/unescape';\r\nimport isEmpty from 'lodash-es/isEmpty';\r\nimport Cviceni from './cviceni';\r\n\r\nexport default class SaveData extends Cviceni {\r\n  constructor() {\r\n    super();\r\n\r\n    this.$formExport = this.$exportSlide.querySelector('#form-to-send');\r\n\r\n    // bind the context of an event listener\r\n    this._clickListener = this._clickListener.bind(this);\r\n    this.beforeSendForm = this.beforeSendForm.bind(this);\r\n  }\r\n\r\n  init() {\r\n    switch (this.isDone) {\r\n      // cvičení je vyplněné\r\n      case true:\r\n        // dát celému dokumentu classu .is-done\r\n        document.documentElement.classList.add('is-done');\r\n        document.documentElement.setAttribute('data-state', 'done');\r\n\r\n        // zobrazit obsah, pro cvičení v prohlížecím módu\r\n        Array.from(document.querySelectorAll('.show-when-done')).forEach(($showWhenDone) => {\r\n          $showWhenDone.classList.remove('hidden');\r\n        });\r\n        // skrýt obsah, pro cvičení v prohlížecím módu\r\n        Array.from(document.querySelectorAll('.hide-when-done')).forEach(($hideWhenDone) => {\r\n          $hideWhenDone.classList.add('hidden');\r\n        });\r\n        break;\r\n\r\n      // cvičení není vyplněné\r\n      case false:\r\n        this.addEventListeners();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  addEventListeners() {\r\n    this.loopSaveButtons();\r\n    this.$exportSlide.querySelector('button[type=\"submit\"]').addEventListener('click', this.beforeSendForm);\r\n  }\r\n\r\n  beforeSendForm(event) {\r\n    this.analytics = HISTORYLAB.analytics.data;\r\n    this.analytics.time.end = {\r\n      time: Math.round(performance.now()),\r\n      date: Date.now(),\r\n    };\r\n    this.analytics.time.timeSpent = HISTORYLAB.analytics.timeSpent;\r\n    this.analytics.activity.length += 1;\r\n    this.analytics.activity.steps[this.analytics.activity.length] = {\r\n      type: 'K',\r\n      time: this.analytics.time.end.time,\r\n      date: Date.now(),\r\n    };\r\n    HISTORYLAB.analytics.data = this.analytics;\r\n\r\n    document.getElementById('odpoved_id').value = this.data;\r\n    // document.getElementById('analytika_id').value = this.data;\r\n    // console.log(this.data);\r\n    // event.preventDefault();\r\n  }\r\n\r\n  // check for user data\r\n  checkForData(importedData) {\r\n    if (isEmpty(importedData)) {\r\n      console.log('nemáme uživatelská data');\r\n    } else {\r\n      console.log('máme uživatelská data');\r\n      // load & render user data\r\n      // console.log('user.data', importedData.user.data);\r\n      this.data = importedData.user.data;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  // buttons which saves the current state of user data\r\n  loopSaveButtons() {\r\n    for (let i = 0; i < this.$saveButtons.length; i += 1) {\r\n      this.$saveButtons[i].addEventListener('click', this._clickListener, false);\r\n    }\r\n  }\r\n\r\n  // print data to console for debug\r\n  _clickListener() {\r\n    // console.log(this.data);\r\n  }\r\n\r\n  getExerciseMode() {\r\n    const $checked = this.$formSlide.querySelector('input[name=\"exercise-mode\"]:checked');\r\n\r\n    // pokud máme informaci z backendu\r\n    if (HISTORYLAB.import.hasOwnProperty('exerciseMode')) {\r\n      return HISTORYLAB.import.exerciseMode;\r\n    }\r\n    // pokud máme informaci z frontendu\r\n    if ($checked) {\r\n      return parseInt($checked.value, 10);\r\n    }\r\n    // pokud nemáme nic tak nezvoleno nic\r\n    return -1;\r\n  }\r\n\r\n  // save data\r\n  get data() {\r\n    // data object\r\n    const data = {};\r\n    // informace o cviceni a záznamu\r\n    data.entryId = HISTORYLAB.import.entryid || 0;\r\n    data.lmsHash = HISTORYLAB.import.lmsHash || '0';\r\n    data.exercise = {\r\n      id: parseInt(this.$cviceni.getAttribute('data-exercise-id'), 10),\r\n      slug: this.$cviceni.getAttribute('id'),\r\n      name: document.querySelector('#header .title').innerText || '',\r\n      version: {\r\n        global: document.documentElement.getAttribute('data-version-global'),\r\n        content: parseInt(document.documentElement.getAttribute('data-version-content'), 10),\r\n      },\r\n      mode: this.getExerciseMode(),\r\n    };\r\n\r\n\r\n    // data o a od uživatele\r\n    data.user = {\r\n      // data z LMS nebo z formuláře\r\n      form: {\r\n        name: HISTORYLAB.import.name || this.$formSlide.querySelector('#user-name').value,\r\n        email: HISTORYLAB.import.user || this.$formSlide.querySelector('#user-email').value,\r\n        institution: HISTORYLAB.import.institution || this.$formSlide.querySelector('#user-institution').value,\r\n        teacher: HISTORYLAB.import.teacher || this.$formSlide.querySelector('#teacher-email').value,\r\n        group: {\r\n          members: data.exercise.mode === 1 ? Array.from(this.$formSlide.querySelectorAll('#form-group-members input')).map($groupMember => $groupMember.value) : [],\r\n        },\r\n      },\r\n      // analytická data\r\n      analytics: HISTORYLAB.analytics.data || {},\r\n      // uživatelská data\r\n      data: [],\r\n    };\r\n\r\n    // loop through all user data fields\r\n    const $dataFields = document.querySelectorAll('[data-save]');\r\n    data.user.data = Array.from($dataFields).map(($dataField) => {\r\n      const dataField = {\r\n        // default properties of dataField object\r\n        id: '',\r\n        node: '',\r\n        value: '',\r\n      };\r\n\r\n      dataField.id = $dataField.getAttribute('id');\r\n      dataField.node = $dataField.tagName;\r\n\r\n      // check for element type and get its appropriate value\r\n      // TEXTAREA\r\n      if (dataField.node === 'TEXTAREA') {\r\n        if ($dataField.hasAttribute('data-textarea-target') || $dataField.hasAttribute('data-svg-textarea-target')) {\r\n          // if there is data-attribute\r\n          if ($dataField.value) {\r\n            dataField.value = escape($dataField.value);\r\n          } else {\r\n            dataField.value = null;\r\n          }\r\n          // if TEXTAREA in SVG, save also ID of that SVG\r\n          if ($dataField.getAttribute('data-svg-textarea-target')) {\r\n            dataField.svg = $dataField.getAttribute('data-svg-textarea-target');\r\n          }\r\n        } else {\r\n          // if no data-attribute\r\n          console.log(dataField.id);\r\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\r\n        }\r\n      }\r\n      // INPUT\r\n      else if (dataField.node === 'INPUT') {\r\n        if ($dataField.getAttribute('data-save') === 'value') {\r\n          // if there is data-attribute\r\n          if ($dataField.value) {\r\n            dataField.value = escape($dataField.value);\r\n          } else {\r\n            dataField.value = null;\r\n          }\r\n        } else {\r\n          // if no data-attribute\r\n          console.log(dataField.id);\r\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\r\n        }\r\n      }\r\n      // SELECT\r\n      else if (dataField.node === 'SELECT') {\r\n        if ($dataField.getAttribute('data-save') === 'value') {\r\n          // if there is data-attribute\r\n          if ($dataField.value) {\r\n\r\n            dataField.value = $dataField.value;\r\n            for (let i = 0; i < $dataField.options.length; i += 1) {\r\n              if ($dataField.options[i].innerHTML === $dataField.value) {\r\n                dataField.selectedIndex = i;\r\n                break;\r\n              }\r\n            }\r\n\r\n          } else {\r\n            dataField.value = null;\r\n          }\r\n        } else {\r\n          // if no data-attribute\r\n          console.log(dataField.id);\r\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\r\n        }\r\n      }\r\n      // SVG\r\n      else if (dataField.node === 'svg') {\r\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\r\n        if ($dataField.hasAttribute('data-svg-target')) {\r\n          // if data-attribute\r\n          dataField.value = SaveData.b64EncodeUnicode($dataField.innerHTML);\r\n\r\n          const $paths = Array.from($dataField.querySelectorAll('[data-svg-path]')).length;\r\n          const $comments = Array.from($dataField.querySelectorAll('[data-svg-textarea-target]')).length;\r\n          const $points = Array.from($dataField.querySelectorAll('[data-svg-circle]')).length;\r\n\r\n          dataField.analytics = {\r\n            comments: $comments > 0 ? $comments : false,\r\n            paths: $paths > 0 ? $paths : false,\r\n            points: $points > 0 ? $points : false,\r\n          };\r\n\r\n        } else {\r\n          // if no data-attribute\r\n          console.log(dataField.id);\r\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\r\n        }\r\n      }\r\n      // DIV\r\n      else if (dataField.node === 'DIV') {\r\n        // Řazení\r\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\r\n        if ($dataField.hasAttribute('data-sortable-target')) {\r\n          // if data-attribute\r\n          dataField.value = SaveData.b64EncodeUnicode($dataField.innerHTML);\r\n        }\r\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\r\n        // Analytická tabulka\r\n        else if ($dataField.getAttribute('data-target') === 'analyticka-tabulka') {\r\n          // if data-attribute\r\n          // console.log(dataField.id);\r\n          // console.log($dataField.innerHTML);\r\n          dataField.value = SaveData.b64EncodeUnicode($dataField.innerHTML);\r\n        }\r\n        // TODO: remove this condition data-save=\"html\" should be sufficient universal rule atm\r\n        // Analytická tabulka\r\n        else if ($dataField.getAttribute('data-target') === 'editor') {\r\n          // if data-attribute\r\n          // console.log(dataField.id);\r\n          // console.log($dataField.innerHTML);\r\n          dataField.value = SaveData.b64EncodeUnicode($dataField.innerHTML);\r\n        }\r\n        // Anything else with HTML content to save\r\n        else if ($dataField.getAttribute('data-save') === 'html') {\r\n          // if data-attribute\r\n          // console.log(dataField.id);\r\n          // console.log($dataField.innerHTML);\r\n          dataField.value = SaveData.b64EncodeUnicode($dataField.innerHTML);\r\n        }\r\n        else {\r\n          // if no data-attribute\r\n          console.log(dataField.id);\r\n          console.log(`Not registered ${dataField.node}. Please, add data-attribute.`);\r\n        }\r\n      }\r\n\r\n      return dataField;\r\n    });\r\n\r\n    // save what browser and os user used\r\n    data.user.analytics.client = platform.description;\r\n\r\n    // differentiate saved JSON\r\n    data.done = true;\r\n\r\n    return JSON.stringify(data);\r\n  }\r\n\r\n  // load data\r\n  set data(importedData) {\r\n    // Necessary order for rendering user data\r\n    // 1.loop — Render DOM (svg, div)\r\n    // 2.loop — Load VALUES (textarea)\r\n    const loops = 2;\r\n\r\n    for (let loopIndex = 0; loopIndex < loops; loopIndex += 1) {\r\n      SaveData.renderUserData(importedData, loopIndex);\r\n    }\r\n  }\r\n\r\n  static renderUserData(data, loopIndex) {\r\n    data.forEach((dataField) => {\r\n      const $element = document.getElementById(dataField.id);\r\n      switch (loopIndex) {\r\n        // 1.loop — Render DOM (svg, div)\r\n        // needs to be decoded from Base64\r\n        // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/atob\r\n        case 0:\r\n\r\n          switch (dataField.node) {\r\n            case 'svg':\r\n              $element.innerHTML = SaveData.b64DecodeUnicode(dataField.value);\r\n              break;\r\n            case 'DIV':\r\n              $element.innerHTML = SaveData.b64DecodeUnicode(dataField.value);\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n\r\n          break;\r\n\r\n        // 2.loop — Load VALUES (textarea, input, select)\r\n        case 1:\r\n\r\n          switch (dataField.node) {\r\n            case 'INPUT':\r\n              $element.value = unescape(dataField.value || ' ');\r\n              $element.readOnly = true;\r\n              break;\r\n            case 'SELECT':\r\n              $element.selectedIndex = dataField.selectedIndex || 0;\r\n              $element.value = dataField.value || ' ';\r\n              $element.disabled = true;\r\n              break;\r\n            case 'TEXTAREA':\r\n              $element.value = unescape(dataField.value || ' ');\r\n              $element.readOnly = true;\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\r\n  static b64EncodeUnicode(str) {\r\n    // first we use encodeURIComponent to get percent-encoded UTF-8,\r\n    // then we convert the percent encodings into raw bytes which\r\n    // can be fed into btoa.\r\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\r\n      // eslint-disable-next-line arrow-body-style\r\n      (match, p1) => {\r\n        return String.fromCharCode(`0x${p1}`);\r\n      }));\r\n  }\r\n\r\n  static b64DecodeUnicode(str) {\r\n    // Going backwards: from bytestream, to percent-encoding, to original string.\r\n    // eslint-disable-next-line arrow-body-style\r\n    return decodeURIComponent(atob(str).split('').map((c) => {\r\n      return `%${(`00${c.charCodeAt(0).toString(16)}`).slice(-2)}`;\r\n    }).join(''));\r\n  }\r\n\r\n}\r\n","import Cviceni from './cviceni';\r\n\r\nexport default class Analytics extends Cviceni {\r\n  constructor() {\r\n    super();\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.analytics.time.start = {\r\n      time: Math.round(performance.now()),\r\n      date: Date.now(),\r\n    };\r\n    this.analytics.activity.steps[this.analytics.activity.length] = {\r\n      type: 'S',\r\n      time: this.analytics.time.start.time,\r\n      date: Date.now(),\r\n    };\r\n  }\r\n\r\n  get data() {\r\n    return this.analytics;\r\n  }\r\n\r\n  set data(analytics) {\r\n    this.analytics = analytics;\r\n  }\r\n\r\n  get timeSpent() {\r\n    return this.analytics.time.end.time - this.analytics.time.start.time;\r\n  }\r\n}\r\n","import Cviceni from './cviceni';\r\nimport { __getQueryStringParams } from '../lib/utils';\r\n\r\n\r\n// javascript pro první a poslední slajd\r\nexport default class Forms extends Cviceni {\r\n  constructor() {\r\n    super();\r\n\r\n    this.$form = this.$formSlide.querySelector('#form');\r\n    this.$userEmail = this.$form.querySelector('#user-email');\r\n    this.$groupMembers = this.$form.querySelector('#form-group-members');\r\n    this.$modes = this.$form.querySelectorAll('[data-exercise-mode]');\r\n    this.$button = this.$formSlide.querySelector('[data-nav-button=\"next\"]');\r\n    this.$showUserEmail = document.querySelectorAll('[data-form=\"about-user-email\"]');\r\n    this.$formExport = this.$exportSlide.querySelector('#form-to-send');\r\n\r\n    this.isFromLMS = ((typeof this.import.lmsHash === 'string') && (this.import.lmsHash.length > 0));\r\n    this.groupMembers = 1;\r\n    this.urlParameters = {};\r\n  }\r\n\r\n  init() {\r\n    this.urlParameters = __getQueryStringParams();\r\n    this.$button.classList.remove('button-hidden');\r\n\r\n    switch (this.isDone) {\r\n      // cvičení je v prohlížecím módu\r\n      case true:\r\n        this.whenDone();\r\n        break;\r\n\r\n      // cvičení je ve vyplňovacím módu\r\n      case false:\r\n\r\n        // check if we have user in URL and prefill the form\r\n        if (this.urlParameters.email) {\r\n          this.$userEmail.value = this.urlParameters.email;\r\n          this.$userEmail.readOnly = true;\r\n          this.$userEmail.classList.add('is-readonly');\r\n        }\r\n\r\n        this.addEventListenersToExerciseModeRadioButtons();\r\n        this.addGroupMemberField();\r\n\r\n        if (this.isFromLMS) {\r\n          this.whenFromLMS();\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  whenFromLMS() {\r\n    // schovat prvky nepotřebné při příchodu z LMS\r\n    Array.from(this.$formSlide.querySelectorAll('.hide-when-from-lms')).forEach(($hideForLms) => {\r\n      $hideForLms.classList.add('hidden');\r\n    });\r\n\r\n    // pokud skupinová práce\r\n    if (this.import.exerciseMode === 1) {\r\n\r\n      // if (this.import.user.length > 0) {\r\n      //   this.$form.classList.add('hidden');\r\n\r\n      //   Array.from(this.$form.querySelector('.hide-when-from-lms-with-user')).forEach(($hideForLmsWithUser) => {\r\n      //     $hideForLmsWithUser.classList.add('hidden');\r\n      //   });\r\n\r\n      //   this.$button.innerText = 'Pustit se do cvičení!';\r\n      // }\r\n\r\n      // zobraz formulář, protože potřebujeme zobrazit pole pro další členy skupiny\r\n      this.$form.classList.remove('hidden');\r\n      this.$groupMembers.classList.remove('hidden');\r\n\r\n    }\r\n    // else if (this.import.user.length > 0) {\r\n    //   this.$form.classList.add('hidden');\r\n\r\n    //   Array.from(this.$form.querySelector('.hide-when-from-lms-with-user')).forEach(($hideForLmsWithUser) => {\r\n    //     $hideForLmsWithUser.classList.add('hidden');\r\n    //   });\r\n\r\n    //   this.$button.innerText = 'Pustit se do cvičení!';\r\n    // }\r\n  }\r\n\r\n  whenDone() {\r\n    // vypsat email uživatele\r\n    Array.from(this.$showUserEmail).forEach(($userEmail) => {\r\n      $userEmail.innerText += ` ${this.import.user || 'neznámý uživatel'}`;\r\n    });\r\n\r\n    // vypsat alternativní copy tlačítka\r\n    this.$button.innerText = this.$button.getAttribute('data-done');\r\n\r\n    // schovat formulář z prvního slajdu\r\n    this.$form.classList.add('hidden');\r\n    // schovat a zneaktivnit formulář z posledního slajdu\r\n    this.$formExport.setAttribute('action', '');\r\n    this.$formExport.classList.add('hidden');\r\n  }\r\n\r\n  addEventListenersToExerciseModeRadioButtons() {\r\n    Array.from(this.$modes).forEach(($mode) => {\r\n      $mode.addEventListener('change', () => {\r\n        if ($mode.value === '1') {\r\n          this.$groupMembers.classList.remove('hidden');\r\n        } else {\r\n          this.$groupMembers.classList.add('hidden');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  addGroupMemberField() {\r\n    const $addGroupMember = this.$groupMembers.querySelector('[data-form=\"group-member-add\"]');\r\n    const $masterGroupMember = this.$groupMembers.querySelector('[data-form=\"group-member-master\"]');\r\n    const $parentElement = $addGroupMember.parentElement;\r\n\r\n    $addGroupMember.addEventListener('click', (event) => {\r\n      const $groupMember = $masterGroupMember.cloneNode();\r\n\r\n      $groupMember.value = '';\r\n      $groupMember.id = $groupMember.id.replace('1', this.groupMembers += 1);\r\n      $groupMember.removeAttribute('data-form');\r\n\r\n      $parentElement.insertBefore($groupMember, $addGroupMember);\r\n\r\n      $groupMember.focus({ preventScroll: false });\r\n\r\n      event.preventDefault();\r\n    });\r\n  }\r\n}\r\n","export const controllerPromenyMestaZlin = () => {\r\n\r\n  const $buttonNexts = document.querySelectorAll('[data-nav-button=\"next\"');\r\n  const $razeniContainer = document.getElementById('patrani-razeni-1');\r\n  const $razeniContainerItems = $razeniContainer.getElementsByClassName('sortable-item');\r\n\r\n  // use data-slide-index=\"8\" isntead of ID becasue slug can change.. let see if it is more reliable\r\n  const $svgContainer = document.querySelector('[data-slide-index=\"8\"]').getElementsByClassName('sources')[0];\r\n  const $svgContainerItems = $svgContainer.getElementsByClassName('source');\r\n\r\n  function changeOrderOnNavButtonClick($buttonNext) {\r\n    $buttonNext.addEventListener('click', (e) => {\r\n\r\n      Array.from($razeniContainerItems).forEach((referenceItem, indexReferenceItem) => {\r\n\r\n        const thisImageSrcParts = referenceItem.getElementsByClassName('source-image')[0].getAttribute('src').split(\"/\");\r\n        const thisImageName = thisImageSrcParts[thisImageSrcParts.length-1];\r\n\r\n        // loop over svg images and find the one with the same src\r\n        Array.from($svgContainerItems).forEach((svgItem, indexSvgItem) => {\r\n\r\n          const getSvgThisImageParts = svgItem.getElementsByTagName('image')[0].getAttribute('xlink:href').split(\"/\");\r\n          const thisSvgImageName = getSvgThisImageParts[getSvgThisImageParts.length-1];\r\n\r\n          if (thisSvgImageName == thisImageName) {\r\n            $svgContainer.appendChild(svgItem);\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  Array.from($buttonNexts).forEach($buttonNext => changeOrderOnNavButtonClick($buttonNext));\r\n\r\n};\r\n","export const controllerPromenyObceAbertamy = () => {\r\n\r\n  const $buttonNexts = document.querySelectorAll('[data-nav-button=\"next\"');\r\n  const $razeniContainer = document.getElementById('promeny-obce-abertamy-razeni-1');\r\n  const $razeniContainerItems = $razeniContainer.getElementsByClassName('sortable-item');\r\n\r\n  // use data-slide-index=\"8\" isntead of ID becasue slug can change.. let see if it is more reliable\r\n  const $svgContainer = document.querySelector('[data-slide-index=\"3\"]').getElementsByClassName('sources')[0];\r\n  const $svgContainerItems = $svgContainer.getElementsByClassName('source');\r\n\r\n  function changeOrderOnNavButtonClick($buttonNext) {\r\n    $buttonNext.addEventListener('click', (e) => {\r\n\r\n      Array.from($razeniContainerItems).forEach((referenceItem, indexReferenceItem) => {\r\n\r\n        const thisImageSrcParts = referenceItem.getElementsByClassName('source-image')[0].getAttribute('src').split(\"/\");\r\n        const thisImageName = thisImageSrcParts[thisImageSrcParts.length-1];\r\n\r\n        // loop over svg images and find the one with the same src\r\n        Array.from($svgContainerItems).forEach((svgItem, indexSvgItem) => {\r\n\r\n          const getSvgThisImageParts = svgItem.getElementsByTagName('image')[0].getAttribute('xlink:href').split(\"/\");\r\n          const thisSvgImageName = getSvgThisImageParts[getSvgThisImageParts.length-1];\r\n\r\n          if (thisSvgImageName == thisImageName) {\r\n            $svgContainer.appendChild(svgItem);\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  Array.from($buttonNexts).forEach($buttonNext => changeOrderOnNavButtonClick($buttonNext));\r\n\r\n};\r\n\r\n\r\n","import domLoad from './dom-load';\r\nimport windowLoad from './window-load';\r\nimport controllerLoad from './controller-load';\r\n\r\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\r\ndocument.addEventListener('DOMContentLoaded', domLoad, false);\r\ndocument.addEventListener('DOMContentLoaded', controllerLoad, false);\r\n// The load event fires when all files have finished loading from all resources, including ads and images.\r\nwindow.addEventListener('load', windowLoad, false);\r\n","import idleTimer from './idle-timer';\r\nimport Cviceni from './cviceni';\r\nimport Navigation from './navigation';\r\nimport Slides from './slides';\r\nimport SaveData from './save-data';\r\nimport Analytics from './analytics';\r\nimport Forms from './forms';\r\n\r\nconst domLoad = () => {\r\n  console.log('domLoad:cviceni');\r\n\r\n  // instantiate\r\n  HISTORYLAB.analytics = new Analytics();\r\n  const cviceni = new Cviceni();\r\n  const navigation = new Navigation();\r\n  const slides = new Slides();\r\n  const data = new SaveData();\r\n  const forms = new Forms();\r\n\r\n  // run\r\n  navigation\r\n    .loopNavButtons();\r\n\r\n  slides\r\n    .slides();\r\n\r\n  data\r\n    .checkForData(HISTORYLAB.import.exerciseData || {})\r\n    .init();\r\n\r\n  cviceni\r\n    .header();\r\n\r\n  forms\r\n    .init();\r\n\r\n  idleTimer({\r\n    // function to fire after idle\r\n    callback: () => document.body.classList.add('is-idle'),\r\n    // function to fire when active\r\n    activeCallback: () => document.body.classList.remove('is-idle'),\r\n    // Amount of time in milliseconds before becoming idle. default 60000\r\n    idleTime: 3000,\r\n  });\r\n};\r\n\r\nexport default domLoad;\r\n","/* eslint-disable func-names */\r\n/**\r\n * idleTimer\r\n *\r\n * If user is idle for idleTime fire callback\r\n *\r\n * @param {object} options\r\n *    - {function} callback - fired when user is idle\r\n *    - {function} activeCallback - fired when user is active\r\n *    - {Number} idleTime - time in milliseconds\r\n *\r\n * https://www.npmjs.com/package/idle-timer\r\n */\r\n\r\nexport default function idleTimer(options) {\r\n  // eslint-disable-next-line no-param-reassign\r\n  options = options || {};\r\n  const callback = options.callback || function () {};\r\n  const activeCallback = options.activeCallback || function () {};\r\n  const idleTime = options.idleTime || 60000;\r\n  let isActive = true;\r\n  let timer;\r\n\r\n  function idle() {\r\n    if (!isActive) return;\r\n    isActive = false;\r\n    callback();\r\n  }\r\n  function activate() {\r\n    if (!isActive) {\r\n      isActive = true;\r\n      activeCallback();\r\n    }\r\n    clearTimeout(timer);\r\n    timer = setTimeout(idle, idleTime);\r\n  }\r\n\r\n  function addOrRemoveEvents(addOrRemove) {\r\n    window[addOrRemove]('load', activate);\r\n    document[addOrRemove]('mousemove', activate);\r\n    document[addOrRemove]('scroll', activate);\r\n    document[addOrRemove]('keypress', activate);\r\n    document[addOrRemove]('click', activate);\r\n  }\r\n\r\n  function destroy() {\r\n    clearTimeout(timer);\r\n    addOrRemoveEvents('removeEventListener');\r\n  }\r\n\r\n  addOrRemoveEvents('addEventListener');\r\n  activate();\r\n\r\n  return {\r\n    activate,\r\n    destroy,\r\n    idle,\r\n  };\r\n}\r\n","import { controllerPromenyMestaZlin } from '../controllers/promeny-mesta-zlin/controller';\r\nimport { controllerPromenyObceAbertamy } from '../controllers/promeny-obce-abertamy/controller';\r\n\r\nconst controllerLoad = () => {\r\n\r\n  const pageControllerName = document.querySelector('main.cviceni').id;\r\n\r\n  // - inject:js\r\n\r\n  if (pageControllerName === 'promeny-mesta-zlin') {\r\n    controllerPromenyMestaZlin();\r\n  }\r\n\r\n\r\n  if (pageControllerName === 'promeny-obce-abertamy') {\r\n    controllerPromenyObceAbertamy();\r\n  }\r\n\r\n  // - end inject:js\r\n\r\n};\r\n\r\nexport default controllerLoad;\r\n","import Cviceni from './cviceni';\r\n\r\nconst windowLoad = () => {\r\n  console.log('windowLoad:cviceni');\r\n\r\n  // instantiate\r\n\r\n  // run\r\n  Cviceni\r\n    .loadingScreen();\r\n};\r\n\r\nexport default windowLoad;\r\n"],"names":["__dispatchEvent","$element","type","options","payload","event","name","data","defaults","bubbles","properties","Object","assign","CustomEvent","detail","__createNewCustomEvent","dispatchEvent","__hasClass","element","cls","classList","contains","className","indexOf","__addClass","elements","classes","_elements","_classes","document","querySelectorAll","tagName","split","i","length","add","j","console","log","__removeClass","remove","replace","RegExp","Cviceni","$cviceni","querySelector","$header","$saveButtons","$buttonFeedbacks","nav","$prev","Array","from","this","$next","$slides","$activeSlide","$formSlide","$exportSlide","HISTORYLAB","isDone","done","analytics","time","start","date","end","timeSpent","activity","steps","headerHeight","offsetHeight","y0","hideHeader","$item","y","scrollTop","_this","removeEventListener","addEventListener","$body","$loadingScreen","loaded","JSON","parse","getAttribute","innerText","h1","_typeof","obj","Symbol","iterator","constructor","prototype","isff","navigator","userAgent","toLowerCase","addEvent","object","method","attachEvent","concat","window","getMods","modifier","key","mods","slice","getKeys","keys","index","lastIndexOf","splice","_keyMap","backspace","tab","clear","enter","return","esc","escape","space","left","up","right","down","del","delete","ins","insert","home","pageup","pagedown","capslock","⇪",",",".","/","`","-","=",";","'","[","]","\\","_modifier","⇧","shift","⌥","alt","option","⌃","ctrl","control","⌘","cmd","command","modifierMap","16","18","17","91","shiftKey","ctrlKey","altKey","metaKey","_mods","_handlers","k","_downKeys","_scope","elementHasBindEvent","code","x","toUpperCase","charCodeAt","setScope","scope","getScope","eachUnbind","_ref","_ref$splitKey","splitKey","forEach","originKey","unbindKeys","len","lastKey","keyCode","map","record","a1","a2","arr1","arr2","isIndex","compareArray","eventHandler","handler","modifiersMatch","hasOwnProperty","call","shortcut","preventDefault","returnValue","stopPropagation","cancelBubble","dispatch","asterisk","which","charCode","hotkeys","filter","push","keyName","keyNum","e","keydown","keyup","_i","keyShortcut","_downKeysCurrent","a","sort","join","undefined","toString","isElementBind","clearModifier","_api","deleteScope","newScope","handlers","getPressedKeyCodes","isPressed","target","srcElement","flag","isContentEditable","readOnly","unbind","keysInfo","isArray","info","_len","arguments","args","_key","_hotkeys","noConflict","deep","Navigation","_clickPrev","bind","_clickNext","$div","setAttribute","style","outline","onpopstate","activeSlideIndex","$newSlide","location","hash","newSlideIndex","id","enableTabControlOnActiveSlide","slide","parseInt","Math","round","performance","now","Date","interaction","previousElementSibling","active","getActiveSlide","activeSlideHash","history","replaceState","$slide","$slideActive","_this2","buttonFeedbackOnHover","header","hideAllOpenComments","$previousSlide","$previousToActiveSlide","currentTarget","_both","_saveActiveSlideToHistory","$nextSlide","nextElementSibling","$buttonFeedback","$buttonFeedbackText","textDefault","textCache","width","offsetWidth","hover","pushState","$oldSlide","$activeTextareas","$oldTextareas","$textarea","$comments","item","getElementsByClassName","click","Slides","slides","$zadani","$h1","$pagination","createElement","innerHTML","insertBefore","basePropertyOf","escapeHtmlChar","&","<",">","\"","freeGlobal","global","freeSelf","self","root","Function","objectProto","nativeObjectToString","symToStringTag","toStringTag","baseGetTag","value","isOwn","tag","unmasked","result","getRawTag","objectToString","isObjectLike","symbolProto","symbolToString","baseToString","array","iteratee","arrayMap","isSymbol","reUnescapedHtml","reHasUnescapedHtml","source","string","test","unescapeHtmlChar","&amp;","&lt;","&gt;","&quot;","&#39;","reEscapedHtml","reHasEscapedHtml","unescape","isPrototype","Ctor","func","transform","nativeKeys","arg","isObject","isFunction","uid","coreJsData","maskSrcKey","exec","IE_PROTO","funcToString","toSource","reIsHostCtor","funcProto","reIsNative","baseIsNative","isMasked","getNative","getValue","DataView","Map","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","baseIsArguments","propertyIsEnumerable","isArguments","isLength","freeExports","exports","nodeType","freeModule","module","Buffer","isBuffer","typedArrayTags","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","baseUnary","isEmpty","isArrayLike","size","baseKeys","SaveData","$formExport","_clickListener","beforeSendForm","documentElement","$showWhenDone","$hideWhenDone","addEventListeners","loopSaveButtons","getElementById","importedData","user","$checked","exerciseMode","entryId","entryid","lmsHash","exercise","slug","version","content","mode","getExerciseMode","form","email","institution","teacher","group","members","$groupMember","$dataFields","$dataField","dataField","node","hasAttribute","svg","selectedIndex","b64EncodeUnicode","$paths","$points","comments","paths","points","client","platform","description","stringify","loopIndex","renderUserData","b64DecodeUnicode","disabled","str","btoa","encodeURIComponent","match","p1","String","fromCharCode","decodeURIComponent","atob","c","Analytics","init","Forms","$form","$userEmail","$groupMembers","$modes","$button","$showUserEmail","isFromLMS","groupMembers","urlParameters","parameters","search","substr","b","p","__getQueryStringParams","whenDone","addEventListenersToExerciseModeRadioButtons","addGroupMemberField","whenFromLMS","$hideForLms","$mode","_this3","$addGroupMember","$masterGroupMember","$parentElement","parentElement","cloneNode","_this4","removeAttribute","focus","preventScroll","controllerPromenyMestaZlin","$buttonNexts","$razeniContainerItems","$svgContainer","$svgContainerItems","$buttonNext","referenceItem","indexReferenceItem","thisImageSrcParts","thisImageName","svgItem","indexSvgItem","getSvgThisImageParts","getElementsByTagName","appendChild","changeOrderOnNavButtonClick","controllerPromenyObceAbertamy","cviceni","navigation","forms","loopNavButtons","checkForData","exerciseData","timer","callback","activeCallback","idleTime","isActive","idle","activate","clearTimeout","setTimeout","addOrRemoveEvents","addOrRemove","idleTimer","body","pageControllerName","loadingScreen"],"mappings":"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"}